(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_edit_edit_module_ts"],{9955:(B,te,p)=>{"use strict";p.r(te),p.d(te,{EditEntryComponent:()=>m});var w=p(3839),e=p(9736),L=p(8953),y=p(9039);function l(x,M){1&x&&y._UZ(0,"app-edit-dialog-main")}function T(x,M){1&x&&y.YNc(0,l,1,0,"app-edit-dialog-main"),2&x&&y.um2(0,M.loaded?0:-1)}let m=(()=>{class x{constructor(R){this.editInitializerService=R}ngOnInit(){this.viewModel$=(0,w.a)([this.editInitializerService.loaded$]).pipe((0,e.U)(([R])=>({loaded:R}))),this.editInitializerService.fetchFormData()}static#e=this.\u0275fac=function(G){return new(G||x)(y.Y36(L.i2))};static#t=this.\u0275cmp=y.Xpm({type:x,selectors:[["app-edit-entry"]],features:[y._Bn([L.ed,L.i2])],decls:3,vars:3,template:function(G,Y){if(1&G&&(y._UZ(0,"router-outlet"),y.YNc(1,T,1,1),y.ALo(2,"async")),2&G){let V;y.xp6(1),y.um2(1,(V=y.lcZ(2,1,Y.viewModel$))?1:-1,V)}}})}return x})()},152:(B,te,p)=>{"use strict";p.r(te),p.d(te,{EditModule:()=>kv});var w=p(3517),e=p(9039),L=p(9877),y=p(6482),l=p(7835),T=p(257),m=p(554),x=p(1527),M=p(5043),R=p(274),G=p(655),Y=p(4520),V=p(3274),A=p(6575),ae=p(4565),N=p(895),Ce=p(3170),we=p(5635),ve=p(5918),pe=p(5998),Z=p(8849),ie=p(1268),z=p(2501),De=p(9674),k=p(6515);const O=["ngx-mat-calendar-body",""];function f(i,o){if(1&i&&(e.TgZ(0,"tr",3)(1,"td",4),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t.numCols),e.xp6(1),e.hij(" ",t.label," ")}}function v(i,o){if(1&i&&(e.TgZ(0,"td",4),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t._firstRowOffset),e.xp6(1),e.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function u(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",8)(1,"button",9),e.NdJ("click",function(a){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d._cellClicked(s,a))})("focus",function(a){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d._emitActiveDateChange(s,a))}),e.TgZ(2,"span",10),e._uU(3),e.qZA(),e._UZ(4,"span",11),e.qZA()()}if(2&i){const t=o.$implicit,n=o.index,a=e.oxw().index,r=e.oxw();e.Udp("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),e.uIk("data-mat-row",a)("data-mat-col",n),e.xp6(1),e.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",r._isActiveCell(a,n))("mat-calendar-body-range-start",r._isRangeStart(t.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",r._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(t.compareValue,a,n))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(t.compareValue,a,n))("mat-calendar-body-comparison-start",r._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",r._isInPreview(t.compareValue)),e.Q6J("ngClass",t.cssClasses)("tabindex",r._isActiveCell(a,n)?0:-1),e.uIk("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",r._isSelected(t.compareValue))("aria-current",r.todayValue===t.compareValue?"date":null)("aria-describedby",r._getDescribedby(t.compareValue)),e.xp6(1),e.ekj("mat-calendar-body-selected",r._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",r.todayValue===t.compareValue),e.xp6(1),e.hij(" ",t.displayValue," ")}}function c(i,o){if(1&i&&(e.TgZ(0,"tr",5),e.YNc(1,v,2,6,"td",6)(2,u,5,48,"td",7),e.qZA()),2&i){const t=o.$implicit,n=o.index,a=e.oxw();e.xp6(1),e.Q6J("ngIf",0===n&&a._firstRowOffset),e.xp6(1),e.Q6J("ngForOf",t)}}function h(i,o){if(1&i&&(e.TgZ(0,"th",5)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",7),e._uU(4),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.long),e.xp6(2),e.Oqu(t.narrow)}}const _=["*"];function S(i,o){}function E(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"ngx-mat-month-view",5),e.NdJ("activeDateChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.activeDate=a)})("_userSelection",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._dateSelected(a))})("dragStarted",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._dragStarted(a))})("dragEnded",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._dragEnded(a))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function $(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"ngx-mat-year-view",6),e.NdJ("activeDateChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.activeDate=a)})("monthSelected",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._monthSelectedInYearView(a))})("selectedChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._goToDateInView(a,"month"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function H(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"ngx-mat-multi-year-view",7),e.NdJ("activeDateChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.activeDate=a)})("yearSelected",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._yearSelectedInMultiYearView(a))})("selectedChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._goToDateInView(a,"year"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function de(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.change("second",!0))}),e.TgZ(2,"mat-icon"),e._uU(3,"expand_less"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled||t.disableMinute)}}function fe(i,o){1&i&&e._UZ(0,"td",6)}function he(i,o){1&i&&e._UZ(0,"td")}function ce(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.change("hour",!0))}),e.TgZ(3,"mat-icon"),e._uU(4,"expand_less"),e.qZA()()(),e._UZ(5,"td"),e.TgZ(6,"td")(7,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.change("minute",!0))}),e.TgZ(8,"mat-icon"),e._uU(9,"expand_less"),e.qZA()()(),e._UZ(10,"td"),e.YNc(11,de,4,1,"td",3)(12,fe,1,0,"td",8)(13,he,1,0,"td",3),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.disabled),e.xp6(5),e.Q6J("disabled",t.disabled||t.disableMinute),e.xp6(4),e.Q6J("ngIf",t.showSeconds),e.xp6(1),e.Q6J("ngIf",t.enableMeridian),e.xp6(1),e.Q6J("ngIf",t.enableMeridian)}}function Ne(i,o){1&i&&(e.TgZ(0,"td",6),e._uU(1,":"),e.qZA())}function Pe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"mat-form-field",4)(2,"input",11),e.NdJ("input",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.formatInput(a.target))})("keydown.ArrowUp",function(a){return e.CHM(t),e.oxw().change("second",!0),e.KtG(a.preventDefault())})("keydown.ArrowDown",function(a){return e.CHM(t),e.oxw().change("second",!1),e.KtG(a.preventDefault())})("blur",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.change("second"))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("color",t.color)}}function qe(i,o){1&i&&e._UZ(0,"td",6)}function Je(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",12)(1,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleMeridian())}),e._uU(2),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("color",t.color)("disabled",t.disabled),e.xp6(1),e.hij(" ",t.meridian," ")}}function tt(i,o){1&i&&e._UZ(0,"td")}function Xe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.change("second",!1))}),e.TgZ(2,"mat-icon"),e._uU(3,"expand_more"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled||t.disableMinute)}}function ht(i,o){1&i&&e._UZ(0,"td",6)}function Ct(i,o){1&i&&e._UZ(0,"td")}function bt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.change("hour",!1))}),e.TgZ(3,"mat-icon"),e._uU(4,"expand_more"),e.qZA()()(),e._UZ(5,"td"),e.TgZ(6,"td")(7,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.change("minute",!1))}),e.TgZ(8,"mat-icon"),e._uU(9,"expand_more"),e.qZA()()(),e.YNc(10,tt,1,0,"td",3)(11,Xe,4,1,"td",3)(12,ht,1,0,"td",8)(13,Ct,1,0,"td",3),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.disabled),e.xp6(5),e.Q6J("disabled",t.disabled||t.disableMinute),e.xp6(3),e.Q6J("ngIf",t.showSeconds),e.xp6(1),e.Q6J("ngIf",t.showSeconds),e.xp6(1),e.Q6J("ngIf",t.enableMeridian),e.xp6(1),e.Q6J("ngIf",t.enableMeridian)}}function je(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"ngx-mat-timepicker",7),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r._modelTime=a)})("ngModelChange",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onTimeChanged(a))}),e.qZA()()}if(2&i){const t=e.oxw(2);e.ekj("disable-seconds",!t.datepicker._showSeconds),e.xp6(1),e.Q6J("showSpinners",t.datepicker._showSpinners)("showSeconds",t.datepicker._showSeconds)("disabled",t.datepicker._disabled||!t._modelTime)("stepHour",t.datepicker._stepHour)("stepMinute",t.datepicker._stepMinute)("stepSecond",t.datepicker._stepSecond)("ngModel",t._modelTime)("color",t.datepicker._color)("enableMeridian",t.datepicker._enableMeridian)("disableMinute",t.datepicker._disableMinute)}}function $n(i,o){if(1&i&&(e.ynx(0),e.YNc(1,je,2,12,"div",5),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.datepicker._hideTime)}}function Wt(i,o){}const U=new e.OlP("ngx-mat-date-formats");class j extends T._A{isSameTime(o,t){return null==o||null==t||this.getHour(o)===this.getHour(t)&&this.getMinute(o)===this.getMinute(t)&&this.getSecond(o)===this.getSecond(t)}copyTime(o,t){this.setHour(o,this.getHour(t)),this.setMinute(o,this.getMinute(t)),this.setSecond(o,this.getSecond(t))}compareDateWithTime(o,t,n){let a=super.compareDate(o,t)||this.getHour(o)-this.getHour(t)||this.getMinute(o)-this.getMinute(t);return n&&(a=a||this.getSecond(o)-this.getSecond(t)),a}setTimeByDefaultValues(o,t){if(!Array.isArray(t))throw Error("@Input DefaultTime should be an array");this.setHour(o,t[0]||0),this.setMinute(o,t[1]||0),this.setSecond(o,t[2]||0)}}class ee{constructor(o,t){this.start=o,this.end=t}}let ue=(()=>{class i{constructor(t,n){this.selection=t,this._adapter=n,this._selectionChanged=new L.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,n){const a=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:n,oldValue:a})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return i.\u0275fac=function(t){e.$Z()},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),Qe=(()=>{class i extends ue{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new i(this._adapter);return t.updateSelection(this.selection,this),t}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(j))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const ye={provide:ue,deps:[[new e.FiY,new e.tp0,ue],j],useFactory:function ke(i,o){return i||new Qe(o)}};function We(i){return Error(`NgxMatDatetimePicker: No provider found for ${i}. You must import one of the following modules at your application root: NgxMatNativeDateModule, NgxMatMomentDateModule, or provide a custom implementation.`)}new e.FiY,new e.tp0;class Nt{constructor(o,t,n,a,r={},s=o,d){this.value=o,this.displayValue=t,this.ariaLabel=n,this.enabled=a,this.cssClasses=r,this.compareValue=s,this.rawValue=d}}let Tr=1,Zt=(()=>{class i{constructor(t,n){this._elementRef=t,this._ngZone=n,this._platform=(0,e.f3M)(V.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new e.vpe,this.previewChange=new e.vpe,this.activeDateChange=new e.vpe,this.dragStarted=new e.vpe,this.dragEnded=new e.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=a=>{if(this._skipNextFocus&&"focus"===a.type)this._skipNextFocus=!1;else if(a.target&&this.isRange){const r=this._getCellFromElement(a.target);r&&this._ngZone.run(()=>this.previewChange.emit({value:r.enabled?r:null,event:a}))}},this._touchmoveHandler=a=>{if(!this.isRange)return;const r=Da(a),s=r?this._getCellFromElement(r):null;r!==a.target&&(this._didDragSinceMouseDown=!0),Vn(a.target)&&a.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:a}))},this._leaveHandler=a=>{null!==this.previewEnd&&this.isRange&&("blur"!==a.type&&(this._didDragSinceMouseDown=!0),a.target&&this._getCellFromElement(a.target)&&(!a.relatedTarget||!this._getCellFromElement(a.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:a})))},this._mousedownHandler=a=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const r=a.target&&this._getCellFromElement(a.target);!r||!this._isInRange(r.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:r.rawValue,event:a})})},this._mouseupHandler=a=>{if(!this.isRange)return;const r=Vn(a.target);r?r.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const s=this._getCellFromElement(r);this.dragEnded.emit({value:s?.rawValue??null,event:a})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:a})})},this._touchendHandler=a=>{const r=Da(a);r&&this._mouseupHandler({target:r})},this._id="mat-calendar-body-"+Tr++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,n.runOutsideAngular(()=>{const a=t.nativeElement;a.addEventListener("mouseenter",this._enterHandler,!0),a.addEventListener("touchmove",this._touchmoveHandler,!0),a.addEventListener("focus",this._enterHandler,!0),a.addEventListener("mouseleave",this._leaveHandler,!0),a.addEventListener("blur",this._leaveHandler,!0),a.addEventListener("mousedown",this._mousedownHandler),a.addEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(t,n){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:n})}_emitActiveDateChange(t,n){t.enabled&&this.activeDateChange.emit({value:t.value,event:n})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const n=t.numCols,{rows:a,numCols:r}=this;(t.rows||n)&&(this._firstRowOffset=a&&a.length&&a[0].length?r-a[0].length:0),(t.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),(n||!this._cellWidth)&&(this._cellWidth=100/r+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("touchmove",this._touchmoveHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0),t.removeEventListener("mousedown",this._mousedownHandler),t.removeEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,n){let a=t*this.numCols+n;return t&&(a-=this._firstRowOffset),a==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,x.q)(1)).subscribe(()=>{setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(t||(this._skipNextFocus=!0),n.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return Gn(t,this.startValue,this.endValue)}_isRangeEnd(t){return Hn(t,this.startValue,this.endValue)}_isInRange(t){return Un(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return Gn(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,n,a){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let r=this.rows[n][a-1];if(!r){const s=this.rows[n-1];r=s&&s[s.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(t,n,a){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let r=this.rows[n][a+1];if(!r){const s=this.rows[n+1];r=s&&s[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(t){return Hn(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return Un(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return Gn(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return Hn(t,this.previewStart,this.previewEnd)}_isInPreview(t){return Un(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){const n=Vn(t);if(n){const a=n.getAttribute("data-mat-row"),r=n.getAttribute("data-mat-col");if(a&&r)return this.rows[parseInt(a)][parseInt(r)]}return null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["","ngx-mat-calendar-body",""]],hostAttrs:[1,"ngx-mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[e.TTD],attrs:O,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,n){1&t&&(e.YNc(0,f,3,6,"tr",0)(1,c,3,2,"tr",1),e.TgZ(2,"label",2),e._uU(3),e.qZA(),e.TgZ(4,"label",2),e._uU(5),e.qZA()),2&t&&(e.Q6J("ngIf",n._firstRowOffset<n.labelMinRequiredCells),e.xp6(1),e.Q6J("ngForOf",n.rows),e.xp6(1),e.Q6J("id",n._startDateLabelId),e.xp6(1),e.hij(" ",n.startDateAccessibleName,"\n"),e.xp6(1),e.Q6J("id",n._endDateLabelId),e.xp6(1),e.hij(" ",n.endDateAccessibleName,"\n"))},dependencies:[A.mk,A.sg,A.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell:before,.mat-calendar-body-cell:after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range):before,.mat-calendar-body-range-start:after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start):before,.mat-calendar-body-comparison-start:after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range):before,[dir=rtl] .mat-calendar-body-range-start:after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start):before,[dir=rtl] .mat-calendar-body-comparison-start:after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0 999px 999px 0}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range):before,.mat-calendar-body-range-end:after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end):before,.mat-calendar-body-comparison-end:after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range):before,[dir=rtl] .mat-calendar-body-range-end:after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end):before,[dir=rtl] .mat-calendar-body-comparison-end:after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:999px 0 0 999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end:after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start:after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end:after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end:after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start:after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start:after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell:before,.cdk-high-contrast-active .mat-calendar-body-cell:after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range:before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start:before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end:before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start:before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start:before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end:before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end:before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range:before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start:before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start:before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end:before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end:before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),i})();function zn(i){return"TD"===i?.nodeName}function Vn(i){let o;return zn(i)?o=i:zn(i.parentNode)?o=i.parentNode:zn(i.parentNode?.parentNode)&&(o=i.parentNode.parentNode),null!=o?.getAttribute("data-mat-row")?o:null}function Gn(i,o,t){return null!==t&&o!==t&&i<t&&i===o}function Hn(i,o,t){return null!==o&&o!==t&&i>=o&&i===t}function Un(i,o,t,n){return n&&null!==o&&null!==t&&o!==t&&i>=o&&i<=t}function Da(i){const o=i.changedTouches[0];return document.elementFromPoint(o.clientX,o.clientY)}const pn=new e.OlP("NGX_MAT_DATE_RANGE_SELECTION_STRATEGY");new e.FiY,new e.tp0;let wa=(()=>{class i{constructor(t,n,a,r,s){if(this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=a,this._dir=r,this._rangeStrategy=s,this._rerenderSubscription=y.w0.EMPTY,this.activeDrag=null,this.selectedChange=new e.vpe,this._userSelection=new e.vpe,this.dragStarted=new e.vpe,this.dragEnded=new e.vpe,this.activeDateChange=new e.vpe,!this._dateAdapter)throw We("NgxMatDateAdapter");if(!this._dateFormats)throw We("NGX_MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const n=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof ee?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,M.O)(null)).subscribe(()=>this._init())}ngOnChanges(t){const n=t.comparisonStart||t.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const n=t.value,a=this._getDateFromDayOfMonth(n);let r,s;this._selected instanceof ee?(r=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):r=s=this._getDateInCurrentMonth(this._selected),(r!==n||s!==n)&&this.selectedChange.emit(a),this._userSelection.emit({value:a,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const a=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,a=this._isRtl();switch(t.keyCode){case m.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case m.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case m.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case m.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case m.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case m.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case m.Ku:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case m.VM:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case m.K5:case m.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case m.hY:return void(null!=this._previewEnd&&!(0,m.Vb)(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===m.L_||t.keyCode===m.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:n}){if(this._rangeStrategy){const a=n?n.rawValue:null,r=this._rangeStrategy.createPreview(a,this.selected,t);if(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this.activeDrag&&a){const s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,a,t);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:n??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow");let r=this._dateAdapter.getDayOfWeekNames("long").map((s,d)=>({long:s,narrow:n[d]}));this._weekdays=r.slice(t).concat(r.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let a=0,r=this._firstWeekOffset;a<t;a++,r++){7==r&&(this._weeks.push([]),r=0);const s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),d=this._shouldEnableDate(s),g=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),b=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new Nt(a+1,n[a],g,d,b,this._getCellCompareValue(s),s))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,n){return!(!t||!n||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(n)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(n))}_getCellCompareValue(t){if(t){const n=this._dateAdapter.getYear(t),a=this._dateAdapter.getMonth(t),r=this._dateAdapter.getDate(t);return new Date(n,a,r).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof ee?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(U,8),e.Y36(j,8),e.Y36(ae.Is,8),e.Y36(pn,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ngx-mat-month-view"]],viewQuery:function(t,n){if(1&t&&e.Gf(Zt,5),2&t){let a;e.iGM(a=e.CRH())&&(n._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["ngxMatMonthView"],features:[e.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["ngx-mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(t,n){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e.YNc(3,h,5,2,"th",2),e.qZA(),e.TgZ(4,"tr"),e._UZ(5,"th",3),e.qZA()(),e.TgZ(6,"tbody",4),e.NdJ("selectedValueChange",function(r){return n._dateSelected(r)})("activeDateChange",function(r){return n._updateActiveDate(r)})("previewChange",function(r){return n._previewChanged(r)})("dragStarted",function(r){return n.dragStarted.emit(r)})("dragEnded",function(r){return n._dragEnded(r)})("keyup",function(r){return n._handleCalendarBodyKeyup(r)})("keydown",function(r){return n._handleCalendarBodyKeydown(r)}),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",n._weekdays),e.xp6(3),e.Q6J("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName))},dependencies:[A.sg,Zt],encapsulation:2,changeDetection:0}),i})();const ct=24;let Ma=(()=>{class i{constructor(t,n,a){if(this._changeDetectorRef=t,this._dateAdapter=n,this._dir=a,this._rerenderSubscription=y.w0.EMPTY,this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.activeDateChange=new e.vpe,!this._dateAdapter)throw We("NgxMatDateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate;const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),Aa(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof ee?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,M.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const n=this._dateAdapter.getYear(this._activeDate)-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let a=0,r=[];a<ct;a++)r.push(n+a),4==r.length&&(this._years.push(r.map(s=>this._createCellForYear(s))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const n=t.value,a=this._dateAdapter.createDate(n,0,1),r=this._getDateFromYear(n);this.yearSelected.emit(a),this.selectedChange.emit(r)}_updateActiveDate(t){const a=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,a=this._isRtl();switch(t.keyCode){case m.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case m.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case m.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case m.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case m.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case m.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ct-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case m.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-ct:-ct);break;case m.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*ct:ct);break;case m.K5:case m.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===m.L_||t.keyCode===m.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const n=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,n,1));return this._dateAdapter.createDate(t,n,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForYear(t){const n=this._dateAdapter.createDate(t,0,1),a=this._dateAdapter.getYearName(n),r=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new Nt(t,a,a,this._shouldEnableYear(t),r)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let a=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof ee){const n=t.start||t.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(j,8),e.Y36(ae.Is,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ngx-mat-multi-year-view"]],viewQuery:function(t,n){if(1&t&&e.Gf(Zt,5),2&t){let a;e.iGM(a=e.CRH())&&(n._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["ngxMatMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["ngx-mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,n){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(r){return n._yearSelected(r)})("activeDateChange",function(r){return n._updateActiveDate(r)})("keyup",function(r){return n._handleCalendarBodyKeyup(r)})("keydown",function(r){return n._handleCalendarBodyKeydown(r)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[Zt],encapsulation:2,changeDetection:0}),i})();function Aa(i,o,t,n,a){const r=i.getYear(o),s=i.getYear(t),d=ka(i,n,a);return Math.floor((r-d)/ct)===Math.floor((s-d)/ct)}function Kt(i,o,t,n){return function Or(i,o){return(i%o+o)%o}(i.getYear(o)-ka(i,t,n),ct)}function ka(i,o,t){let n=0;return t?n=i.getYear(t)-ct+1:o&&(n=i.getYear(o)),n}let Ta,Sa=(()=>{class i{constructor(t,n,a,r){if(this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=a,this._dir=r,this._rerenderSubscription=y.w0.EMPTY,this.selectedChange=new e.vpe,this.monthSelected=new e.vpe,this.activeDateChange=new e.vpe,!this._dateAdapter)throw We("NgxMatDateAdapter");if(!this._dateFormats)throw We("NGX_MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate;const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof ee?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,M.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const n=t.value,a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(a);const r=this._getDateFromMonth(n);this.selectedChange.emit(r)}_updateActiveDate(t){const a=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,a=this._isRtl();switch(t.keyCode){case m.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case m.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case m.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case m.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case m.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case m.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case m.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case m.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case m.K5:case m.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===m.L_||t.keyCode===m.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(a=>this._createCellForMonth(a,t[a]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),a=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForMonth(t,n){const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),r=this._dateAdapter.format(a,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(a,"year"):void 0;return new Nt(t,n.toLocaleUpperCase(),r,this._shouldEnableMonth(t),s)}_shouldEnableMonth(t){const n=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(n,t)||this._isYearAndMonthBeforeMinDate(n,t))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(n,t,1);this._dateAdapter.getMonth(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(t,n){if(this.maxDate){const a=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return t>a||t===a&&n>r}return!1}_isYearAndMonthBeforeMinDate(t,n){if(this.minDate){const a=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return t<a||t===a&&n<r}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof ee?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(U,8),e.Y36(j,8),e.Y36(ae.Is,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ngx-mat-year-view"]],viewQuery:function(t,n){if(1&t&&e.Gf(Zt,5),2&t){let a;e.iGM(a=e.CRH())&&(n._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["ngxMatYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["ngx-mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,n){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(r){return n._monthSelected(r)})("activeDateChange",function(r){return n._updateActiveDate(r)})("keyup",function(r){return n._handleCalendarBodyKeyup(r)})("keydown",function(r){return n._handleCalendarBodyKeydown(r)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[Zt],encapsulation:2,changeDetection:0}),i})(),gn=(()=>{class i{constructor(){this.changes=new L.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,n){return`${t} \u2013 ${n}`}formatYearRangeLabel(t,n){return`${t} to ${n}`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Lr=1,Ir=(()=>{class i{constructor(t,n,a,r,s){this._intl=t,this.calendar=n,this._dateAdapter=a,this._dateFormats=r,this._id="mat-calendar-header-"+Lr++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-ct)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:ct)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,n){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(n):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n):Aa(this._dateAdapter,t,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const n=this._dateAdapter.getYear(this.calendar.activeDate)-Kt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),a=n+ct-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1))]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(gn),e.Y36((0,e.Gpc)(()=>Jn)),e.Y36(j,8),e.Y36(U,8),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ngx-mat-calendar-header"]],exportAs:["ngxMatCalendarHeader"],ngContentSelectors:_,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return n.currentPeriodClicked()}),e.TgZ(3,"span",3),e._uU(4),e.qZA(),e.O4$(),e.TgZ(5,"svg",4),e._UZ(6,"polygon",5),e.qZA()(),e.kcU(),e._UZ(7,"div",6),e.Hsn(8),e.TgZ(9,"button",7),e.NdJ("click",function(){return n.previousClicked()}),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return n.nextClicked()}),e.qZA()()(),e.TgZ(11,"label",9),e._uU(12),e.qZA()),2&t&&(e.xp6(2),e.uIk("aria-label",n.periodButtonLabel)("aria-describedby",n._periodButtonLabelId),e.xp6(2),e.Oqu(n.periodButtonText),e.xp6(1),e.ekj("mat-calendar-invert","month"!==n.calendar.currentView),e.xp6(4),e.Q6J("disabled",!n.previousEnabled()),e.uIk("aria-label",n.prevButtonLabel),e.xp6(1),e.Q6J("disabled",!n.nextEnabled()),e.uIk("aria-label",n.nextButtonLabel),e.xp6(1),e.Q6J("id",n._periodButtonLabelId),e.xp6(1),e.Oqu(n.periodButtonDescription))},dependencies:[N.lW,N.RK],encapsulation:2,changeDetection:0}),i})(),Jn=(()=>{class i{constructor(t,n,a,r){if(this._dateAdapter=n,this._dateFormats=a,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.viewChanged=new e.vpe(!0),this._userSelection=new e.vpe,this._userDragDrop=new e.vpe,this._activeDrag=null,this.stateChanges=new L.x,!this._dateAdapter)throw We("NgxMatDateAdapter");if(!this._dateFormats)throw We("NGX_MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe(()=>{r.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof ee?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const n=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}ngAfterContentInit(){this._calendarHeaderPortal=new w.C5(this.headerComponent||Ir),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const n=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,a=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,r=n||a||t.dateFilter;if(r&&!r.firstChange){const s=this._getCurrentViewComponent();s&&(this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){t.value&&this.selected&&this._dateAdapter.copyTime(t.value,this.selected);const n=t.value;(this.selected instanceof ee||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,n){this.activeDate=t,this.currentView=n}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(gn),e.Y36(j,8),e.Y36(U,8),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ngx-mat-calendar"]],viewQuery:function(t,n){if(1&t&&(e.Gf(wa,5),e.Gf(Sa,5),e.Gf(Ma,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.monthView=a.first),e.iGM(a=e.CRH())&&(n.yearView=a.first),e.iGM(a=e.CRH())&&(n.multiYearView=a.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["ngxMatCalendar"],features:[e._Bn([ye]),e.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,n){1&t&&(e.YNc(0,S,0,0,"ng-template",0),e.TgZ(1,"div",1),e.YNc(2,E,1,11,"ngx-mat-month-view",2)(3,$,1,6,"ngx-mat-year-view",3)(4,H,1,6,"ngx-mat-multi-year-view",4),e.qZA()),2&t&&(e.Q6J("cdkPortalOutlet",n._calendarHeaderPortal),e.xp6(1),e.Q6J("ngSwitch",n.currentView),e.xp6(1),e.Q6J("ngSwitchCase","month"),e.xp6(1),e.Q6J("ngSwitchCase","year"),e.xp6(1),e.Q6J("ngSwitchCase","multi-year"))},dependencies:[A.RF,A.n9,Ce.kH,w.Pl,wa,Sa,Ma],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0}.mat-calendar-content{padding:0 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button:after,.mat-calendar-next-button:after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button:after{border-left-width:2px;transform:translate(2px) rotate(-45deg)}.mat-calendar-next-button:after{border-right-width:2px;transform:translate(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider:after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content:before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator:before{content:""}.mat-calendar-hidden-label{display:none}\n'],encapsulation:2,changeDetection:0}),i})();try{Ta=typeof Intl<"u"}catch{Ta=!1}function Pr(i){return jn(i,!0)}function Ea(i){return i.nodeType===Node.ELEMENT_NODE}function jn(i,o){if(Ea(i)&&o){const n=(i.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((a,r)=>{const s=document.getElementById(r);return s&&a.push(s),a},[]);if(n.length)return n.map(a=>jn(a,!1)).join(" ")}if(Ea(i)){const t=i.getAttribute("aria-label")?.trim();if(t)return t}if(function Rr(i){return"INPUT"===i.nodeName}(i)||function Nr(i){return"TEXTAREA"===i.nodeName}(i)){if(i.labels?.length)return Array.from(i.labels).map(a=>jn(a,!1)).join(" ");const t=i.getAttribute("placeholder")?.trim();if(t)return t;const n=i.getAttribute("title")?.trim();if(n)return n}return(i.textContent||"").replace(/\s+/g," ").trim()}!function Yr(i,o){const t=Array(i);for(let n=0;n<i;n++)t[n]=o(n)}(31,i=>String(i+1));class hn{constructor(o,t){this.target=o,this.targetElement=t,this.value=this.target.value}}let Oa=(()=>{class i{constructor(t,n,a){if(this._elementRef=t,this._dateAdapter=n,this._dateFormats=a,this.dateChange=new e.vpe,this.dateInput=new e.vpe,this.stateChanges=new L.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=y.w0.EMPTY,this._localeSubscription=y.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=r=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=r=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value)),d=this._getMinDate();return!d||!s||this._dateAdapter.compareDateWithTime(d,s)<=0?null:{matDatetimePickerMin:{min:d,actual:s}}},this._maxValidator=r=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value)),d=this._getMaxDate();return!d||!s||this._dateAdapter.compareDateWithTime(d,s)>=0?null:{matDatetimePickerMax:{max:d,actual:s}}},this._lastValueValid=!1,!this._dateAdapter)throw We("NgxMatDateAdapter");if(!this._dateFormats)throw We("NGX_MAT_DATE_FORMATS");this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const n=(0,pe.Ig)(t),a=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&a.blur&&a.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){const a=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(a),this._cvaOnChange(a),this._onTouched(),this._formatValue(a),this.dateInput.emit(new hn(this,this._elementRef.nativeElement)),this.dateChange.emit(new hn(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function Zr(i,o){const t=Object.keys(i);for(let n of t){const{previousValue:a,currentValue:r}=i[n];if(!o.isDateInstance(a)||!o.isDateInstance(r))return!0;if(!o.sameDate(a,r))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){(0,m.Vb)(t,"altKey")&&t.keyCode===m.JH&&["ctrlKey","shiftKey","metaKey"].every(r=>!(0,m.Vb)(t,r))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const n=this._lastValueValid;let a=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(a),a=this._dateAdapter.getValidDateOrNull(a);const r=this._dateAdapter.isSameTime(a,this.value),g=!(this._dateAdapter.sameDate(a,this.value)&&r);!a||g?this._cvaOnChange(a):(t&&!this.value&&this._cvaOnChange(a),n!==this._lastValueValid&&this._validatorOnChange()),g&&(this._assignValue(a),this.dateInput.emit(new hn(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new hn(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const n=this._getDateFilter();return!n||n(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(j,8),e.Y36(U,8))},i.\u0275dir=e.lG2({type:i,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[e.TTD]}),i})();const $r=new e.OlP("NGX_MAT_DATE_RANGE_INPUT_PARENT");(0,T.FD)((()=>{class i extends Oa{constructor(t,n,a,r,s,d,g,b){super(n,g,b),this._rangeInput=t,this._elementRef=n,this._defaultErrorStateMatcher=a,this._injector=r,this._parentForm=s,this._parentFormGroup=d,this._dir=(0,e.f3M)(ae.Is,{optional:!0})}ngOnInit(){const t=this._injector.get(Z.a5,null,{optional:!0,self:!0});t&&(this.ngControl=t)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){const t=this._elementRef.nativeElement,n=t.value;return n.length>0?n:t.placeholder}_onInput(t){super._onInput(t),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:t}){return t!==this._rangeInput._startInput&&t!==this._rangeInput._endInput}_assignValueProgrammatically(t){super._assignValueProgrammatically(t),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return Pr(this._elementRef.nativeElement)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36($r),e.Y36(e.SBq),e.Y36(T.rD),e.Y36(e.zs3),e.Y36(Z.F,8),e.Y36(Z.sg,8),e.Y36(j,8),e.Y36(U,8))},i.\u0275dir=e.lG2({type:i,features:[e.qOj]}),i})());const La={transformPanel:(0,z.X$)("transformPanel",[(0,z.eR)("void => enter-dropdown",(0,z.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,z.F4)([(0,z.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,z.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,z.eR)("void => enter-dialog",(0,z.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,z.F4)([(0,z.oB)({opacity:0,transform:"scale(0.7)"}),(0,z.oB)({transform:"none",opacity:1})]))),(0,z.eR)("* => void",(0,z.jt)("100ms linear",(0,z.oB)({opacity:0})))]),fadeInCalendar:(0,z.X$)("fadeInCalendar",[(0,z.SB)("void",(0,z.oB)({opacity:0})),(0,z.SB)("enter",(0,z.oB)({opacity:1})),(0,z.eR)("void => *",(0,z.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},At={minHour:0,maxHour:24,minMinute:0,maxMinute:60,minSecond:0,maxSecond:60,meridian:12},Vr=/[^0-9]/g,Ia=/^(2[0-3]|[0-1][0-9]|[0-9])$/,Gr=/^([0-5][0-9]|[0-9])$/,Hr=/^([0-5][0-9]|[0-9])$/;function mn(i){const o=i.toString();return o.length>1?o:`0${o}`}let Br=(()=>{class i{constructor(t,n,a){if(this._dateAdapter=t,this.cd=n,this.formBuilder=a,this.disabled=!1,this.showSpinners=!0,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.disableMinute=!1,this.enableMeridian=!1,this.color="primary",this.meridian="AM",this._onChange=()=>{},this._onTouched=()=>{},this._destroyed=new L.x,this.pattern=Ia,!this._dateAdapter)throw function Ur(i){return Error(`NgxMatDatetimePicker: No provider found for ${i}. You must import one of the following modules at your application root: NgxMatNativeDateModule, NgxMatMomentModule, or provide a custom implementation.`)}("NgxMatDateAdapter");this.form=this.formBuilder.group({hour:[{value:null,disabled:this.disabled},[Z.kI.required,Z.kI.pattern(Ia)]],minute:[{value:null,disabled:this.disabled},[Z.kI.required,Z.kI.pattern(Gr)]],second:[{value:null,disabled:this.disabled},[Z.kI.required,Z.kI.pattern(Hr)]]})}get hour(){let t=Number(this.form.controls.hour.value);return isNaN(t)?0:t}get minute(){let t=Number(this.form.controls.minute.value);return isNaN(t)?0:t}get second(){let t=Number(this.form.controls.second.value);return isNaN(t)?0:t}get valid(){return this.form.valid}ngOnInit(){this.form.valueChanges.pipe((0,R.R)(this._destroyed),(0,G.b)(400)).subscribe(t=>{this._updateModel()})}ngOnChanges(t){(t.disabled||t.disableMinute)&&this._setDisableStates()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}writeValue(t){null!=t&&(this._model=t,this._updateHourMinuteSecond())}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this.cd.markForCheck()}formatInput(t){t.value=t.value.replace(Vr,"")}toggleMeridian(){this.meridian="AM"===this.meridian?"PM":"AM",this.change("hour")}change(t,n){const a=this._getNextValueByProp(t,n);this.form.controls[t].setValue(mn(a),{onlySelf:!1,emitEvent:!1}),this._updateModel()}_updateHourMinuteSecond(){let t=this._dateAdapter.getHour(this._model);const n=this._dateAdapter.getMinute(this._model),a=this._dateAdapter.getSecond(this._model);this.enableMeridian&&(t>=At.meridian?(t-=At.meridian,this.meridian="PM"):this.meridian="AM",0===t&&(t=At.meridian)),this.form.patchValue({hour:mn(t),minute:mn(n),second:mn(a)},{emitEvent:!1})}_updateModel(){let t=this.hour;if(this.enableMeridian&&("AM"===this.meridian&&t===At.meridian?t=0:"PM"===this.meridian&&t!==At.meridian&&(t+=At.meridian)),this._model){const n=this._dateAdapter.clone(this._model);this._dateAdapter.setHour(n,t),this._dateAdapter.setMinute(n,this.minute),this._dateAdapter.setSecond(n,this.second),this._onChange(n)}}_getNextValueByProp(t,n){const a=t[0].toUpperCase()+t.slice(1),r=At[`min${a}`];let d,s=At[`max${a}`];return"hour"===t&&this.enableMeridian&&(s=At.meridian),null==n?(d=this[t]%s,"hour"===t&&this.enableMeridian&&0===d&&(d=s)):(d=n?this[t]+this[`step${a}`]:this[t]-this[`step${a}`],"hour"===t&&this.enableMeridian?(d%=s+1,0===d&&(d=n?1:s)):d%=s,d=n?d>s?d-s+r:d:d<r?d-r+s:d),d}_setDisableStates(){this.disabled?this.form.disable():(this.form.enable(),this.disableMinute&&(this.form.get("minute").disable(),this.showSeconds&&this.form.get("second").disable()))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(j,8),e.Y36(e.sBO),e.Y36(Z.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ngx-mat-timepicker"]],hostAttrs:[1,"ngx-mat-timepicker"],inputs:{disabled:"disabled",showSpinners:"showSpinners",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",disableMinute:"disableMinute",enableMeridian:"enableMeridian",defaultTime:"defaultTime",color:"color"},exportAs:["ngxMatTimepicker"],features:[e._Bn([{provide:Z.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0}]),e.TTD],decls:18,vars:9,consts:[[3,"formGroup"],[1,"ngx-mat-timepicker-table"],[1,"ngx-mat-timepicker-tbody"],[4,"ngIf"],["appearance","fill",3,"color"],["type","text","matInput","","maxlength","2","formControlName","hour",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],[1,"ngx-mat-timepicker-spacer"],["type","text","matInput","","maxlength","2","formControlName","minute",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],["class","ngx-mat-timepicker-spacer",4,"ngIf"],["class","ngx-mat-timepicker-meridian",4,"ngIf"],["type","button","mat-icon-button","","aria-label","expand_less icon",3,"disabled","click"],["type","text","matInput","","maxlength","2","formControlName","second",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],[1,"ngx-mat-timepicker-meridian"],["mat-button","","mat-stroked-button","",3,"color","disabled","click"],["type","button","mat-icon-button","","aria-label","expand_more icon",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"table",1)(2,"tbody",2),e.YNc(3,ce,14,5,"tr",3),e.TgZ(4,"tr")(5,"td")(6,"mat-form-field",4)(7,"input",5),e.NdJ("input",function(r){return n.formatInput(r.target)})("keydown.ArrowUp",function(r){return n.change("hour",!0),r.preventDefault()})("keydown.ArrowDown",function(r){return n.change("hour",!1),r.preventDefault()})("blur",function(){return n.change("hour")}),e.qZA()()(),e.TgZ(8,"td",6),e._uU(9,":"),e.qZA(),e.TgZ(10,"td")(11,"mat-form-field",4)(12,"input",7),e.NdJ("input",function(r){return n.formatInput(r.target)})("keydown.ArrowUp",function(r){return n.change("minute",!0),r.preventDefault()})("keydown.ArrowDown",function(r){return n.change("minute",!1),r.preventDefault()})("blur",function(){return n.change("minute")}),e.qZA()()(),e.YNc(13,Ne,2,0,"td",8)(14,Pe,3,1,"td",3)(15,qe,1,0,"td",8)(16,Je,3,3,"td",9),e.qZA(),e.YNc(17,bt,14,6,"tr",3),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("ngIf",n.showSpinners),e.xp6(3),e.Q6J("color",n.color),e.xp6(5),e.Q6J("color",n.color),e.xp6(2),e.Q6J("ngIf",n.showSeconds),e.xp6(1),e.Q6J("ngIf",n.showSeconds),e.xp6(1),e.Q6J("ngIf",n.enableMeridian),e.xp6(1),e.Q6J("ngIf",n.enableMeridian),e.xp6(1),e.Q6J("ngIf",n.showSpinners))},dependencies:[A.O5,De.Nt,ie.KE,Z._Y,Z.Fj,Z.JJ,Z.JL,Z.nD,Z.sg,Z.u,k.Hw,N.lW,N.RK],styles:[".ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td{text-align:center}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td.ngx-mat-timepicker-spacer{font-weight:700}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td.ngx-mat-timepicker-meridian .mdc-button{min-width:64px;line-height:36px;min-width:0;border-radius:50%;width:36px;height:36px;padding:0;flex-shrink:0}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-icon-button{height:24px;width:24px;line-height:24px;padding:0}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-icon-button .mat-icon{font-size:24px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field{width:24px;max-width:24px;text-align:center}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field.mat-focused .mdc-text-field--filled .mat-mdc-form-field-focus-overlay,.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field:hover .mdc-text-field--filled .mat-mdc-form-field-focus-overlay{background-color:transparent}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field .mdc-text-field--filled{background-color:transparent!important;padding:0!important}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field .mdc-text-field--filled .mat-mdc-form-field-infix{padding:4px 0;min-height:1px!important}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field .mdc-text-field--filled .mat-mdc-form-field-infix input{text-align:center;font-size:14px}\n"],encapsulation:2}),i})(),qr=0;const Ya=new e.OlP("ngx-mat-datepicker-scroll-strategy"),jr={provide:Ya,deps:[we.aV],useFactory:function Jr(i){return()=>i.scrollStrategies.reposition()}},Qr=(0,T.pj)(class{constructor(i){this._elementRef=i}});let Wr=(()=>{class i extends Qr{constructor(t,n,a,r,s,d){super(t),this._changeDetectorRef=n,this._globalModel=a,this._dateAdapter=r,this._rangeSelectionStrategy=s,this._subscriptions=new y.w0,this._animationDone=new L.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}get isViewMonth(){return!this._calendar||null==this._calendar.currentView||"month"==this._calendar.currentView}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}onTimeChanged(t){this._updateUserSelectionWithCalendarUserEvent({value:t,event:null})}_handleUserSelection(t){this._updateUserSelectionWithCalendarUserEvent(t),this.datepicker.hideTime&&(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_updateUserSelectionWithCalendarUserEvent(t){const n=this._model.selection,a=t.value,r=n instanceof ee;if(r&&this._rangeSelectionStrategy){const s=this._rangeSelectionStrategy.selectionFinished(a,n,t.event);this._model.updateSelection(s,this)}else{const s=this._dateAdapter.isSameTime(n,a),g=this._dateAdapter.sameDate(a,n)&&s;a&&(r||!g)&&this._model.add(a)}}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._modelTime=this._model.selection,this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,n){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,n&&this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ue),e.Y36(j),e.Y36(pn,8),e.Y36(gn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ngx-mat-datepicker-content"]],viewQuery:function(t,n){if(1&t&&e.Gf(Jn,5),2&t){let a;e.iGM(a=e.CRH())&&(n._calendar=a.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(t,n){1&t&&e.WFA("@transformPanel.start",function(r){return n._handleAnimationEvent(r)})("@transformPanel.done",function(r){return n._handleAnimationEvent(r)}),2&t&&(e.d8E("@transformPanel",n._animationState),e.ekj("mat-datepicker-content-touch",n.datepicker.touchUi)("mat-datepicker-content-touch-with-time",!n.datepicker.hideTime))},inputs:{color:"color"},exportAs:["ngxMatDatepickerContent"],features:[e.qOj],decls:6,vars:29,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[4,"ngIf"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"],["class","time-container",3,"disable-seconds",4,"ngIf"],[1,"time-container"],[3,"showSpinners","showSeconds","disabled","stepHour","stepMinute","stepSecond","ngModel","color","enableMeridian","disableMinute","ngModelChange"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"ngx-mat-calendar",1),e.NdJ("yearSelected",function(r){return n.datepicker._selectYear(r)})("monthSelected",function(r){return n.datepicker._selectMonth(r)})("viewChanged",function(r){return n.datepicker._viewChanged(r)})("_userSelection",function(r){return n._handleUserSelection(r)})("_userDragDrop",function(r){return n._handleUserDragDrop(r)}),e.qZA(),e.YNc(2,$n,2,1,"ng-container",2)(3,Wt,0,0,"ng-template",3),e.TgZ(4,"button",4),e.NdJ("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),e._uU(5),e.qZA()()),2&t){let a;e.ekj("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal)("mat-datepicker-content-container-with-time",!n.datepicker._hideTime),e.uIk("aria-modal",!0)("aria-labelledby",null!==(a=n._dialogLabelId)&&void 0!==a?a:void 0),e.xp6(1),e.Q6J("id",n.datepicker.id)("ngClass",n.datepicker.panelClass)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName),e.xp6(1),e.Q6J("ngIf",n.isViewMonth),e.xp6(1),e.Q6J("cdkPortalOutlet",n._actionsPortal),e.xp6(1),e.ekj("cdk-visually-hidden",!n._closeButtonFocused),e.Q6J("color",n.color||"primary"),e.xp6(1),e.hij("",n._closeButtonText," ")}},dependencies:[A.mk,A.O5,N.lW,Ce.mK,w.Pl,Br,Z.JJ,Z.On,Jn],styles:['.mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.time-container{display:flex;position:relative;padding-top:5px;justify-content:center}.time-container.disable-seconds .ngx-mat-timepicker .table{margin-left:9px}.time-container:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background-color:#0000001f}.mat-datepicker-content-touch{display:block;max-height:90vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:815px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:90vh}.mat-datepicker-content-touch .mat-datepicker-content-container.mat-datepicker-content-container-with-time{height:auto}}@media all and (orientation: portrait){.mat-datepicker-content-touch{max-height:100vh}.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container.mat-datepicker-content-container-with-time{height:auto;max-height:870px}.mat-datepicker-content-touch .mat-datepicker-content-container.mat-datepicker-content-container-with-time.mat-datepicker-content-container-with-actions{max-height:none!important}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n'],encapsulation:2,data:{animation:[La.transformPanel,La.fadeInCalendar]},changeDetection:0}),i})(),Pa=(()=>{class i{constructor(t,n,a,r,s,d,g){if(this._overlay=t,this._ngZone=n,this._viewContainerRef=a,this._dateAdapter=s,this._dir=d,this._model=g,this._inputStateChanges=y.w0.EMPTY,this._document=(0,e.f3M)(A.K0),this.startView="month",this._touchUi=!1,this._hideTime=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.viewChanged=new e.vpe(!0),this.openedStream=new e.vpe,this.closedStream=new e.vpe,this._opened=!1,this._showSpinners=!0,this._showSeconds=!1,this._stepHour=1,this._stepMinute=1,this._stepSecond=1,this._enableMeridian=!1,this.id="mat-datepicker-"+qr++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new L.x,!this._dateAdapter)throw We("NgxMatDateAdapter");this._scrollStrategy=r}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=(0,pe.Ig)(t)}get hideTime(){return this._hideTime}set hideTime(t){this._hideTime=(0,pe.Ig)(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const n=(0,pe.Ig)(t);n!==this._disabled&&(this._disabled=n,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=(0,pe.Ig)(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=(0,pe.du)(t)}get opened(){return this._opened}set opened(t){(0,pe.Ig)(t)?this.open():this.close()}get showSpinners(){return this._showSpinners}set showSpinners(t){this._showSpinners=t}get showSeconds(){return this._showSeconds}set showSeconds(t){this._showSeconds=t}get stepHour(){return this._stepHour}set stepHour(t){this._stepHour=t}get stepMinute(){return this._stepMinute}set stepMinute(t){this._stepMinute=t}get stepSecond(){return this._stepSecond}set stepSecond(t){this._stepSecond=t}get enableMeridian(){return this._enableMeridian}set enableMeridian(t){this._enableMeridian=t}get disableMinute(){return this._disableMinute}set disableMinute(t){this._disableMinute=t}get defaultTime(){return this._defaultTime}set defaultTime(t){this._defaultTime=t}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(t){const n=t.xPosition||t.yPosition;if(n&&!n.firstChange&&this._overlayRef){const a=this._overlayRef.getConfig().positionStrategy;a instanceof we._G&&(this._setConnectedPositions(a),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){if(this.datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){if(this._actionsPortal)throw Error("A MatDatepicker can only be associated with a single actions row.");this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){if(!(this._opened||this.disabled||this._componentRef?.instance._isAnimating)){if(!this.datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._focusedElementBeforeOpen=(0,V.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit()}}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:a,location:r}=this._componentRef;a._startExitAnimation(),a._animationDone.pipe((0,x.q)(1)).subscribe(()=>{const s=this._document.activeElement;t&&(!s||s===this._document.activeElement||r.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,n=new w.C5(Wr,this._viewContainerRef),a=this._overlayRef=this._overlay.create(new we.X_({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(a).subscribe(r=>{r&&r.preventDefault(),this.close()}),a.keydownEvents().subscribe(r=>{const s=r.keyCode;(s===m.LH||s===m.JH||s===m.oh||s===m.SV||s===m.Ku||s===m.VM)&&r.preventDefault()}),this._componentRef=a.attach(n),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe((0,x.q)(1)).subscribe(()=>a.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const n="end"===this.xPosition?"end":"start",a="start"===n?"end":"start",r="above"===this.yPosition?"bottom":"top",s="top"===r?"bottom":"top";return t.withPositions([{originX:n,originY:s,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:s},{originX:a,originY:s,overlayX:a,overlayY:r},{originX:a,originY:r,overlayX:a,overlayY:s}])}_getCloseStream(t){const n=["ctrlKey","shiftKey","metaKey"];return(0,l.T)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,Y.h)(a=>a.keyCode===m.hY&&!(0,m.Vb)(a)||this.datepickerInput&&(0,m.Vb)(a,"altKey")&&a.keyCode===m.LH&&n.every(r=>!(0,m.Vb)(a,r)))))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(we.aV),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Ya),e.Y36(j,8),e.Y36(ae.Is,8),e.Y36(ue))},i.\u0275dir=e.lG2({type:i,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",hideTime:"hideTime",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened",showSpinners:"showSpinners",showSeconds:"showSeconds",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",enableMeridian:"enableMeridian",disableMinute:"disableMinute",defaultTime:"defaultTime"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[e.TTD]}),i})(),Ra=(()=>{class i extends Pa{}return i.\u0275fac=(()=>{let o;return function(n){return(o||(o=e.n5z(i)))(n||i)}})(),i.\u0275cmp=e.Xpm({type:i,selectors:[["ngx-mat-datetime-picker"]],exportAs:["ngxMatDatetimePicker"],features:[e._Bn([ye,{provide:Pa,useExisting:i}]),e.qOj],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),i})();const Kr={provide:Z.JU,useExisting:(0,e.Gpc)(()=>Qn),multi:!0},Xr={provide:Z.Cf,useExisting:(0,e.Gpc)(()=>Qn),multi:!0};let Qn=(()=>{class i extends Oa{constructor(t,n,a,r){super(t,n,a),this._formField=r,this._closedSubscription=y.w0.EMPTY,this._validator=Z.kI.compose(super._getValidators())}set ngxMatDatetimePicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(t){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const n=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(j,8),e.Y36(U,8),e.Y36(ie.G_,8))},i.\u0275dir=e.lG2({type:i,selectors:[["input","ngxMatDatetimePicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,n){1&t&&e.NdJ("input",function(r){return n._onInput(r.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(r){return n._onKeydown(r)}),2&t&&(e.Ikx("disabled",n.disabled),e.uIk("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",(null==n._datepicker?null:n._datepicker.opened)&&n._datepicker.id||null)("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{ngxMatDatetimePicker:"ngxMatDatetimePicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["ngxMatDatepickerInput"],features:[e._Bn([Kr,Xr,{provide:De.Jk,useExisting:i}]),e.qOj]}),i})(),es=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[A.ez,De.c,Z.UX,Z.u5,k.Ps,N.ot]}),i})(),ts=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[gn,jr],imports:[A.ez,N.ot,we.U8,Ce.rt,w.eL,T.BQ,es,Z.u5,Z.UX,ve.ZD]}),i})();var Lt=p(3989),W=p(153),Fe=p(7520),nt=p(6323);let ns=(()=>{class i extends W.QI{buildStyles(t,{display:n}){const a=(0,nt.Ar)(t);return{...a,display:"none"===n?n:a.display}}}return i.\u0275fac=(()=>{let o;return function(n){return(o||(o=e.n5z(i)))(n||i)}})(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const is=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let as=(()=>{class i extends W.iR{constructor(t,n,a,r,s){super(t,a,n,r),this._config=s,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){const a=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=Na.get(a)??new Map,Na.set(a,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:a}),this.currentValue=t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(W.RK),e.Y36(ns),e.Y36(W.yB),e.Y36(W.WU))},i.\u0275dir=e.lG2({type:i,features:[e.qOj]}),i})(),mt=(()=>{class i extends as{constructor(){super(...arguments),this.inputs=is}}return i.\u0275fac=(()=>{let o;return function(n){return(o||(o=e.n5z(i)))(n||i)}})(),i.\u0275dir=e.lG2({type:i,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[e.qOj]}),i})();const Na=new Map,Za={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let os=(()=>{class i extends W.QI{constructor(t,n){super(),this._styler=t,this._config=n}buildStyles(t,n){return t.endsWith(_n)?(t=t.slice(0,t.indexOf(_n)),function gs(i,o){const[t,n]=i.split(" "),r=b=>`-${b}`;let s="0px",d=r(n??t),g="0px";return"rtl"===o?g=r(t):s=r(t),{margin:`0px ${s} ${d} ${g}`}}(t=(0,W.FL)(t,this._config.multiplier),n.directionality)):{}}sideEffect(t,n,a){const r=a.items;if(t.endsWith(_n)){t=t.slice(0,t.indexOf(_n));const s=function ps(i,o){const[t,n]=i.split(" ");let r="0px",d="0px";return"rtl"===o?d=t:r=t,{padding:`0px ${r} ${n??t} ${d}`}}(t=(0,W.FL)(t,this._config.multiplier),a.directionality);this._styler.applyStyleToElements(s,a.items)}else{t=(0,W.FL)(t,this._config.multiplier),t=this.addFallbackUnit(t);const s=r.pop(),d=function hs(i,o){const t=za(o.directionality,o.layout),n={...Za};return n[t]=i,n}(t,a);this._styler.applyStyleToElements(d,r),this._styler.applyStyleToElements(Za,[s])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(W.RK),e.LFG(W.WU))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rs=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let ss=(()=>{class i extends W.iR{constructor(t,n,a,r,s,d){super(t,s,r,d),this.zone=n,this.directionality=a,this.styleUtils=r,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new L.x;const g=[this.directionality.change,this.observerSubject.asObservable()];this.init(g),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,R.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,n=[];for(let a=t.length;a--;)n[a]=t[a];return n}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const a=t.value.split(" ");this.layout=a[0],nt.iQ.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const n=this.childrenNodes.filter(a=>1===a.nodeType&&this.willDisplay(a)).sort((a,r)=>{const s=+this.styler.lookupStyle(a,"order"),d=+this.styler.lookupStyle(r,"order");return isNaN(s)||isNaN(d)||s===d?0:s>d?1:-1});if(n.length>0){const a=this.directionality.value,r=this.layout;"row"===r&&"rtl"===a?this.styleCache=ls:"row"===r&&"rtl"!==a?this.styleCache=cs:"column"===r&&"rtl"===a?this.styleCache=ds:"column"===r&&"rtl"!==a&&(this.styleCache=us),this.addStyles(t,{directionality:a,items:n,layout:r})}}clearStyles(){const t=Object.keys(this.mru).length>0,n=t?"padding":za(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[n]:""},this.childrenNodes)}willDisplay(t){const n=this.marshal.getValue(t,"show-hide");return!0===n||void 0===n&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(t=>{t.some(a=>a.addedNodes&&a.addedNodes.length>0||a.removedNodes&&a.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(ae.Is),e.Y36(W.RK),e.Y36(os),e.Y36(W.yB))},i.\u0275dir=e.lG2({type:i,features:[e.qOj]}),i})(),$a=(()=>{class i extends ss{constructor(){super(...arguments),this.inputs=rs}}return i.\u0275fac=(()=>{let o;return function(n){return(o||(o=e.n5z(i)))(n||i)}})(),i.\u0275dir=e.lG2({type:i,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[e.qOj]}),i})();const ls=new Map,ds=new Map,cs=new Map,us=new Map,_n=" grid";function za(i,o){switch(o){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===i?"margin-left":"margin-right";case"row-reverse":return"rtl"===i?"margin-right":"margin-left"}}let ms=(()=>{class i extends W.QI{constructor(t){super(),this.layoutConfig=t}buildStyles(t,n){let[a,r,...s]=t.split(" "),d=s.join(" ");const g=n.direction.indexOf("column")>-1?"column":"row",b=(0,nt.tj)(g)?"max-width":"max-height",F=(0,nt.tj)(g)?"min-width":"min-height",D=String(d).indexOf("calc")>-1,q=D||"auto"===d,X=String(d).indexOf("%")>-1&&!D,se=String(d).indexOf("px")>-1||String(d).indexOf("rem")>-1||String(d).indexOf("em")>-1||String(d).indexOf("vw")>-1||String(d).indexOf("vh")>-1;let le=D||se;a="0"==a?0:a,r="0"==r?0:r;const Oe=!a&&!r;let xe={};const Ze={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(d||""){case"":d="row"===g?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":a=0,d="auto";break;case"grow":d="100%";break;case"noshrink":r=0,d="auto";break;case"auto":break;case"none":a=0,r=0,d="auto";break;default:!le&&!X&&!isNaN(d)&&(d+="%"),"0%"===d&&(le=!0),"0px"===d&&(d="0%"),xe=(0,nt.kt)(Ze,D?{"flex-grow":a,"flex-shrink":r,"flex-basis":le?d:"100%"}:{flex:`${a} ${r} ${le?d:"100%"}`})}return xe.flex||xe["flex-grow"]||(xe=(0,nt.kt)(Ze,D?{"flex-grow":a,"flex-shrink":r,"flex-basis":d}:{flex:`${a} ${r} ${d}`})),"0%"!==d&&"0px"!==d&&"0.000000001px"!==d&&"auto"!==d&&(xe[F]=Oe||le&&a?d:null,xe[b]=Oe||!q&&r?d:null),xe[F]||xe[b]?n.hasWrap&&(xe[D?"flex-basis":"flex"]=xe[b]?D?xe[b]:`${a} ${r} ${xe[b]}`:D?xe[F]:`${a} ${r} ${xe[F]}`):xe=(0,nt.kt)(Ze,D?{"flex-grow":a,"flex-shrink":r,"flex-basis":d}:{flex:`${a} ${r} ${d}`}),(0,nt.kt)(xe,{"box-sizing":"border-box"})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(W.WU))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const _s=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let fs=(()=>{class i extends W.iR{constructor(t,n,a,r,s){super(t,r,n,s),this.layoutConfig=a,this.marshal=s,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,R.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,R.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const a=t.value.split(" ");this.direction=a[0],this.wrap=void 0!==a[1]&&"wrap"===a[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const a=this.direction,r=a.startsWith("row"),s=this.wrap;r&&s?this.styleCache=xs:r&&!s?this.styleCache=vs:!r&&s?this.styleCache=Cs:!r&&!s&&(this.styleCache=ys);const d=String(t).replace(";",""),g=(0,W.Ot)(d,this.flexGrow,this.flexShrink);this.addStyles(g.join(" "),{direction:a,hasWrap:s})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const n=(0,W.Ot)(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,n.join(" "))}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(W.RK),e.Y36(W.WU),e.Y36(ms),e.Y36(W.yB))},i.\u0275dir=e.lG2({type:i,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[e.qOj]}),i})(),fn=(()=>{class i extends fs{constructor(){super(...arguments),this.inputs=_s}}return i.\u0275fac=(()=>{let o;return function(n){return(o||(o=e.n5z(i)))(n||i)}})(),i.\u0275dir=e.lG2({type:i,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[e.qOj]}),i})();const vs=new Map,ys=new Map,xs=new Map,Cs=new Map;let Hs=(()=>{class i extends W.QI{buildStyles(t,n){const a={},[r,s]=t.split(" ");switch(r){case"center":a["justify-content"]="center";break;case"space-around":a["justify-content"]="space-around";break;case"space-between":a["justify-content"]="space-between";break;case"space-evenly":a["justify-content"]="space-evenly";break;case"end":case"flex-end":a["justify-content"]="flex-end";break;default:a["justify-content"]="flex-start"}switch(s){case"start":case"flex-start":a["align-items"]=a["align-content"]="flex-start";break;case"center":a["align-items"]=a["align-content"]="center";break;case"end":case"flex-end":a["align-items"]=a["align-content"]="flex-end";break;case"space-between":a["align-content"]="space-between",a["align-items"]="stretch";break;case"space-around":a["align-content"]="space-around",a["align-items"]="stretch";break;case"baseline":a["align-content"]="stretch",a["align-items"]="baseline";break;default:a["align-items"]=a["align-content"]="stretch"}return(0,nt.kt)(a,{display:n.inline?"inline-flex":"flex","flex-direction":n.layout,"box-sizing":"border-box","max-width":"stretch"===s?(0,nt.tj)(n.layout)?null:"100%":null,"max-height":"stretch"===s&&(0,nt.tj)(n.layout)?"100%":null})}}return i.\u0275fac=(()=>{let o;return function(n){return(o||(o=e.n5z(i)))(n||i)}})(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Us=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Bs=(()=>{class i extends W.iR{constructor(t,n,a,r){super(t,a,n,r),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,R.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const n=this.layout||"row",a=this.inline;"row"===n&&a?this.styleCache=Ws:"row"!==n||a?"row-reverse"===n&&a?this.styleCache=Xs:"row-reverse"!==n||a?"column"===n&&a?this.styleCache=Ks:"column"!==n||a?"column-reverse"===n&&a?this.styleCache=el:"column-reverse"===n&&!a&&(this.styleCache=Qs):this.styleCache=Js:this.styleCache=js:this.styleCache=qs,this.addStyles(t,{layout:n,inline:a})}onLayoutChange(t){const n=t.value.split(" ");this.layout=n[0],this.inline=t.value.includes("inline"),nt.iQ.find(a=>a===this.layout)||(this.layout="row"),this.triggerUpdate()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(W.RK),e.Y36(Hs),e.Y36(W.yB))},i.\u0275dir=e.lG2({type:i,features:[e.qOj]}),i})(),it=(()=>{class i extends Bs{constructor(){super(...arguments),this.inputs=Us}}return i.\u0275fac=(()=>{let o;return function(n){return(o||(o=e.n5z(i)))(n||i)}})(),i.\u0275dir=e.lG2({type:i,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[e.qOj]}),i})();const qs=new Map,Js=new Map,js=new Map,Qs=new Map,Ws=new Map,Ks=new Map,Xs=new Map,el=new Map;let Va=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[W.IR,ae.vT]}),i})(),Qa=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[W.IR]}),i})(),bd=(()=>{class i{constructor(t,n){(0,A.PM)(n)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,n=[]){return{ngModule:i,providers:t.serverLoaded?[{provide:W.WU,useValue:{...W.g5,...t}},{provide:W.Bs,useValue:n,multi:!0},{provide:W.wY,useValue:!0}]:[{provide:W.WU,useValue:{...W.g5,...t}},{provide:W.Bs,useValue:n,multi:!0}]}}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(W.wY),e.LFG(e.Lbi))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Va,Fe.aT,Qa,Va,Fe.aT,Qa]}),i})();var Xt=p(9892),Wa=p(5392),Ie=p(8497),zt=p(4980);const Dd=["mat-calendar-body",""];function wd(i,o){if(1&i&&(e.TgZ(0,"tr",0)(1,"td",2),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t.numCols),e.xp6(1),e.hij(" ",t.label," ")}}function Md(i,o){if(1&i&&(e.TgZ(0,"td",2),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t._firstRowOffset),e.xp6(1),e.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function Ad(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",5)(1,"button",6),e.NdJ("click",function(a){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d._cellClicked(s,a))})("focus",function(a){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d._emitActiveDateChange(s,a))}),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e._UZ(4,"span",8),e.qZA()()}if(2&i){const t=o.$implicit,n=o.$index,a=e.oxw().$index,r=e.oxw();e.Udp("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),e.uIk("data-mat-row",a)("data-mat-col",n),e.xp6(1),e.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",r._isActiveCell(a,n))("mat-calendar-body-range-start",r._isRangeStart(t.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",r._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(t.compareValue,a,n))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(t.compareValue,a,n))("mat-calendar-body-comparison-start",r._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",r._isInPreview(t.compareValue)),e.Q6J("ngClass",t.cssClasses)("tabindex",r._isActiveCell(a,n)?0:-1),e.uIk("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",r._isSelected(t.compareValue))("aria-current",r.todayValue===t.compareValue?"date":null)("aria-describedby",r._getDescribedby(t.compareValue)),e.xp6(1),e.ekj("mat-calendar-body-selected",r._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",r.todayValue===t.compareValue),e.xp6(1),e.hij(" ",t.displayValue," ")}}function kd(i,o){if(1&i&&(e.TgZ(0,"tr",3),e.YNc(1,Md,2,6,"td",4),e.SjG(2,Ad,5,48,"td",9,e.x6l),e.qZA()),2&i){const t=o.$implicit,n=o.$index,a=e.oxw();e.xp6(1),e.um2(1,0===n&&a._firstRowOffset?1:-1),e.xp6(1),e.wJu(t)}}function Sd(i,o){if(1&i&&(e.TgZ(0,"th",4)(1,"span",5),e._uU(2),e.qZA(),e.TgZ(3,"span",6),e._uU(4),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.long),e.xp6(2),e.Oqu(t.narrow)}}const Td=["*"];function Fd(i,o){}function Ed(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-month-view",2),e.NdJ("activeDateChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.activeDate=a)})("_userSelection",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._dateSelected(a))})("dragStarted",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._dragStarted(a))})("dragEnded",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._dragEnded(a))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function Od(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-year-view",3),e.NdJ("activeDateChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.activeDate=a)})("monthSelected",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._monthSelectedInYearView(a))})("selectedChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._goToDateInView(a,"month"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Ld(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-multi-year-view",4),e.NdJ("activeDateChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.activeDate=a)})("yearSelected",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._yearSelectedInMultiYearView(a))})("selectedChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r._goToDateInView(a,"year"))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Id(i,o){}const Yd=["button"];function Pd(i,o){1&i&&(e.O4$(),e.TgZ(0,"svg",3),e._UZ(1,"path",4),e.qZA())}const Rd=[[["","matDatepickerToggleIcon",""]]],Nd=["[matDatepickerToggleIcon]"];let en=(()=>{class i{constructor(){this.changes=new L.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,n){return`${t} \u2013 ${n}`}formatYearRangeLabel(t,n){return`${t} to ${n}`}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class Wn{constructor(o,t,n,a,r={},s=o,d){this.value=o,this.displayValue=t,this.ariaLabel=n,this.enabled=a,this.cssClasses=r,this.compareValue=s,this.rawValue=d}}let Zd=1;const Ka=(0,V.i$)({passive:!1,capture:!0}),Tt=(0,V.i$)({passive:!0,capture:!0}),vn=(0,V.i$)({passive:!0});let Vt=(()=>{class i{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,n){this._elementRef=t,this._ngZone=n,this._platform=(0,e.f3M)(V.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new e.vpe,this.previewChange=new e.vpe,this.activeDateChange=new e.vpe,this.dragStarted=new e.vpe,this.dragEnded=new e.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=a=>{if(this._skipNextFocus&&"focus"===a.type)this._skipNextFocus=!1;else if(a.target&&this.isRange){const r=this._getCellFromElement(a.target);r&&this._ngZone.run(()=>this.previewChange.emit({value:r.enabled?r:null,event:a}))}},this._touchmoveHandler=a=>{if(!this.isRange)return;const r=Xa(a),s=r?this._getCellFromElement(r):null;r!==a.target&&(this._didDragSinceMouseDown=!0),Xn(a.target)&&a.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:a}))},this._leaveHandler=a=>{null!==this.previewEnd&&this.isRange&&("blur"!==a.type&&(this._didDragSinceMouseDown=!0),a.target&&this._getCellFromElement(a.target)&&(!a.relatedTarget||!this._getCellFromElement(a.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:a})))},this._mousedownHandler=a=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const r=a.target&&this._getCellFromElement(a.target);!r||!this._isInRange(r.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:r.rawValue,event:a})})},this._mouseupHandler=a=>{if(!this.isRange)return;const r=Xn(a.target);r?r.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const s=this._getCellFromElement(r);this.dragEnded.emit({value:s?.rawValue??null,event:a})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:a})})},this._touchendHandler=a=>{const r=Xa(a);r&&this._mouseupHandler({target:r})},this._id="mat-calendar-body-"+Zd++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,n.runOutsideAngular(()=>{const a=t.nativeElement;a.addEventListener("touchmove",this._touchmoveHandler,Ka),a.addEventListener("mouseenter",this._enterHandler,Tt),a.addEventListener("focus",this._enterHandler,Tt),a.addEventListener("mouseleave",this._leaveHandler,Tt),a.addEventListener("blur",this._leaveHandler,Tt),a.addEventListener("mousedown",this._mousedownHandler,vn),a.addEventListener("touchstart",this._mousedownHandler,vn),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,n){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:n})}_emitActiveDateChange(t,n){t.enabled&&this.activeDateChange.emit({value:t.value,event:n})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const n=t.numCols,{rows:a,numCols:r}=this;(t.rows||n)&&(this._firstRowOffset=a&&a.length&&a[0].length?r-a[0].length:0),(t.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),(n||!this._cellWidth)&&(this._cellWidth=100/r+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("touchmove",this._touchmoveHandler,Ka),t.removeEventListener("mouseenter",this._enterHandler,Tt),t.removeEventListener("focus",this._enterHandler,Tt),t.removeEventListener("mouseleave",this._leaveHandler,Tt),t.removeEventListener("blur",this._leaveHandler,Tt),t.removeEventListener("mousedown",this._mousedownHandler,vn),t.removeEventListener("touchstart",this._mousedownHandler,vn),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,n){let a=t*this.numCols+n;return t&&(a-=this._firstRowOffset),a==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,x.q)(1)).subscribe(()=>{setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(t||(this._skipNextFocus=!0),n.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return ei(t,this.startValue,this.endValue)}_isRangeEnd(t){return ti(t,this.startValue,this.endValue)}_isInRange(t){return ni(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return ei(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,n,a){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let r=this.rows[n][a-1];if(!r){const s=this.rows[n-1];r=s&&s[s.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(t,n,a){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let r=this.rows[n][a+1];if(!r){const s=this.rows[n+1];r=s&&s[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(t){return ti(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return ni(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return ei(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return ti(t,this.previewStart,this.previewEnd)}_isInPreview(t){return ni(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){const n=Xn(t);if(n){const a=n.getAttribute("data-mat-row"),r=n.getAttribute("data-mat-col");if(a&&r)return this.rows[parseInt(a)][parseInt(r)]}return null}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[e.TTD],attrs:Dd,decls:7,vars:5,consts:[["aria-hidden","true"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"]],template:function(n,a){1&n&&(e.YNc(0,wd,3,6,"tr",0),e.SjG(1,kd,4,1,"tr",3,e.x6l),e.TgZ(3,"label",1),e._uU(4),e.qZA(),e.TgZ(5,"label",1),e._uU(6),e.qZA()),2&n&&(e.um2(0,a._firstRowOffset<a.labelMinRequiredCells?0:-1),e.xp6(1),e.wJu(a.rows),e.xp6(2),e.Q6J("id",a._startDateLabelId),e.xp6(1),e.hij(" ",a.startDateAccessibleName,"\n"),e.xp6(1),e.Q6J("id",a._endDateLabelId),e.xp6(1),e.hij(" ",a.endDateAccessibleName,"\n"))},dependencies:[A.mk],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return i})();function Kn(i){return"TD"===i?.nodeName}function Xn(i){let o;return Kn(i)?o=i:Kn(i.parentNode)?o=i.parentNode:Kn(i.parentNode?.parentNode)&&(o=i.parentNode.parentNode),null!=o?.getAttribute("data-mat-row")?o:null}function ei(i,o,t){return null!==t&&o!==t&&i<t&&i===o}function ti(i,o,t){return null!==o&&o!==t&&i>=o&&i===t}function ni(i,o,t,n){return n&&null!==o&&null!==t&&o!==t&&i>=o&&i<=t}function Xa(i){const o=i.changedTouches[0];return document.elementFromPoint(o.clientX,o.clientY)}class at{constructor(o,t){this.start=o,this.end=t}}let Ft=(()=>{class i{constructor(t,n){this.selection=t,this._adapter=n,this._selectionChanged=new L.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,n){const a=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:n,oldValue:a})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}static#e=this.\u0275fac=function(n){e.$Z()};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})(),$d=(()=>{class i extends Ft{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new i(this._adapter);return t.updateSelection(this.selection,this),t}static#e=this.\u0275fac=function(n){return new(n||i)(e.LFG(T._A))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();const eo={provide:Ft,deps:[[new e.FiY,new e.tp0,Ft],T._A],useFactory:function Vd(i,o){return i||new $d(o)}},yn=new e.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let to=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(t){const n=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof at?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,n,a,r,s){this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=a,this._dir=r,this._rangeStrategy=s,this._rerenderSubscription=y.w0.EMPTY,this.activeDrag=null,this.selectedChange=new e.vpe,this._userSelection=new e.vpe,this.dragStarted=new e.vpe,this.dragEnded=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,M.O)(null)).subscribe(()=>this._init())}ngOnChanges(t){const n=t.comparisonStart||t.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const n=t.value,a=this._getDateFromDayOfMonth(n);let r,s;this._selected instanceof at?(r=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):r=s=this._getDateInCurrentMonth(this._selected),(r!==n||s!==n)&&this.selectedChange.emit(a),this._userSelection.emit({value:a,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const a=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,a=this._isRtl();switch(t.keyCode){case m.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case m.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case m.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case m.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case m.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case m.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case m.Ku:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case m.VM:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case m.K5:case m.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case m.hY:return void(null!=this._previewEnd&&!(0,m.Vb)(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===m.L_||t.keyCode===m.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:n}){if(this._rangeStrategy){const a=n?n.rawValue:null,r=this._rangeStrategy.createPreview(a,this.selected,t);if(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this.activeDrag&&a){const s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,a,t);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:n??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow");let r=this._dateAdapter.getDayOfWeekNames("long").map((s,d)=>({long:s,narrow:n[d]}));this._weekdays=r.slice(t).concat(r.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let a=0,r=this._firstWeekOffset;a<t;a++,r++){7==r&&(this._weeks.push([]),r=0);const s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),d=this._shouldEnableDate(s),g=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),b=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new Wn(a+1,n[a],g,d,b,this._getCellCompareValue(s),s))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,n){return!(!t||!n||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(n)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(n))}_getCellCompareValue(t){if(t){const n=this._dateAdapter.getYear(t),a=this._dateAdapter.getMonth(t),r=this._dateAdapter.getDate(t);return new Date(n,a,r).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof at?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.sBO),e.Y36(T.sG,8),e.Y36(T._A,8),e.Y36(ae.Is,8),e.Y36(yn,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-month-view"]],viewQuery:function(n,a){if(1&n&&e.Gf(Vt,5),2&n){let r;e.iGM(r=e.CRH())&&(a._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[e.TTD],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(n,a){1&n&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e.SjG(3,Sd,5,2,"th",4,e.x6l),e.qZA(),e.TgZ(5,"tr"),e._UZ(6,"th",2),e.qZA()(),e.TgZ(7,"tbody",3),e.NdJ("selectedValueChange",function(s){return a._dateSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("previewChange",function(s){return a._previewChanged(s)})("dragStarted",function(s){return a.dragStarted.emit(s)})("dragEnded",function(s){return a._dragEnded(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),e.qZA()()),2&n&&(e.xp6(3),e.wJu(a._weekdays),e.xp6(4),e.Q6J("label",a._monthLabel)("rows",a._weeks)("todayValue",a._todayDate)("startValue",a._rangeStart)("endValue",a._rangeEnd)("comparisonStart",a._comparisonRangeStart)("comparisonEnd",a._comparisonRangeEnd)("previewStart",a._previewStart)("previewEnd",a._previewEnd)("isRange",a._isRange)("labelMinRequiredCells",3)("activeCell",a._dateAdapter.getDate(a.activeDate)-1)("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName))},dependencies:[Vt],encapsulation:2,changeDetection:0})}return i})();const ut=24;let no=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate;const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),io(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof at?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,n,a){this._changeDetectorRef=t,this._dateAdapter=n,this._dir=a,this._rerenderSubscription=y.w0.EMPTY,this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,M.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const n=this._dateAdapter.getYear(this._activeDate)-tn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let a=0,r=[];a<ut;a++)r.push(n+a),4==r.length&&(this._years.push(r.map(s=>this._createCellForYear(s))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const n=t.value,a=this._dateAdapter.createDate(n,0,1),r=this._getDateFromYear(n);this.yearSelected.emit(a),this.selectedChange.emit(r)}_updateActiveDate(t){const a=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,a=this._isRtl();switch(t.keyCode){case m.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case m.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case m.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case m.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case m.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-tn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case m.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ut-tn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case m.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-ut:-ut);break;case m.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*ut:ut);break;case m.K5:case m.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===m.L_||t.keyCode===m.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return tn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const n=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,n,1));return this._dateAdapter.createDate(t,n,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForYear(t){const n=this._dateAdapter.createDate(t,0,1),a=this._dateAdapter.getYearName(n),r=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new Wn(t,a,a,this._shouldEnableYear(t),r)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let a=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof at){const n=t.start||t.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.sBO),e.Y36(T._A,8),e.Y36(ae.Is,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-multi-year-view"]],viewQuery:function(n,a){if(1&n&&e.Gf(Vt,5),2&n){let r;e.iGM(r=e.CRH())&&(a._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(n,a){1&n&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(s){return a._yearSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("rows",a._years)("todayValue",a._todayYear)("startValue",a._selectedYear)("endValue",a._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._getActiveCell()))},dependencies:[Vt],encapsulation:2,changeDetection:0})}return i})();function io(i,o,t,n,a){const r=i.getYear(o),s=i.getYear(t),d=ao(i,n,a);return Math.floor((r-d)/ut)===Math.floor((s-d)/ut)}function tn(i,o,t,n){return function Bd(i,o){return(i%o+o)%o}(i.getYear(o)-ao(i,t,n),ut)}function ao(i,o,t){let n=0;return t?n=i.getYear(t)-ut+1:o&&(n=i.getYear(o)),n}let oo=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate;const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof at?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,n,a,r){this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=a,this._dir=r,this._rerenderSubscription=y.w0.EMPTY,this.selectedChange=new e.vpe,this.monthSelected=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,M.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const n=t.value,a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(a);const r=this._getDateFromMonth(n);this.selectedChange.emit(r)}_updateActiveDate(t){const a=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,a=this._isRtl();switch(t.keyCode){case m.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case m.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case m.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case m.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case m.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case m.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case m.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case m.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case m.K5:case m.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===m.L_||t.keyCode===m.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(a=>this._createCellForMonth(a,t[a]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),a=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForMonth(t,n){const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),r=this._dateAdapter.format(a,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(a,"year"):void 0;return new Wn(t,n.toLocaleUpperCase(),r,this._shouldEnableMonth(t),s)}_shouldEnableMonth(t){const n=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(n,t)||this._isYearAndMonthBeforeMinDate(n,t))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(n,t,1);this._dateAdapter.getMonth(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(t,n){if(this.maxDate){const a=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return t>a||t===a&&n>r}return!1}_isYearAndMonthBeforeMinDate(t,n){if(this.minDate){const a=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return t<a||t===a&&n<r}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof at?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.sBO),e.Y36(T.sG,8),e.Y36(T._A,8),e.Y36(ae.Is,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-year-view"]],viewQuery:function(n,a){if(1&n&&e.Gf(Vt,5),2&n){let r;e.iGM(r=e.CRH())&&(a._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(n,a){1&n&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(s){return a._monthSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("label",a._yearLabel)("rows",a._months)("todayValue",a._todayMonth)("startValue",a._selectedMonth)("endValue",a._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._dateAdapter.getMonth(a.activeDate)))},dependencies:[Vt],encapsulation:2,changeDetection:0})}return i})(),qd=1,Jd=(()=>{class i{constructor(t,n,a,r,s){this._intl=t,this.calendar=n,this._dateAdapter=a,this._dateFormats=r,this._id="mat-calendar-header-"+qd++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-ut)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:ut)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,n){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(n):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n):io(this._dateAdapter,t,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const n=this._dateAdapter.getYear(this.calendar.activeDate)-tn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),a=n+ut-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1))]}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(en),e.Y36((0,e.Gpc)(()=>oi)),e.Y36(T._A,8),e.Y36(T.sG,8),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Td,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(n,a){1&n&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return a.currentPeriodClicked()}),e.TgZ(3,"span",3),e._uU(4),e.qZA(),e.O4$(),e.TgZ(5,"svg",4),e._UZ(6,"polygon",5),e.qZA()(),e.kcU(),e._UZ(7,"div",6),e.Hsn(8),e.TgZ(9,"button",7),e.NdJ("click",function(){return a.previousClicked()}),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return a.nextClicked()}),e.qZA()()(),e.TgZ(11,"label",9),e._uU(12),e.qZA()),2&n&&(e.xp6(2),e.uIk("aria-label",a.periodButtonLabel)("aria-describedby",a._periodButtonLabelId),e.xp6(2),e.Oqu(a.periodButtonText),e.xp6(1),e.ekj("mat-calendar-invert","month"!==a.calendar.currentView),e.xp6(4),e.Q6J("disabled",!a.previousEnabled()),e.uIk("aria-label",a.prevButtonLabel),e.xp6(1),e.Q6J("disabled",!a.nextEnabled()),e.uIk("aria-label",a.nextButtonLabel),e.xp6(1),e.Q6J("id",a._periodButtonLabelId),e.xp6(1),e.Oqu(a.periodButtonDescription))},dependencies:[N.lW,N.RK],encapsulation:2,changeDetection:0})}return i})(),oi=(()=>{class i{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof at?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const n=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}constructor(t,n,a,r){this._dateAdapter=n,this._dateFormats=a,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.viewChanged=new e.vpe(!0),this._userSelection=new e.vpe,this._userDragDrop=new e.vpe,this._activeDrag=null,this.stateChanges=new L.x,this._intlChanges=t.changes.subscribe(()=>{r.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new w.C5(this.headerComponent||Jd),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const n=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,a=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,r=n||a||t.dateFilter;if(r&&!r.firstChange){const s=this._getCurrentViewComponent();s&&(this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const n=t.value;(this.selected instanceof at||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,n){this.activeDate=t,this.currentView=n}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(en),e.Y36(T._A,8),e.Y36(T.sG,8),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-calendar"]],viewQuery:function(n,a){if(1&n&&(e.Gf(to,5),e.Gf(oo,5),e.Gf(no,5)),2&n){let r;e.iGM(r=e.CRH())&&(a.monthView=r.first),e.iGM(r=e.CRH())&&(a.yearView=r.first),e.iGM(r=e.CRH())&&(a.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[e._Bn([eo]),e.TTD],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(n,a){if(1&n&&(e.YNc(0,Fd,0,0,"ng-template",0),e.TgZ(1,"div",1),e.YNc(2,Ed,1,11)(3,Od,1,6)(4,Ld,1,6),e.qZA()),2&n){let r;e.Q6J("cdkPortalOutlet",a._calendarHeaderPortal),e.xp6(2),e.um2(2,"month"===(r=a.currentView)?2:"year"===r?3:"multi-year"===r?4:-1)}},dependencies:[Ce.kH,w.Pl,to,oo,no],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return i})();const ro={transformPanel:(0,z.X$)("transformPanel",[(0,z.eR)("void => enter-dropdown",(0,z.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,z.F4)([(0,z.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,z.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,z.eR)("void => enter-dialog",(0,z.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,z.F4)([(0,z.oB)({opacity:0,transform:"scale(0.7)"}),(0,z.oB)({transform:"none",opacity:1})]))),(0,z.eR)("* => void",(0,z.jt)("100ms linear",(0,z.oB)({opacity:0})))]),fadeInCalendar:(0,z.X$)("fadeInCalendar",[(0,z.SB)("void",(0,z.oB)({opacity:0})),(0,z.SB)("enter",(0,z.oB)({opacity:1})),(0,z.eR)("void => *",(0,z.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let jd=0;const so=new e.OlP("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const i=(0,e.f3M)(we.aV);return()=>i.scrollStrategies.reposition()}}),Wd={provide:so,deps:[we.aV],useFactory:function Qd(i){return()=>i.scrollStrategies.reposition()}},Kd=(0,T.pj)(class{constructor(i){this._elementRef=i}});let Xd=(()=>{class i extends Kd{constructor(t,n,a,r,s,d){super(t),this._changeDetectorRef=n,this._globalModel=a,this._dateAdapter=r,this._rangeSelectionStrategy=s,this._subscriptions=new y.w0,this._animationDone=new L.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const n=this._model.selection,a=t.value,r=n instanceof at;if(r&&this._rangeSelectionStrategy){const s=this._rangeSelectionStrategy.selectionFinished(a,n,t.event);this._model.updateSelection(s,this)}else a&&(r||!this._dateAdapter.sameDate(a,n))&&this._model.add(a);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,n){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,n&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Ft),e.Y36(T._A),e.Y36(yn,8),e.Y36(en))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-datepicker-content"]],viewQuery:function(n,a){if(1&n&&e.Gf(oi,5),2&n){let r;e.iGM(r=e.CRH())&&(a._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(n,a){1&n&&e.WFA("@transformPanel.start",function(s){return a._handleAnimationEvent(s)})("@transformPanel.done",function(s){return a._handleAnimationEvent(s)}),2&n&&(e.d8E("@transformPanel",a._animationState),e.ekj("mat-datepicker-content-touch",a.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[e.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(n,a){if(1&n&&(e.TgZ(0,"div",0)(1,"mat-calendar",1),e.NdJ("yearSelected",function(s){return a.datepicker._selectYear(s)})("monthSelected",function(s){return a.datepicker._selectMonth(s)})("viewChanged",function(s){return a.datepicker._viewChanged(s)})("_userSelection",function(s){return a._handleUserSelection(s)})("_userDragDrop",function(s){return a._handleUserDragDrop(s)}),e.qZA(),e.YNc(2,Id,0,0,"ng-template",2),e.TgZ(3,"button",3),e.NdJ("focus",function(){return a._closeButtonFocused=!0})("blur",function(){return a._closeButtonFocused=!1})("click",function(){return a.datepicker.close()}),e._uU(4),e.qZA()()),2&n){let r;e.ekj("mat-datepicker-content-container-with-custom-header",a.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",a._actionsPortal),e.uIk("aria-modal",!0)("aria-labelledby",null!==(r=a._dialogLabelId)&&void 0!==r?r:void 0),e.xp6(1),e.Q6J("id",a.datepicker.id)("ngClass",a.datepicker.panelClass)("startAt",a.datepicker.startAt)("startView",a.datepicker.startView)("minDate",a.datepicker._getMinDate())("maxDate",a.datepicker._getMaxDate())("dateFilter",a.datepicker._getDateFilter())("headerComponent",a.datepicker.calendarHeaderComponent)("selected",a._getSelected())("dateClass",a.datepicker.dateClass)("comparisonStart",a.comparisonStart)("comparisonEnd",a.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName),e.xp6(1),e.Q6J("cdkPortalOutlet",a._actionsPortal),e.xp6(1),e.ekj("cdk-visually-hidden",!a._closeButtonFocused),e.Q6J("color",a.color||"primary"),e.xp6(1),e.Oqu(a._closeButtonText)}},dependencies:[A.mk,N.lW,Ce.mK,w.Pl,oi],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[ro.transformPanel,ro.fadeInCalendar]},changeDetection:0})}return i})(),lo=(()=>{class i{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=(0,pe.Ig)(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const n=(0,pe.Ig)(t);n!==this._disabled&&(this._disabled=n,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=(0,pe.Ig)(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=(0,pe.du)(t)}get opened(){return this._opened}set opened(t){(0,pe.Ig)(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,n,a,r,s,d,g){this._overlay=t,this._ngZone=n,this._viewContainerRef=a,this._dateAdapter=s,this._dir=d,this._model=g,this._inputStateChanges=y.w0.EMPTY,this._document=(0,e.f3M)(A.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.viewChanged=new e.vpe(!0),this.openedStream=new e.vpe,this.closedStream=new e.vpe,this._opened=!1,this.id="mat-datepicker-"+jd++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new L.x,this._scrollStrategy=r}ngOnChanges(t){const n=t.xPosition||t.yPosition;if(n&&!n.firstChange&&this._overlayRef){const a=this._overlayRef.getConfig().positionStrategy;a instanceof we._G&&(this._setConnectedPositions(a),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,V.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:a,location:r}=this._componentRef;a._startExitAnimation(),a._animationDone.pipe((0,x.q)(1)).subscribe(()=>{const s=this._document.activeElement;t&&(!s||s===this._document.activeElement||r.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,n=new w.C5(Xd,this._viewContainerRef),a=this._overlayRef=this._overlay.create(new we.X_({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(a).subscribe(r=>{r&&r.preventDefault(),this.close()}),a.keydownEvents().subscribe(r=>{const s=r.keyCode;(s===m.LH||s===m.JH||s===m.oh||s===m.SV||s===m.Ku||s===m.VM)&&r.preventDefault()}),this._componentRef=a.attach(n),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe((0,x.q)(1)).subscribe(()=>a.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const n="end"===this.xPosition?"end":"start",a="start"===n?"end":"start",r="above"===this.yPosition?"bottom":"top",s="top"===r?"bottom":"top";return t.withPositions([{originX:n,originY:s,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:s},{originX:a,originY:s,overlayX:a,overlayY:r},{originX:a,originY:r,overlayX:a,overlayY:s}])}_getCloseStream(t){const n=["ctrlKey","shiftKey","metaKey"];return(0,l.T)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,Y.h)(a=>a.keyCode===m.hY&&!(0,m.Vb)(a)||this.datepickerInput&&(0,m.Vb)(a,"altKey")&&a.keyCode===m.LH&&n.every(r=>!(0,m.Vb)(a,r)))))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(we.aV),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(so),e.Y36(T._A,8),e.Y36(ae.Is,8),e.Y36(Ft))};static#t=this.\u0275dir=e.lG2({type:i,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[e.TTD]})}return i})(),ec=(()=>{class i extends lo{static#e=this.\u0275fac=(()=>{let t;return function(a){return(t||(t=e.n5z(i)))(a||i)}})();static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[e._Bn([eo,{provide:lo,useExisting:i}]),e.qOj],decls:0,vars:0,template:function(n,a){},encapsulation:2,changeDetection:0})}return i})();class xn{constructor(o,t){this.target=o,this.targetElement=t,this.value=this.target.value}}let tc=(()=>{class i{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const n=(0,pe.Ig)(t),a=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&a.blur&&a.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){const a=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(a),this._cvaOnChange(a),this._onTouched(),this._formatValue(a),this.dateInput.emit(new xn(this,this._elementRef.nativeElement)),this.dateChange.emit(new xn(this,this._elementRef.nativeElement))}})}constructor(t,n,a){this._elementRef=t,this._dateAdapter=n,this._dateFormats=a,this.dateChange=new e.vpe,this.dateInput=new e.vpe,this.stateChanges=new L.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=y.w0.EMPTY,this._localeSubscription=y.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=r=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=r=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value)),d=this._getMinDate();return!d||!s||this._dateAdapter.compareDate(d,s)<=0?null:{matDatepickerMin:{min:d,actual:s}}},this._maxValidator=r=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value)),d=this._getMaxDate();return!d||!s||this._dateAdapter.compareDate(d,s)>=0?null:{matDatepickerMax:{max:d,actual:s}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function nc(i,o){const t=Object.keys(i);for(let n of t){const{previousValue:a,currentValue:r}=i[n];if(!o.isDateInstance(a)||!o.isDateInstance(r))return!0;if(!o.sameDate(a,r))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){(0,m.Vb)(t,"altKey")&&t.keyCode===m.JH&&["ctrlKey","shiftKey","metaKey"].every(r=>!(0,m.Vb)(t,r))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const n=this._lastValueValid;let a=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(a),a=this._dateAdapter.getValidDateOrNull(a);const r=!this._dateAdapter.sameDate(a,this.value);!a||r?this._cvaOnChange(a):(t&&!this.value&&this._cvaOnChange(a),n!==this._lastValueValid&&this._validatorOnChange()),r&&(this._assignValue(a),this.dateInput.emit(new xn(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new xn(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const n=this._getDateFilter();return!n||n(t)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(T._A,8),e.Y36(T.sG,8))};static#t=this.\u0275dir=e.lG2({type:i,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[e.TTD]})}return i})();const ic={provide:Z.JU,useExisting:(0,e.Gpc)(()=>ri),multi:!0},ac={provide:Z.Cf,useExisting:(0,e.Gpc)(()=>ri),multi:!0};let ri=(()=>{class i extends tc{set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(t){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const n=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}constructor(t,n,a,r){super(t,n,a),this._formField=r,this._closedSubscription=y.w0.EMPTY,this._validator=Z.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(T._A,8),e.Y36(T.sG,8),e.Y36(ie.G_,8))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,a){1&n&&e.NdJ("input",function(s){return a._onInput(s.target.value)})("change",function(){return a._onChange()})("blur",function(){return a._onBlur()})("keydown",function(s){return a._onKeydown(s)}),2&n&&(e.Ikx("disabled",a.disabled),e.uIk("aria-haspopup",a._datepicker?"dialog":null)("aria-owns",(null==a._datepicker?null:a._datepicker.opened)&&a._datepicker.id||null)("min",a.min?a._dateAdapter.toIso8601(a.min):null)("max",a.max?a._dateAdapter.toIso8601(a.max):null)("data-mat-calendar",a._datepicker?a._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[e._Bn([ic,ac,{provide:De.Jk,useExisting:i}]),e.qOj]})}return i})(),oc=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","matDatepickerToggleIcon",""]]})}return i})(),rc=(()=>{class i{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=(0,pe.Ig)(t)}constructor(t,n,a){this._intl=t,this._changeDetectorRef=n,this._stateChanges=y.w0.EMPTY;const r=Number(a);this.tabIndex=r||0===r?r:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:(0,zt.of)(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,zt.of)(),a=this.datepicker?(0,l.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,zt.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,l.T)(this._intl.changes,t,n,a).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(en),e.Y36(e.sBO),e.$8M("tabindex"))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,a,r){if(1&n&&e.Suo(r,oc,5),2&n){let s;e.iGM(s=e.CRH())&&(a._customIcon=s.first)}},viewQuery:function(n,a){if(1&n&&e.Gf(Yd,5),2&n){let r;e.iGM(r=e.CRH())&&(a._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,a){1&n&&e.NdJ("click",function(s){return a._open(s)}),2&n&&(e.uIk("tabindex",null)("data-mat-calendar",a.datepicker?a.datepicker.id:null),e.ekj("mat-datepicker-toggle-active",a.datepicker&&a.datepicker.opened)("mat-accent",a.datepicker&&"accent"===a.datepicker.color)("mat-warn",a.datepicker&&"warn"===a.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[e.TTD],ngContentSelectors:Nd,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,a){1&n&&(e.F$t(Rd),e.TgZ(0,"button",0,1),e.YNc(2,Pd,2,0,":svg:svg",2),e.Hsn(3),e.qZA()),2&n&&(e.Q6J("disabled",a.disabled)("disableRipple",a.disableRipple),e.uIk("aria-haspopup",a.datepicker?"dialog":null)("aria-label",a.ariaLabel||a._intl.openCalendarLabel)("tabindex",a.disabled?-1:a.tabIndex),e.xp6(2),e.um2(2,a._customIcon?-1:2))},dependencies:[N.RK],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return i})(),dc=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({providers:[en,Wd],imports:[A.ez,N.ot,we.U8,Ce.rt,w.eL,T.BQ,ve.ZD]})}return i})();var $e=p(6861),uo=p(9400),et=p(3228),Ge=p(8128),po=p(3910),nn=p(6355),an=p(9293),yt=p(9409),li=p(636),me=p(8071),go=p(2568);class cc{constructor(){this.expansionModel=new li.Ov(!0)}toggle(o){this.expansionModel.toggle(this._trackByValue(o))}expand(o){this.expansionModel.select(this._trackByValue(o))}collapse(o){this.expansionModel.deselect(this._trackByValue(o))}isExpanded(o){return this.expansionModel.isSelected(this._trackByValue(o))}toggleDescendants(o){this.expansionModel.isSelected(this._trackByValue(o))?this.collapseDescendants(o):this.expandDescendants(o)}collapseAll(){this.expansionModel.clear()}expandDescendants(o){let t=[o];t.push(...this.getDescendants(o)),this.expansionModel.select(...t.map(n=>this._trackByValue(n)))}collapseDescendants(o){let t=[o];t.push(...this.getDescendants(o)),this.expansionModel.deselect(...t.map(n=>this._trackByValue(n)))}_trackByValue(o){return this.trackBy?this.trackBy(o):o}}class uc extends cc{constructor(o,t,n){super(),this.getLevel=o,this.isExpandable=t,this.options=n,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(o){const n=[];for(let a=this.dataNodes.indexOf(o)+1;a<this.dataNodes.length&&this.getLevel(o)<this.getLevel(this.dataNodes[a]);a++)n.push(this.dataNodes[a]);return n}expandAll(){this.expansionModel.select(...this.dataNodes.map(o=>this._trackByValue(o)))}}const Cn=new e.OlP("CDK_TREE_NODE_OUTLET_NODE");let on=(()=>{class i{constructor(t,n){this.viewContainer=t,this._node=n}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.s_b),e.Y36(Cn,8))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","cdkTreeNodeOutlet",""]]})}return i})();class pc{constructor(o){this.$implicit=o}}let bn=(()=>{class i{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}})}return i})(),kt=(()=>{class i{get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}constructor(t,n){this._differs=t,this._changeDetectorRef=n,this._onDestroy=new L.x,this._levels=new Map,this.viewChange=new me.X({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const t=this._nodeDefs.filter(n=>!n.when);this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;(0,li.Z9)(this._dataSource)?t=this._dataSource.connect(this):(0,go.b)(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=(0,zt.of)(this._dataSource)),t&&(this._dataSubscription=t.pipe((0,R.R)(this._onDestroy)).subscribe(n=>this.renderNodeChanges(n)))}renderNodeChanges(t,n=this._dataDiffer,a=this._nodeOutlet.viewContainer,r){const s=n.diff(t);s&&(s.forEachOperation((d,g,b)=>{if(null==d.previousIndex)this.insertNode(t[b],b,a,r);else if(null==b)a.remove(g),this._levels.delete(d.item);else{const F=a.get(g);a.move(F,b)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,n){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(r=>r.when&&r.when(n,t))||this._defaultNodeDef}insertNode(t,n,a,r){const s=this._getNodeDef(t,n),d=new pc(t);d.level=this.treeControl.getLevel?this.treeControl.getLevel(t):typeof r<"u"&&this._levels.has(r)?this._levels.get(r)+1:0,this._levels.set(t,d.level),(a||this._nodeOutlet.viewContainer).createEmbeddedView(s.template,d,n),Dt.mostRecentTreeNode&&(Dt.mostRecentTreeNode.data=t)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.ZZ4),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["cdk-tree"]],contentQueries:function(n,a,r){if(1&n&&e.Suo(r,bn,5),2&n){let s;e.iGM(s=e.CRH())&&(a._nodeDefs=s)}},viewQuery:function(n,a){if(1&n&&e.Gf(on,7),2&n){let r;e.iGM(r=e.CRH())&&(a._nodeOutlet=r.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(n,a){1&n&&e.GkF(0,0)},dependencies:[on],encapsulation:2})}return i})(),Dt=(()=>{class i{get role(){return"treeitem"}set role(t){this._elementRef.nativeElement.setAttribute("role",t)}static#e=this.mostRecentTreeNode=null;get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(t,n){this._elementRef=t,this._tree=n,this._destroyed=new L.x,this._dataChanges=new L.x,i.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function gc(i){let o=i.parentElement;for(;o&&!hc(o);)o=o.parentElement;return o?o.classList.contains("cdk-nested-tree-node")?(0,pe.su)(o.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){i.mostRecentTreeNode===this&&(i.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}static#t=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(kt))};static#n=this.\u0275dir=e.lG2({type:i,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(n,a){2&n&&e.uIk("aria-expanded",a.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]})}return i})();function hc(i){const o=i.classList;return!(!o?.contains("cdk-nested-tree-node")&&!o?.contains("cdk-tree"))}const mc=/([A-Za-z%]+)$/;let ci=(()=>{class i{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}constructor(t,n,a,r){this._treeNode=t,this._tree=n,this._element=a,this._dir=r,this._destroyed=new L.x,this.indentUnits="px",this._indent=40,this._setPadding(),r&&r.change.pipe((0,R.R)(this._destroyed)).subscribe(()=>this._setPadding(!0)),t._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const t=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,n=null==this._level?t:this._level;return"number"==typeof n?`${n*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){const n=this._paddingIndent();if(n!==this._currentPadding||t){const a=this._element.nativeElement,r=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",s="paddingLeft"===r?"paddingRight":"paddingLeft";a.style[r]=n||"",a.style[s]="",this._currentPadding=n}}_setLevelInput(t){this._level=(0,pe.su)(t,null),this._setPadding()}_setIndentInput(t){let n=t,a="px";if("string"==typeof t){const r=t.split(mc);n=r[0],a=r[1]||a}this.indentUnits=a,this._indent=(0,pe.su)(n),this._setPadding()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(Dt),e.Y36(kt),e.Y36(e.SBq),e.Y36(ae.Is,8))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}})}return i})(),ui=(()=>{class i{get recursive(){return this._recursive}set recursive(t){this._recursive=(0,pe.Ig)(t)}constructor(t,n){this._tree=t,this._treeNode=n,this._recursive=!1}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(kt),e.Y36(Dt))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(n,a){1&n&&e.NdJ("click",function(s){return a._toggle(s)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}})}return i})(),_c=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({})}return i})();var I=p(9736);const fc=(0,T.sb)((0,T.Id)(Dt));let ho=(()=>{class i extends fc{constructor(t,n,a){super(t,n),this.tabIndex=Number(a)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(kt),e.$8M("tabindex"))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[e._Bn([{provide:Dt,useExisting:i}]),e.qOj]})}return i})(),mo=(()=>{class i extends bn{static#e=this.\u0275fac=(()=>{let t;return function(a){return(t||(t=e.n5z(i)))(a||i)}})();static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[e._Bn([{provide:bn,useExisting:i}]),e.qOj]})}return i})(),_o=(()=>{class i extends ci{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}static#e=this.\u0275fac=(()=>{let t;return function(a){return(t||(t=e.n5z(i)))(a||i)}})();static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[e._Bn([{provide:ci,useExisting:i}]),e.qOj]})}return i})(),pi=(()=>{class i{constructor(t,n){this.viewContainer=t,this._node=n}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.s_b),e.Y36(Cn,8))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","matTreeNodeOutlet",""]],features:[e._Bn([{provide:on,useExisting:i}])]})}return i})(),fo=(()=>{class i extends kt{constructor(){super(...arguments),this._nodeOutlet=void 0}static#e=this.\u0275fac=(()=>{let t;return function(a){return(t||(t=e.n5z(i)))(a||i)}})();static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-tree"]],viewQuery:function(n,a){if(1&n&&e.Gf(pi,7),2&n){let r;e.iGM(r=e.CRH())&&(a._nodeOutlet=r.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[e._Bn([{provide:kt,useExisting:i}]),e.qOj],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(n,a){1&n&&e.GkF(0,0)},dependencies:[pi],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color)}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color);font-family:var(--mat-tree-node-text-font);font-size:var(--mat-tree-node-text-size);font-weight:var(--mat-tree-node-text-weight)}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2})}return i})(),vo=(()=>{class i extends ui{static#e=this.\u0275fac=(()=>{let t;return function(a){return(t||(t=e.n5z(i)))(a||i)}})();static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[e._Bn([{provide:ui,useExisting:i}]),e.qOj]})}return i})(),yc=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[_c,T.BQ,T.BQ]})}return i})();class xc{constructor(o,t,n,a){this.transformFunction=o,this.getLevel=t,this.isExpandable=n,this.getChildren=a}_flattenNode(o,t,n,a){const r=this.transformFunction(o,t);if(n.push(r),this.isExpandable(r)){const s=this.getChildren(o);s&&(Array.isArray(s)?this._flattenChildren(s,t,n,a):s.pipe((0,x.q)(1)).subscribe(d=>{this._flattenChildren(d,t,n,a)}))}return n}_flattenChildren(o,t,n,a){o.forEach((r,s)=>{let d=a.slice();d.push(s!=o.length-1),this._flattenNode(r,t+1,n,d)})}flattenNodes(o){let t=[];return o.forEach(n=>this._flattenNode(n,0,t,[])),t}expandFlattenedNodes(o,t){let n=[],a=[];return a[0]=!0,o.forEach(r=>{let s=!0;for(let d=0;d<=this.getLevel(r);d++)s=s&&a[d];s&&n.push(r),this.isExpandable(r)&&(a[this.getLevel(r)+1]=t.isExpanded(r))}),n}}class Cc extends li.o2{get data(){return this._data.value}set data(o){this._data.next(o),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(o,t,n){super(),this._treeControl=o,this._treeFlattener=t,this._flattenedData=new me.X([]),this._expandedData=new me.X([]),this._data=new me.X([]),n&&(this.data=n)}connect(o){return(0,l.T)(o.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,I.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var Gt=p(91),ge=p(1916),yo=p(879);const bc=new e.OlP("DROPZONE_CONFIG"),Dc=["error","success","sending","canceled","complete","processing","drop","dragStart","dragEnd","dragEnter","dragOver","dragLeave","thumbnail","addedFile","addedFiles","removedFile","uploadProgress","maxFilesReached","maxFilesExceeded","errorMultiple","successMultiple","sendingMultiple","canceledMultiple","completeMultiple","processingMultiple","reset","queueComplete","totalUploadProgress"];class wc{constructor(o={}){this.assign(o)}assign(o={},t){t=t||this;for(const n in o)null==o[n]||Array.isArray(o[n])||"object"!=typeof o[n]||o[n]instanceof HTMLElement?t[n]=o[n]:(t[n]={},this.assign(o[n],t[n]))}}let xo=(()=>{class i{constructor(t,n,a,r,s,d){this.zone=t,this.renderer=n,this.elementRef=a,this.differs=r,this.platformId=s,this.defaults=d,this.configDiff=null,this.disabled=!1,this.DZ_INIT=new e.vpe,this.DZ_ERROR=new e.vpe,this.DZ_SUCCESS=new e.vpe,this.DZ_SENDING=new e.vpe,this.DZ_CANCELED=new e.vpe,this.DZ_COMPLETE=new e.vpe,this.DZ_PROCESSING=new e.vpe,this.DZ_DROP=new e.vpe,this.DZ_DRAGSTART=new e.vpe,this.DZ_DRAGEND=new e.vpe,this.DZ_DRAGENTER=new e.vpe,this.DZ_DRAGOVER=new e.vpe,this.DZ_DRAGLEAVE=new e.vpe,this.DZ_THUMBNAIL=new e.vpe,this.DZ_ADDEDFILE=new e.vpe,this.DZ_ADDEDFILES=new e.vpe,this.DZ_REMOVEDFILE=new e.vpe,this.DZ_UPLOADPROGRESS=new e.vpe,this.DZ_MAXFILESREACHED=new e.vpe,this.DZ_MAXFILESEXCEEDED=new e.vpe,this.DZ_ERRORMULTIPLE=new e.vpe,this.DZ_SUCCESSMULTIPLE=new e.vpe,this.DZ_SENDINGMULTIPLE=new e.vpe,this.DZ_CANCELEDMULTIPLE=new e.vpe,this.DZ_COMPLETEMULTIPLE=new e.vpe,this.DZ_PROCESSINGMULTIPLE=new e.vpe,this.DZ_RESET=new e.vpe,this.DZ_QUEUECOMPLETE=new e.vpe,this.DZ_TOTALUPLOADPROGRESS=new e.vpe,yo.autoDiscover=!1}ngOnInit(){if(!(0,A.NF)(this.platformId))return;const t=new wc(this.defaults);t.assign(this.config),this.renderer.addClass(this.elementRef.nativeElement,1===t.maxFiles?"dz-single":"dz-multiple"),this.renderer.removeClass(this.elementRef.nativeElement,1===t.maxFiles?"dz-multiple":"dz-single"),this.zone.runOutsideAngular(()=>{this.instance=new yo(this.elementRef.nativeElement,t)}),this.disabled&&this.instance.disable(),this.DZ_INIT.observers.length&&this.zone.run(()=>{this.DZ_INIT.emit(this.instance)}),this.instance.on("success",()=>{null!=t.autoReset&&setTimeout(()=>this.reset(),t.autoReset)}),this.instance.on("error",()=>{null!=t.errorReset&&setTimeout(()=>this.reset(),t.errorReset)}),this.instance.on("canceled",()=>{null!=t.cancelReset&&setTimeout(()=>this.reset(),t.cancelReset)}),Dc.forEach(n=>{this.instance.on(n.toLowerCase(),(...a)=>{a=1===a.length?a[0]:a;const s=this[`DZ_${n.toUpperCase()}`];s.observers.length>0&&this.zone.run(()=>{s.emit(a)})})}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{}))}ngOnDestroy(){this.instance&&(this.zone.runOutsideAngular(()=>{this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&this.configDiff.diff(this.config||{})&&this.instance&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(t){this.instance&&t.disabled&&t.disabled.currentValue!==t.disabled.previousValue&&(!1===t.disabled.currentValue?this.zone.runOutsideAngular(()=>{this.instance.enable()}):!0===t.disabled.currentValue&&this.zone.runOutsideAngular(()=>{this.instance.disable()}))}dropzone(){return this.instance}reset(t){this.instance&&this.zone.runOutsideAngular(()=>{this.instance.removeAllFiles(t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.R0b),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.aQg),e.Y36(e.Lbi),e.Y36(bc,8))},i.\u0275dir=e.lG2({type:i,selectors:[["","dropzone",""]],inputs:{disabled:"disabled",config:["dropzone","config"]},outputs:{DZ_INIT:"init",DZ_ERROR:"error",DZ_SUCCESS:"success",DZ_SENDING:"sending",DZ_CANCELED:"canceled",DZ_COMPLETE:"complete",DZ_PROCESSING:"processing",DZ_DROP:"drop",DZ_DRAGSTART:"dragStart",DZ_DRAGEND:"dragEnd",DZ_DRAGENTER:"dragEnter",DZ_DRAGOVER:"dragOver",DZ_DRAGLEAVE:"dragLeave",DZ_THUMBNAIL:"thumbnail",DZ_ADDEDFILE:"addedFile",DZ_ADDEDFILES:"addedFiles",DZ_REMOVEDFILE:"removedFile",DZ_UPLOADPROGRESS:"uploadProgress",DZ_MAXFILESREACHED:"maxFilesReached",DZ_MAXFILESEXCEEDED:"maxFilesExceeded",DZ_ERRORMULTIPLE:"errorMultiple",DZ_SUCCESSMULTIPLE:"successMultiple",DZ_SENDINGMULTIPLE:"sendingMultiple",DZ_CANCELEDMULTIPLE:"canceledMultiple",DZ_COMPLETEMULTIPLE:"completeMultiple",DZ_PROCESSINGMULTIPLE:"processingMultiple",DZ_RESET:"reset",DZ_QUEUECOMPLETE:"queueComplete",DZ_TOTALUPLOADPROGRESS:"totalUploadProgress"},exportAs:["ngxDropzone"],features:[e.TTD]}),i})(),Mc=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[A.ez],A.ez]}),i})();var gi=p(1485),Co=p(1092),bo=p(7220),Ac=p(597),kc=p(2380);let Sc=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[A.ez]})}return i})();var Tc=p(2611),Fc=p(7138),Ec=p(3739),Oc=p(5020),Lc=p(9955),Do=(p(7550),p(4874)),wo=p(3738),J=p(3839),hi=p(9016),_t=p(9097),ft=p(1766),K=p(3317),_e=p(5809),Ic=p(3198),oe=p(926),rn=p(1626),C=p(8953),ne=p(716),Yc=p(1728),Pc=p(9482),Dn=p(7043),sn=p(4515),lt=p(5331),pt=p(196),Rc=p(5214);function Mo(i){return i.split("\n").reduce((t,n)=>{if(!n)return t;const a=n.split("=");return t[a[0]]="true"===a[1],t},{})}var wt=p(7648),Ao=p(5941),He=p(9498),Re=p(5722),Me=p(2321),Ke=p(5240);function Ue(i){return o=>{Reflect.defineMetadata(Re.XF,i,o)}}let Ve=(()=>{class i extends _t.f{constructor(t,n){super(),this.eavService=t,this.fieldsSettingsService=n,this.controlConfig={}}ngOnInit(){this.control=this.group.controls[this.config.fieldName],this.controlStatus$=new me.X({dirty:this.control.dirty,disabled:this.control.disabled,invalid:this.control.invalid,touched:this.control.touched,value:this.control.value}),this.control.valueChanges.subscribe(()=>{this.controlStatus$.next({dirty:this.control.dirty,disabled:this.control.disabled,invalid:this.control.invalid,touched:this.control.touched,value:this.control.value})}),this.settings$=new me.X(this.fieldsSettingsService.getFieldSettings(this.config.fieldName)),this.subscription.add(this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).subscribe(t=>{this.settings$.next(t)})),this.label$=this.settings$.pipe((0,I.U)(t=>t.Name),(0,K.x)()),this.placeholder$=this.settings$.pipe((0,I.U)(t=>t.Placeholder),(0,K.x)()),this.required$=this.settings$.pipe((0,I.U)(t=>t.Required),(0,K.x)())}ngOnDestroy(){this.controlStatus$.complete(),this.settings$.complete(),super.ngOnDestroy()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275dir=e.lG2({type:i,inputs:{config:"config",group:"group"},features:[e.qOj]})}return i})();var Se=p(4844);class ko extends Se.M{constructor(){super(...arguments),this.name=_e.v.BooleanDefault}update(o,t){const n={...o};return n.ReverseToggle??=!1,n._label=this.calculateLabel(t,n),n}calculateLabel(o,t){return!0===o&&null!=t.TitleTrue&&""!==t.TitleTrue?t.TitleTrue:!1===o&&null!=t.TitleFalse&&""!==t.TitleFalse?t.TitleFalse:t.Name}}Se.M.add(ko);let mi=(()=>{class i{constructor(t,n){this.zone=n,this.target="_blank",this.element=t.nativeElement}ngOnInit(){this.zone.runOutsideAngular(()=>{this.setAnchorTargets(),this.observer=new MutationObserver(t=>{this.setAnchorTargets()}),this.observer.observe(this.element,{attributes:!0,childList:!0,subtree:!0})})}ngOnDestroy(){this.zone.runOutsideAngular(()=>{this.observer.disconnect()})}setAnchorTargets(){if("a"===this.element.nodeName.toLocaleLowerCase()){const n=this.element;n.target!==this.target&&(n.target=this.target)}const t=this.element.getElementsByTagName("a");for(const n of Array.from(t))n.target!==this.target&&(n.target=this.target)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","appChangeAnchorTarget",""]]})}return i})();var Ht=p(6537);const $c=i=>({"c-fht__container-hint--ellipsis":i});function zc(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-hint",5),e.NdJ("click",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleHint(a))}),e._UZ(1,"span",6),e.ALo(2,"safeHtml"),e.qZA()}if(2&i){const t=e.oxw(),n=e.oxw();e.Q6J("ngClass",t.disabled?"c-fht__container-hint--disabled":"c-fht__container-hint"),e.xp6(1),e.Q6J("ngClass",e.VKq(5,$c,!n.isFullText))("innerHtml",e.lcZ(2,3,t.description),e.oJD)}}const Vc=i=>({param:i});function Gc(i,o){if(1&i&&(e.TgZ(0,"mat-error",7),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,o,e.VKq(4,Vc,t.settings)))}}function Hc(i,o){1&i&&(e.TgZ(0,"mat-error",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,o)))}const Uc=(i,o,t,n)=>({"c-fht__container--no-hint":i,"c-fht__container--last":o,"c-fht__container--last--no-hint":t,"c-fht__container--hyperlink-default-wrapper-fix":n});function Bc(i,o){if(1&i&&(e.TgZ(0,"div",1),e.YNc(1,zc,3,7,"mat-hint",2)(2,Gc,3,6,"mat-error",3)(3,Hc,3,3,"mat-error",4),e.qZA()),2&i){const t=e.oxw();let n;e.Q6J("ngClass",e.l5B(4,Uc,!(o.description||o.invalid&&!t.disableError),t.config.isLastInGroup,t.config.isLastInGroup&&!o.description&&!(o.invalid&&!t.disableError),t.hyperlinkDefaultWrapperFix&&!t.config.isLastInGroup)),e.xp6(1),e.um2(1,o.description?1:-1),e.xp6(1),e.um2(2,(n=o.invalid&&!t.disableError&&t.getErrorMessage())?2:-1,n),e.xp6(1),e.um2(3,(n=!o.invalid&&!t.disableError&&t.getWarningMessage())?3:-1,n)}}let ot=(()=>{class i{constructor(t){this.fieldsSettingsService=t,this.disableError=!1,this.hyperlinkDefaultWrapperFix=!1,this.isFullText=!1}ngOnInit(){this.control=this.group.controls[this.config.fieldName];const t=this.control.valueChanges.pipe((0,I.U)(()=>this.control.invalid),(0,M.O)(this.control.invalid),(0,K.x)()),n=this.control.valueChanges.pipe((0,I.U)(()=>this.control.disabled),(0,M.O)(this.control.disabled),(0,K.x)()),a=this.fieldsSettingsService.getFieldSettings$(this.config.fieldName);this.viewModel$=(0,J.a)([t,n,a]).pipe((0,I.U)(([r,s,d])=>({invalid:r,disabled:s,description:d.Notes,settings:d})))}toggleHint(t){let n=t.target;if("a"!==n.nodeName.toLocaleLowerCase()){for(;n&&n.classList&&!n.classList.contains("notes-container");)if(n=n.parentNode,!n||"a"===n.nodeName.toLocaleLowerCase())return;this.isFullText=!this.isFullText}}getErrorMessage(){return oe.fD.getErrorMessage(this.control,this.config)}getWarningMessage(){return oe.fD.getWarningMessage(this.control)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-field-helper-text"]],inputs:{config:"config",group:"group",disableError:"disableError",hyperlinkDefaultWrapperFix:"hyperlinkDefaultWrapperFix"},decls:2,vars:3,consts:[["class","c-fht__container",3,"ngClass"],[1,"c-fht__container",3,"ngClass"],["class","mat-caption","align","start","fxLayout","row","fxLayoutAlign","start start",3,"ngClass"],["class","mat-caption"],["class","mat-caption warning"],["align","start","fxLayout","row","fxLayoutAlign","start start",1,"mat-caption",3,"ngClass","click"],["appChangeAnchorTarget","",1,"notes-container",3,"ngClass","innerHtml"],[1,"mat-caption"],[1,"mat-caption","warning"]],template:function(n,a){if(1&n&&(e.YNc(0,Bc,4,9,"div",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[A.mk,ie.bx,ie.TO,mt,it,Fe.oO,mi,Ht.z,A.Ov,ge.X$],styles:[".c-fht__container[_ngcontent-%COMP%], .c-fht__container--no-hint[_ngcontent-%COMP%]{padding:.54166667em 0 13px}.c-fht__container--last[_ngcontent-%COMP%], .c-fht__container--last--no-hint[_ngcontent-%COMP%]{padding:.54166667em 0 5px}.c-fht__container--hyperlink-default-wrapper-fix[_ngcontent-%COMP%]{min-height:22px}.c-fht__container-hint[_ngcontent-%COMP%]{color:#1d273d70}.c-fht__container-hint--ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px}.c-fht__container-hint--disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-fht__container--input-invalid[_ngcontent-%COMP%]{padding:6px 12px 11px;border:2px;border-bottom-style:solid;border-color:#b00030}.c-fht__container[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#002753}.c-fht__container[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:#1d273d70}.mat-mdc-form-field-error.warning[_ngcontent-%COMP%]{color:#ffc107}"]})}return i})();function qc(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){const r=e.CHM(t),s=e.oxw();return e.KtG(s.updateValue(r.controlStatus.disabled))}),e._UZ(2,"mat-slide-toggle",2),e.TgZ(3,"span",3),e._uU(4),e.qZA()(),e._UZ(5,"app-field-helper-text",4),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.group),e.xp6(2),e.Q6J("disabled",o.controlStatus.disabled)("checked",o.checked)("ngClass",o.changeable?"changeable-label-mat-slide-toggle":""),e.xp6(2),e.Oqu(o.label),e.xp6(1),e.Q6J("config",t.config)("group",t.group)("disableError",!0)}}let _i=class Ki extends Ve{constructor(o,t){super(o,t),ko.importMe()}ngOnInit(){super.ngOnInit(),this.label$=this.settings$.pipe((0,I.U)(n=>n._label),(0,K.x)());const o=(0,J.a)([this.settings$.pipe((0,I.U)(n=>n.TitleTrue),(0,K.x)()),this.settings$.pipe((0,I.U)(n=>n.TitleFalse),(0,K.x)())]).pipe((0,I.U)(([n,a])=>!(!n||!a)),(0,K.x)()),t=(0,J.a)([this.controlStatus$.pipe((0,I.U)(n=>n.value),(0,K.x)()),this.settings$.pipe((0,I.U)(n=>n.ReverseToggle),(0,K.x)())]).pipe((0,I.U)(([n,a])=>a?!n:n),(0,K.x)());this.viewModel$=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([o]),(0,J.a)([t])]).pipe((0,I.U)(([[n,a,r,s],[d],[g]])=>({controlStatus:n,label:a,placeholder:r,required:s,changeable:d,checked:g})))}ngOnDestroy(){super.ngOnDestroy()}updateValue(o){o||oe.iX.patchControlValue(this.control,!this.control.value)}static#e=this.\u0275fac=function(t){return new(t||Ki)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:Ki,selectors:[["boolean-default"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"formGroup"],[1,"eav-toggle-hitbox",3,"click"],[3,"disabled","checked","ngClass"],[1,"eav-slide-toggle-label"],[3,"config","group","disableError"]],template:function(t,n){if(1&t&&(e.YNc(0,qc,6,8,"div",0),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[A.mk,Z.JL,Z.sg,an.Rr,Fe.oO,ot,A.Ov],styles:["[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__shadow{background-color:#0088f4}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__track:after{background-color:#7fc3f9!important}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:#bfe1fc!important}.eav-slide-toggle-label[_ngcontent-%COMP%]{margin-left:8px}.eav-toggle-hitbox[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer}"]})};_i=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ])],_i);class So extends Se.M{constructor(){super(...arguments),this.name=_e.v.BooleanTristate}update(o,t){const n={...o};return n.ReverseToggle??=!1,n._label=this.calculateLabel(t,n),n}calculateLabel(o,t){return!0===o&&null!=t.TitleTrue&&""!==t.TitleTrue?t.TitleTrue:!1===o&&null!=t.TitleFalse&&""!==t.TitleFalse?t.TitleFalse:null===o&&null!=t.TitleIndeterminate&&""!==t.TitleIndeterminate?t.TitleIndeterminate:t.Name}}Se.M.add(So);const Jc=(i,o,t,n)=>({"toggle-false":i,"toggle-true":o,"toggle-null":t,"changeable-label-tristate-mat-slide-toggle":n});function jc(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){const r=e.CHM(t),s=e.oxw();return e.KtG(s.updateValue(r.controlStatus.disabled))}),e._UZ(2,"mat-slide-toggle",2),e.TgZ(3,"span",3),e._uU(4),e.qZA()(),e._UZ(5,"app-field-helper-text",4),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.group),e.xp6(2),e.Q6J("disabled",o.controlStatus.disabled)("checked",o.checked)("ngClass",e.l5B(8,Jc,!1===o.checked,!0===o.checked,null===o.checked,o.changeable)),e.xp6(2),e.Oqu(o.label),e.xp6(1),e.Q6J("config",t.config)("group",t.group)("disableError",!0)}}let fi=class Xi extends Ve{constructor(o,t){super(o,t),So.importMe()}ngOnInit(){super.ngOnInit(),this.label$=this.settings$.pipe((0,I.U)(n=>n._label),(0,K.x)());const o=(0,J.a)([this.settings$.pipe((0,I.U)(n=>n.TitleTrue),(0,K.x)()),this.settings$.pipe((0,I.U)(n=>n.TitleIndeterminate),(0,K.x)()),this.settings$.pipe((0,I.U)(n=>n.TitleFalse),(0,K.x)())]).pipe((0,I.U)(([n,a,r])=>!!(n&&a&&r)),(0,K.x)()),t=(0,J.a)([this.controlStatus$.pipe((0,I.U)(n=>""===n.value?null:n.value),(0,K.x)()),this.settings$.pipe((0,I.U)(n=>n.ReverseToggle),(0,K.x)())]).pipe((0,I.U)(([n,a])=>null==n?n:a?!n:n),(0,K.x)());this.viewModel$=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([o]),(0,J.a)([t])]).pipe((0,I.U)(([[n,a,r,s],[d],[g]])=>({controlStatus:n,label:a,placeholder:r,required:s,changeable:d,checked:g})))}ngOnDestroy(){super.ngOnDestroy()}updateValue(o){if(!o){const n=this.settings$.value.ReverseToggle;let a;switch(this.control.value){case!1:a=!!n||null;break;case"":case null:a=!n;break;case!0:a=!!n&&null}oe.iX.patchControlValue(this.control,a)}}static#e=this.\u0275fac=function(t){return new(t||Xi)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:Xi,selectors:[["boolean-tristate"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"formGroup"],[1,"eav-toggle-hitbox",3,"click"],[3,"disabled","checked","ngClass"],[1,"eav-slide-toggle-label"],[3,"config","group","disableError"]],template:function(t,n){if(1&t&&(e.YNc(0,jc,6,13,"div",0),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[A.mk,Z.JL,Z.sg,an.Rr,Fe.oO,ot,A.Ov],styles:["[_nghost-%COMP%]     .toggle-true.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__shadow{background-color:#0088f4}[_nghost-%COMP%]     .toggle-true.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__track:after{background-color:#7fc3f9!important}[_nghost-%COMP%]     .toggle-false.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .toggle-false.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:#bfe1fc!important}[_nghost-%COMP%]     .toggle-null.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .toggle-null.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-image:linear-gradient(to right,#7fc3f9,#bfe1fc)!important}[_nghost-%COMP%]     .toggle-null .mdc-switch__handle{margin-left:8px}.eav-slide-toggle-label[_ngcontent-%COMP%]{margin-left:8px}.eav-toggle-hitbox[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer}"]})};fi=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ])],fi);let wn=class ea extends Ve{constructor(o,t){super(o,t)}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(t){return new(t||ea)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:ea,selectors:[["custom-default"]],features:[e.qOj],decls:2,vars:1,consts:[[1,"message"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij("",n.config.fieldName,": Field configuration is incomplete and should be fixed."))},styles:[".message[_ngcontent-%COMP%]{padding:16px}"]})};wn=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ])],wn);class vi extends Se.M{constructor(){super(...arguments),this.name=_e.v.CustomJsonEditor}update(o){const t={...o};return t.Rows||=5,t.JsonValidation||="strict",t.JsonSchemaMode||="none",t.JsonSchemaSource||="link",t.JsonSchemaUrl??="",t.JsonSchemaRaw??="",t.JsonCommentsAllowed??=!1,t}}Se.M.add(vi);class To extends vi{constructor(){super(...arguments),this.name=_e.v.StringJson}}Se.M.add(To);var Fo=p(9424);function Qc(i,o){if(1&i&&e._UZ(0,"input",5),2&i){const t=e.oxw();e.Q6J("placeholder",t.placeholder)}}const Wc=(i,o,t)=>({disabled:i,focused:o,error:t}),Kc=i=>({height:i});function Xc(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",0)(1,"mat-label",1),e._uU(2),e.qZA(),e.TgZ(3,"app-monaco-editor",2),e.NdJ("valueChanged",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.codeChanged(a))})("focused",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onFocused())})("blurred",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onBlurred())}),e.qZA(),e.YNc(4,Qc,1,1,"input",3),e.qZA(),e._UZ(5,"app-field-helper-text",4)}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.kEZ(12,Wc,o.controlStatus.disabled,o.focused,o.controlStatus.touched&&o.controlStatus.invalid)),e.xp6(2),e.AsE("",o.label," ",o.required?"*":"",""),e.xp6(1),e.Q6J("ngStyle",e.VKq(16,Kc,o.editorHeight))("filename",t.filename)("value",o.controlStatus.value)("options",t.monacoOptions)("jsonSchema",o.jsonSchema)("jsonComments",o.jsonComments),e.xp6(1),e.um2(4,!o.controlStatus.value&&o.placeholder?4:-1),e.xp6(1),e.Q6J("config",t.config)("group",t.group)}}let Mn=class ta extends Ve{constructor(o,t){super(o,t),this.monacoOptions={minimap:{enabled:!1},lineHeight:19,lineNumbers:"off",lineDecorationsWidth:0,folding:!1,scrollBeyondLastLine:!1,tabSize:2,fixedOverflowWidgets:!0},vi.importMe(),To.importMe()}ngOnInit(){super.ngOnInit(),this.filename=`${this.config.fieldName} ${this.config.entityGuid} ${this.eavService.eavConfig.formId}.json`;const o=this.settings$.pipe((0,I.U)(a=>a.Rows),(0,K.x)()),t=this.settings$.pipe((0,I.U)(a=>"none"===a.JsonSchemaMode?void 0:{type:a.JsonSchemaSource,value:"link"===a.JsonSchemaSource?a.JsonSchemaUrl:a.JsonSchemaRaw}),(0,K.x)(oe.iX.objectsEqual)),n=this.settings$.pipe((0,I.U)(a=>a.JsonCommentsAllowed?"ignore":"error"),(0,K.x)());this.viewModel$=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$,this.config.focused$]),(0,J.a)([o,t,n])]).pipe((0,I.U)(([[a,r,s,d,g],[b,F,D]])=>({controlStatus:a,label:r,placeholder:s,required:d,focused:g,rowCount:b,editorHeight:b*this.monacoOptions.lineHeight+"px",jsonSchema:F,jsonComments:D})))}ngOnDestroy(){super.ngOnDestroy()}codeChanged(o){oe.iX.patchControlValue(this.control,o)}onFocused(){this.config.focused$.next(!0)}onBlurred(){this.control.touched||oe.iX.markControlTouched(this.control),this.config.focused$.next(!1)}static#e=this.\u0275fac=function(t){return new(t||ta)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:ta,selectors:[["custom-json-editor"]],features:[e.qOj],decls:2,vars:3,consts:[[1,"json-field",3,"ngClass"],[1,"label"],[1,"editor",3,"ngStyle","filename","value","options","jsonSchema","jsonComments","valueChanged","focused","blurred"],["class","placeholder",3,"placeholder"],[3,"config","group"],[1,"placeholder",3,"placeholder"]],template:function(t,n){if(1&t&&(e.YNc(0,Xc,6,18),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[A.mk,A.PC,ie.hX,Fo.T,Fe.oO,Fe.Zl,ot,A.Ov],styles:[".json-field[_ngcontent-%COMP%]{padding-top:28px;border-bottom:1px solid rgba(0,0,0,.2);padding-bottom:12px;position:relative}.json-field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#0009;cursor:default;font-size:12px;transition:none;position:absolute;left:0;top:0;-webkit-user-select:none;user-select:none}.json-field[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{position:absolute;top:28px;left:64px;border:none;background:transparent;outline:none;width:calc(100% - 112px);font-family:inherit;overflow:hidden;text-overflow:ellipsis;pointer-events:none}.json-field[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     .monaco-editor .scroll-decoration{display:none}.json-field[_ngcontent-%COMP%]:hover{border-bottom:2px solid rgba(0,0,0,.4);padding-bottom:11px}.json-field.focused[_ngcontent-%COMP%]{border-bottom:2px solid #002753;padding-bottom:11px}.json-field.focused[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#002753}.json-field.error[_ngcontent-%COMP%]{border-bottom:2px solid #b00030;padding-bottom:11px}.json-field.error[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#b00030}.json-field.disabled[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.json-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]{pointer-events:none}.json-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     *{color:#00000061}"]})};Mn=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ])],Mn);class Eo extends Se.M{constructor(){super(...arguments),this.name=_e.v.CustomGps}update(o){return{...o}}}Se.M.add(Eo);class Oo extends Se.M{constructor(){super(...arguments),this.name=_e.v.StringWysiwyg,this.canAutoTranslate=!0}update(o,t,n){const a={...o};return a._allowDialog??=null==a.Dialog||""===a.Dialog,a.Dialog||="inline",a.ButtonSource||="",a.ButtonAdvanced||="",a.ContentCss||="",a.InlineInitialHeight||="3",a._advanced=this.findAndMergeAdvanced(n,a.WysiwygConfiguration,{Mode:"default",Json:""}),"rich"===a._advanced.Mode&&this.fixImageUrls(t,n),a}processValueOnLoad(o,t){try{const n=(new DOMParser).parseFromString(o,"text/html");return n.body.querySelectorAll("img").forEach(a=>{const r=a.getAttribute("data-cmsid")?.replace("file:",""),s=a.getAttribute("src");if(r&&s){const d=s.split("/").pop();if(r===d){const g=t.find(b=>b.Name===r);g&&a.setAttribute("src",g.Url)}}}),n.body.innerHTML}catch(n){return console.error("Error while cleaning wysiwyg content",n),o}}fixImageUrls(o,t){return"string"!=typeof o||o.indexOf('data-cmsid="file:')<0||console.log("2dm - found cmsid in wysiwyg value",o),o}}Se.M.add(Oo);var An=p(8968),Lo=p(1632);class eu{constructor(o,t,n,a,r,s){this.field=n,this.field$=a,this._experimental=r,this.data=new tu(o,t),this.dialog=new nu(o),this.loadScript=(d,g,b)=>{if(("string"==typeof d||"function"==typeof d)&&"string"==typeof g&&"function"==typeof b)return g=this.resolveTokens(g,s),void(0,Lo.y)([{test:d,src:g}],b);if(!Array.isArray(d)||"function"!=typeof g)throw new Error("Unrecognized parameters. Please double check your input");for(const F of d)F.src=this.resolveTokens(F.src,s);(0,Lo.y)(d,g)}}resolveTokens(o,t){return(o=o.replace(/\[System:Path\]/i,oe.iN.getUrlPrefix("system",t)).replace(/\[Zone:Path\]/i,oe.iN.getUrlPrefix("zone",t)).replace(/\[App:Path\]/i,oe.iN.getUrlPrefix("app",t))).includes("?")||(o=`${o}?sxcver=${window.sxcVersion}`),o}}class tu{constructor(o,t){this._connectorHost=o,this.value$=t,this.clientValueChangeListeners=[],this.value$.subscribe(n=>{this.value=n,this.clientValueChangeListeners.forEach(a=>a(n))})}update(o){this._connectorHost.update(o)}onValueChange(o){this.clientValueChangeListeners.push(o)}}class nu{constructor(o){this.open=t=>o.expand(!0,t),this.close=()=>o.expand(!1)}}class Io{constructor(o,t,n,a,r,s,d,g,b,F,D,q,X,se,le,Oe,xe,Ze){this.config=o,this.group=t,this.customElContainerRef=n,this.customElName=a,this.eavService=r,this.translateService=s,this.contentTypeService=d,this.inputTypeService=g,this.featuresService=b,this.editRoutingService=F,this.adamService=D,this.dialog=q,this.viewContainerRef=X,this.changeDetectorRef=se,this.fieldsSettingsService=le,this.entityCacheService=Oe,this.snackBar=xe,this.zone=Ze,this.control=this.group.controls[this.config.fieldName],this.subscription=new y.w0,this.value$=new me.X(this.control.value),this.subscription.add(this.control.valueChanges.pipe((0,K.x)()).subscribe(be=>{this.value$.next(be)})),this.settings$=new me.X(this.fieldsSettingsService.getFieldSettings(this.config.fieldName)),this.subscription.add(this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).subscribe(be=>{this.settings$.next(be)})),this.customEl=document.createElement(this.customElName),this.customEl.connector=this.buildConnector(),this.customElContainerRef.nativeElement.appendChild(this.customEl)}destroy(){this.value$.complete(),this.settings$.complete(),this.subscription.unsubscribe(),this.customEl?.parentNode.removeChild(this.customEl),this.customEl=null}buildConnector(){const o=this.calculateRegularProps(),t=this.calculateExperimentalProps(),n=this.fieldsSettingsService.getFieldSettings(this.config.fieldName),a=this.getFieldConfig(n),r=this.settings$.pipe((0,I.U)(g=>this.getFieldConfig(g))),s=this.value$.asObservable(),d=new eu(o,s,a,r,t,this.eavService.eavConfig);return this.subscription.add(this.settings$.subscribe(g=>{d.field.settings=g,d.field.label=g.Name,d.field.placeholder=g.Placeholder,d.field.required=g.Required})),d}calculateRegularProps(){return{update:t=>{this.zone.run(()=>{this.updateControl(this.control,t)})},expand:(t,n)=>{this.zone.run(()=>{this.editRoutingService.expand(t,this.config.index,this.config.entityGuid,n)})}}}calculateExperimentalProps(){const o=this.contentTypeService.getContentType(this.config.contentTypeId),t=this.inputTypeService.getInputTypes(),n=oe.YB.getInputTypeNames(o.Attributes,t);return{entityGuid:this.config.entityGuid,allInputTypeNames:n,formGroup:this.group,translateService:this.translateService,isExpanded$:this.editRoutingService.isExpanded$(this.config.index,this.config.entityGuid),dropzone:this.config.dropzone,adam:this.config.adam,updateField:(r,s)=>{this.zone.run(()=>{this.updateControl(this.group.controls[r],s)})},isFeatureEnabled$:r=>this.featuresService.isEnabled$(r),setFocused:r=>{this.zone.run(()=>{this.config.focused$.next(r)})},openPagePicker:r=>{this.zone.run(()=>{oe.oY.open(this.config,this.group,this.dialog,this.viewContainerRef,this.changeDetectorRef,r)})},featureDisabledWarning:r=>{this.zone.run(()=>{this.openFeatureDisabledWarning(r)})},getUrlOfId:(r,s)=>{this.zone.run(()=>{this.getUrlOfId(r,s)})},getSettings:r=>this.eavService.eavConfig.settings?.Values[r],getEntityCache:r=>this.entityCacheService.getEntities(r),getEntityCache$:r=>this.entityCacheService.getEntities$(r)}}getFieldConfig(o){return{name:this.config.fieldName,index:this.config.index,label:o.Name,placeholder:o.Placeholder,inputType:this.config.inputType,type:this.config.type,required:o.Required,disabled:this.config.initialDisabled,settings:o}}getUrlOfId(o,t){o&&this.adamService.getLinkInfo(o,this.config.contentTypeId,this.config.entityGuid,this.config.fieldName).subscribe(s=>{s&&t(s.Value)})}updateControl(o,t){o.disabled||oe.iX.patchControlValue(o,t)}openFeatureDisabledWarning(o){o===lt.C.PasteImageFromClipboard&&this.snackBar.open(this.translateService.instant("Message.PastingFilesIsNotEnabled"),this.translateService.instant("Message.FindOutMore"),{duration:3e3}).onAction().subscribe(()=>{An.B.openDialog(this.dialog,lt.C.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)})}}const iu=["customElContainer"];let au=(()=>{class i{constructor(t,n,a,r,s,d,g,b,F,D,q,X,se,le){this.eavService=t,this.translateService=n,this.contentTypeService=a,this.inputTypeService=r,this.featuresService=s,this.editRoutingService=d,this.adamService=g,this.dialog=b,this.viewContainerRef=F,this.changeDetectorRef=D,this.fieldsSettingsService=q,this.entityCacheService=X,this.snackBar=se,this.zone=le}ngAfterViewInit(){const t=history?.state?.componentTag||`field-${this.config.inputType}-dialog`;(0,ft.P)("Connector created for:",t),this.connectorCreator=new Io(this.config,this.group,this.customElContainerRef,t,this.eavService,this.translateService,this.contentTypeService,this.inputTypeService,this.featuresService,this.editRoutingService,this.adamService,this.dialog,this.viewContainerRef,this.changeDetectorRef,this.fieldsSettingsService,this.entityCacheService,this.snackBar,this.zone)}ngOnDestroy(){(0,ft.P)("Connector destroyed"),this.connectorCreator.destroy()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(ge.sK),e.Y36(ne.h1),e.Y36(ne.si),e.Y36(wt.k),e.Y36(C.nz),e.Y36(C._q),e.Y36($e.uw),e.Y36(e.s_b),e.Y36(e.sBO),e.Y36(C.GQ),e.Y36(ne.r6),e.Y36(yt.ux),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-connector"]],viewQuery:function(n,a){if(1&n&&e.Gf(iu,5),2&n){let r;e.iGM(r=e.CRH())&&(a.customElContainerRef=r.first)}},inputs:{config:"config",group:"group"},decls:2,vars:0,consts:[[2,"height","100%","position","relative"],["customElContainer",""]],template:function(n,a){1&n&&e._UZ(0,"div",0,1)}})}return i})();function ou(i,o){1&i&&e._UZ(0,"mat-spinner",0)}function ru(i,o){if(1&i&&e._UZ(0,"app-connector",1),2&i){const t=e.oxw(2);e.Q6J("config",t.config)("group",t.group)}}function su(i,o){1&i&&e.YNc(0,ou,1,0,"mat-spinner",0)(1,ru,1,2,"app-connector",1),2&i&&(e.um2(0,o.loading?0:-1),e.xp6(1),e.um2(1,!o.loading&&o.isExpanded?1:-1))}let yi=class na extends Ve{constructor(o,t,n,a){super(o,t),this.scriptsLoaderService=n,this.editRoutingService=a,Oo.importMe(),Eo.importMe()}ngOnInit(){super.ngOnInit(),this.loading$=new me.X(!0);const o=this.editRoutingService.isExpanded$(this.config.index,this.config.entityGuid);this.viewModel=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([this.loading$,o])]).pipe((0,I.U)(([[t,n,a,r],[s,d]])=>({controlStatus:t,label:n,placeholder:a,required:r,loading:s,isExpanded:d}))),this.loadAssets()}ngOnDestroy(){this.loading$.complete(),super.ngOnDestroy()}loadAssets(){const o=this.config.angularAssets.split("\n");0!==o.length&&this.scriptsLoaderService.load(o,this.assetsLoaded.bind(this))}assetsLoaded(){(0,ft.P)("ExternalWebcomponentComponent",this.config.fieldName,"loaded"),this.loading$.next(!1)}static#e=this.\u0275fac=function(t){return new(t||na)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.W5),e.Y36(C.nz))};static#t=this.\u0275cmp=e.Xpm({type:na,selectors:[["external-web-component"]],features:[e.qOj],decls:2,vars:3,consts:[["color","accent"],[3,"config","group"]],template:function(t,n){if(1&t&&(e.YNc(0,su,2,2),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel))?0:-1,a)}},dependencies:[po.Ou,au,A.Ov]})};yi=(0,Me.gn)([Ue({}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,C.W5,C.nz])],yi);var lu=p(292),Te=p.n(lu),du=p(736),xi=p.n(du),cu=(p(8971),p(2),p(4891),p(1795),p(385),p(823),p(7820),p(1907),p(4421),p(2335),p(2547),p(4820),p(5013),p(1597),p(7822),p(9264),p(1488),p(9272),p(8956),p(7638),p(1580),p(8871),p(1427),p(1957),p(3577),p(956),p(2166),p(9278),p(4175),p(7944),p(8105),p(6906),p(308),p(2121),p(4058),p(2302),p(7910),p(1282),p(9448),p(89),p(8725),p(4829),p(6912),p(983),p(3985),p(158),p(9022),p(2081)),Yo=p.n(cu),uu=p(8543),Po=p.n(uu),pu=p(47),Ro=p.n(pu);const Ci=new e.OlP("MAT_DAYJS_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function gu(){return{useUtc:!1}}});let kn=(()=>{class i extends T._A{constructor(t,n){super(),this.dateLocale=t,this._options=n,this.shouldUseUtc&&Te().extend(xi()),Te().extend(Ro()),Te().extend(Yo()),Te().extend(Po()),this.setLocale(Te()().locale())}setLocale(t){super.setLocale(t),Te().locale(t);const n=Te()().locale(t).localeData();this.localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:Te().months(),shortMonths:Te().monthsShort(),dates:this.range(31,a=>this.createDate(2017,0,a+1).format("D")),longDaysOfWeek:this.range(7,a=>this.dayJs().set("day",a).format("dddd")),shortDaysOfWeek:Te().weekdaysShort(),narrowDaysOfWeek:Te().weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"===t?this.localeData.longMonths:this.localeData.shortMonths}getDateNames(){return this.localeData.dates}getDayOfWeekNames(t){return"long"===t?this.localeData.longDaysOfWeek:"short"===t?this.localeData.shortDaysOfWeek:this.localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this.localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return this.dayJs(t).clone().locale(this.locale)}createDate(t,n,a){return this.dayJs().set("year",t).set("month",n).set("date",a).set("hour",0).set("minute",0).set("second",0).set("millisecond",0)}today(){return this.dayJs()}parse(t,n){if(t&&"string"==typeof t){const a=Te()().localeData().longDateFormat(n);let r=this.dayJs(t,a,this.locale,!0);if(r.isValid())return r;if(9===t.length){const s=a.replace("DD","D");if(r=this.dayJs(t,s,this.locale,!0),r.isValid())return r;const d=a.replace("MM","M");if(r=this.dayJs(t,d,this.locale,!0),r.isValid())return r}if(8===t.length){const s=a.replace(/[\W_]+/g,"");if(r=this.dayJs(t,s,this.locale,!0),r.isValid())return r;const d=a.replace("DD","D").replace("MM","M");if(r=this.dayJs(t,d,this.locale,!0),r.isValid())return r}if(t.length<6&&t.length>2){let s=new Array;if(-1!==t.indexOf("/")&&(s=t.split("/")),-1!==t.indexOf("-")&&(s=t.split("-")),-1!==t.indexOf(".")&&(s=t.split(".")),2===s.length){let d,g;if(a.startsWith("D")?(d=s[0],g=s[1]):s.length>1&&(g=s[0],d=s[1]),1===g.length&&(g=0+g),1===d.length&&(d=0+d),r=this.dayJs(d+g,"DDMM",this.locale,!0),r.isValid())return r}}return 2===t.length&&(r=this.dayJs(t,"DD",this.locale,!0),r.isValid())||1===t.length&&(r=this.dayJs(t,"D",this.locale,!0),r.isValid())?r:this.dayJs(null)}return t?this.dayJs(t).locale(this.locale):null}format(t,n){if(!this.isValid(t))throw Error("DayjsDateAdapter: Cannot format invalid date.");return t.locale(this.locale).format(n)}addCalendarYears(t,n){return t.add(n,"year")}addCalendarMonths(t,n){return t.add(n,"month")}addCalendarDays(t,n){return t.add(n,"day")}toIso8601(t){return t.toISOString()}deserialize(t){let n;if(t instanceof Date)n=this.dayJs(t);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;n=this.dayJs(t)}return n&&this.isValid(n)?this.dayJs(n):super.deserialize(t)}isDateInstance(t){return Te().isDayjs(t)}isValid(t){return this.clone(t).isValid()}invalid(){return this.dayJs(null)}dayJs(t,n,a,r){if(r=r||!1,!this.shouldUseUtc)return Te()(t,n);if("string"==typeof t){const s=new Date(Te()(t,n).toDate());return r&&s.setUTCHours(s.getUTCHours()-s.getTimezoneOffset()/60),s.getTimezoneOffset()>0?Te()(new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate()))).add(1,"day").utc():Te()(new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate()))).utc()}return Te()(t,n).utc()}range(t,n){const a=Array(t);for(let r=0;r<t;r++)a[r]=n(r);return a}get shouldUseUtc(){const{useUtc:t}=this._options||{};return!!t}static#e=this.\u0275fac=function(n){return new(n||i)(e.LFG(T.Ad,8),e.LFG(Ci,8))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();const hu={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Zo=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({providers:[{provide:T._A,useClass:kn,deps:[T.Ad,Ci]}]})}return i})(),mu=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({providers:[{provide:T.sG,useValue:hu}],imports:[Zo]})}return i})();const Sn=new e.OlP("NGX_MAT_DAYJS_DATETIME_ADAPTER_OPTIONS",{providedIn:"root",factory:function _u(){return{useUtc:!1}}});let Tn=(()=>{class i extends j{constructor(t,n){super(),this.dateLocale=t,this._options=n,this.shouldUseUtc&&Te().extend(xi()),Te().extend(Ro()),Te().extend(Yo()),Te().extend(Po()),this.setLocale(Te()().locale())}setLocale(t){super.setLocale(t),Te().locale(t);const n=Te()().locale(t).localeData();this.localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:Te().months(),shortMonths:Te().monthsShort(),dates:this.range(31,a=>this.createDate(2017,0,a+1).format("D")),longDaysOfWeek:this.range(7,a=>this.dayJs().set("day",a).format("dddd")),shortDaysOfWeek:Te().weekdaysShort(),narrowDaysOfWeek:Te().weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"===t?this.localeData.longMonths:this.localeData.shortMonths}getDateNames(){return this.localeData.dates}getDayOfWeekNames(t){return"long"===t?this.localeData.longDaysOfWeek:"short"===t?this.localeData.shortDaysOfWeek:this.localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this.localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return this.dayJs(t).clone().locale(this.locale)}createDate(t,n,a){return this.dayJs().set("year",t).set("month",n).set("date",a)}today(){return this.dayJs()}parse(t,n){return t&&"string"==typeof t?this.dayJs(t,n,this.locale,!0):t?this.dayJs(t).locale(this.locale):null}format(t,n){if(!this.isValid(t))throw Error("DayjsDateAdapter: Cannot format invalid date.");return t.locale(this.locale).format(n)}addCalendarYears(t,n){return t.add(n,"year")}addCalendarMonths(t,n){return t.add(n,"month")}addCalendarDays(t,n){return t.add(n,"day")}toIso8601(t){return t.toISOString()}deserialize(t){let n;if(t instanceof Date)n=this.dayJs(t);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;n=this.dayJs(t)}return n&&this.isValid(n)?this.dayJs(n):super.deserialize(t)}isDateInstance(t){return Te().isDayjs(t)}isValid(t){return this.clone(t).isValid()}invalid(){return this.dayJs(null)}getHour(t){return this.clone(t).hour()}getMinute(t){return this.clone(t).minute()}getSecond(t){return this.clone(t).second()}setHour(t,n){t.$set("hour",n)}setMinute(t,n){t.$set("minute",n)}setSecond(t,n){t.$set("second",n)}dayJs(t,n,a,r){if(!this.shouldUseUtc)return Te()(t,{format:n,locale:a},a);r=r||!1;const s=new Date(Te()(t,n).toDate());return r&&s.setUTCHours(s.getUTCHours()-s.getTimezoneOffset()/60),Te()(s,{format:n,locale:a,utc:this.shouldUseUtc},a).utc()}range(t,n){const a=Array(t);for(let r=0;r<t;r++)a[r]=n(r);return a}get shouldUseUtc(){const{useUtc:t}=this._options||{};return!!t}static#e=this.\u0275fac=function(n){return new(n||i)(e.LFG(T.Ad,8),e.LFG(Sn,8))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();const fu={parse:{dateInput:"l, LTS"},display:{dateInput:"l, LTS",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let zo=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({providers:[{provide:j,useClass:Tn,deps:[T.Ad,Sn]}]})}return i})(),vu=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({providers:[{provide:U,useValue:fu}],imports:[zo]})}return i})();const yu=["picker"],xu=["hiddenPicker"];function Cu(i,o){if(1&i&&(e.TgZ(0,"mat-form-field",3),e._UZ(1,"input",4)(2,"mat-datepicker-toggle",5)(3,"mat-datepicker",null,6),e.qZA()),2&i){const t=e.MAs(4);e.xp6(1),e.Q6J("matDatepicker",t),e.xp6(1),e.Q6J("for",t)}}function bu(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",7)(1,"input",8),e.NdJ("dateChange",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateValue(a))}),e.qZA(),e._UZ(2,"mat-datepicker-toggle",9),e.ALo(3,"translate"),e._UZ(4,"mat-datepicker",null,10),e.TgZ(6,"mat-label"),e._uU(7),e.qZA()()}if(2&i){const t=e.MAs(5),n=e.oxw(),a=e.oxw();e.Q6J("formGroup",a.group),e.xp6(1),e.Q6J("disabled",n.controlStatus.disabled)("matDatepicker",t)("placeholder",n.placeholder)("required",n.required)("value",n.controlStatus.value),e.xp6(1),e.Q6J("for",t)("tippy",e.lcZ(3,9,"Fields.DateTime.Open")),e.xp6(5),e.Oqu(n.label)}}function Du(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",7)(1,"input",11),e.NdJ("dateChange",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateValue(a))}),e.qZA(),e._UZ(2,"mat-datepicker-toggle",9),e.ALo(3,"translate"),e.TgZ(4,"ngx-mat-datetime-picker",12,10),e.NdJ("opened",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.pickerOpened())}),e.qZA(),e.TgZ(6,"mat-label"),e._uU(7),e.qZA()()}if(2&i){const t=e.MAs(5),n=e.oxw(),a=e.oxw();e.Q6J("formGroup",a.group),e.xp6(1),e.Q6J("disabled",n.controlStatus.disabled)("ngxMatDatetimePicker",t)("placeholder",n.placeholder)("required",n.required)("value",n.controlStatus.value),e.xp6(1),e.Q6J("for",t)("tippy",e.lcZ(3,9,"Fields.DateTime.Open")),e.xp6(5),e.Oqu(n.label)}}function wu(i,o){if(1&i&&(e.YNc(0,Cu,5,2,"mat-form-field",1)(1,bu,8,11,"mat-form-field",2)(2,Du,8,11,"mat-form-field",2),e._UZ(3,"app-field-helper-text",0)),2&i){const t=e.oxw();e.um2(0,t.visible?0:-1),e.xp6(1),e.um2(1,o.useTimePicker?-1:1),e.xp6(1),e.um2(2,o.useTimePicker?2:-1),e.xp6(1),e.Q6J("config",t.config)("group",t.group)}}let bi=class ia extends Ve{constructor(o,t,n,a,r,s){super(o,t),this.translate=n,this.matDayjsDateAdapter=a,this.ngxMatDayjsDatetimeAdapter=r,this.ngxMatDayjsDatetimeAdapterOptions=s,this.visible=!0;const d=this.translate.currentLang;Te().locale(d),this.matDayjsDateAdapter.setLocale(d),this.ngxMatDayjsDatetimeAdapter.setLocale(d)}ngOnInit(){super.ngOnInit();const o=this.settings$.pipe((0,I.U)(t=>t.UseTimePicker),(0,K.x)());this.viewModel=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([o])]).pipe((0,I.U)(([[t,n,a,r],[s]])=>({controlStatus:t,label:n,placeholder:a,required:r,useTimePicker:s})))}ngAfterViewInit(){void 0!==this.hiddenPicker&&(this.hiddenPicker.open(),this.hiddenPicker.close(),this.visible=!1)}ngOnDestroy(){super.ngOnDestroy()}updateValue(o){const t=null!=o.value?o.value.toJSON():null;oe.iX.patchControlValue(this.control,t)}pickerOpened(){if(Te().extend(xi()),this.picker instanceof Ra&&this.ngxMatDayjsDatetimeAdapterOptions?.useUtc)if(this.control.value)this.picker.select(Te().utc(this.control.value));else{const o=Te()(),t=`${o.format("YYYY-MM-DD")}T${o.format("HH:mm:ss.SSS")}Z`;this.picker.select(Te().utc(t,"YYYY-MM-DDTHH:mm:ss.SSSZ"))}}static#e=this.\u0275fac=function(t){return new(t||ia)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(ge.sK),e.Y36(kn),e.Y36(Tn),e.Y36(Sn))};static#t=this.\u0275cmp=e.Xpm({type:ia,selectors:[["datetime-default"]],viewQuery:function(t,n){if(1&t&&(e.Gf(yu,5),e.Gf(xu,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.picker=a.first),e.iGM(a=e.CRH())&&(n.hiddenPicker=a.first)}},features:[e.qOj],decls:2,vars:3,consts:[[3,"config","group"],["style","position: absolute; top: -10000px; left: -10000px; visibility: hidden;"],["color","accent","class","eav-form-field",3,"formGroup"],[2,"position","absolute","top","-10000px","left","-10000px","visibility","hidden"],["matInput","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["hiddenPicker",""],["color","accent",1,"eav-form-field",3,"formGroup"],["matInput","",3,"disabled","matDatepicker","placeholder","required","value","dateChange"],["matTextSuffix","",3,"for","tippy"],["picker",""],["matInput","",3,"disabled","ngxMatDatetimePicker","placeholder","required","value","dateChange"],[3,"opened"]],template:function(t,n){if(1&t&&(e.YNc(0,wu,4,5,"app-field-helper-text",0),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel))?0:-1,a)}},dependencies:[He.$,De.Nt,ie.KE,ie.hX,ie.R9,Z.JL,Z.sg,ec,ri,rc,Ra,Qn,ot,A.Ov,ge.X$],styles:["ngx-mat-datepicker-content{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}"]})};bi=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,ge.sK,kn,Tn,Object])],bi);let Mu=(()=>{class i{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["empty-default"]],decls:0,vars:0,template:function(n,a){}})}return i})();var Di=p(3393);function Au(i,o){if(1&i&&(e._UZ(0,"div",1),e.ALo(1,"safeHtml")),2&i){const t=e.oxw();e.Q6J("innerHtml",e.lcZ(1,1,t.notes),e.oJD)}}function ku(i,o){1&i&&e.YNc(0,Au,2,3,"div",0),2&i&&e.um2(0,o.visible?0:-1)}let wi=class aa{constructor(o){this.fieldsSettingsService=o}ngOnInit(){const o=this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).pipe((0,I.U)(t=>({Notes:t.Notes,Visible:Di.Z.mergedVisible(t)})),(0,K.x)(oe.iX.objectsEqual));this.viewModel=(0,J.a)([o]).pipe((0,I.U)(([t])=>({notes:t.Notes,visible:t.Visible})))}static#e=this.\u0275fac=function(t){return new(t||aa)(e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:aa,selectors:[["empty-message"]],inputs:{config:"config"},decls:2,vars:3,consts:[["class","message-box",3,"innerHtml"],[1,"message-box",3,"innerHtml"]],template:function(t,n){if(1&t&&(e.YNc(0,ku,1,1),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel))?0:-1,a)}},dependencies:[Ht.z,A.Ov],styles:[".message-box[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}"]})};wi=(0,Me.gn)([Ue({}),(0,Me.w6)("design:paramtypes",[C.GQ])],wi);var Su=p(8555);class Vo{constructor(o){this.deleteCallback=o,this.availableItems$=new me.X(null),this.editEntityGuid$=new me.X(null),this.subscriptions=new y.w0}init(){}onAfterViewInit(){}destroy(){this.availableItems$.complete(),this.editEntityGuid$.complete(),this.subscriptions.unsubscribe()}getDataFromSource(){return null}}class Go extends Vo{constructor(o=new me.X(!0),t=new me.X(null),n,a,r,s,d,g,b,F,D,q){super(q),this.disableAddNew$=o,this.settings$=t,this.entityCacheService=n,this.entityService=a,this.eavService=r,this.editRoutingService=s,this.translate=d,this.config=g,this.group=b,this.snackBar=F,this.control=D,this.deleteCallback=q,this.deletedItemGuids$=new me.X([])}init(){this.subscriptions.add(this.settings$.pipe((0,I.U)(o=>o.EntityType),(0,K.x)()).subscribe(o=>{this.contentTypeMask?.destroy(),this.contentTypeMask=new oe.tW(o,this.group.controls,()=>{this.availableItems$.next(null),this.updateAddNew()},null,this.eavService.eavConfig,this.config),this.availableItems$.next(null),this.updateAddNew()}))}destroy(){this.settings$.complete(),super.destroy()}onAfterViewInit(){this.contentType=this.contentTypeMask.resolve()}updateAddNew(){const o=this.contentTypeMask.resolve();this.disableAddNew$.next(!o)}editItem(o,t){let n;if(o&&this.editEntityGuid$.next(o.entityGuid),null==o?.entityGuid)n={items:[{ContentTypeName:t??this.contentType,Prefill:this.getPrefill()}]};else{const a=this.availableItems$.value.find(r=>r.Value===o.entityGuid);n=null!=a?{items:[{EntityId:a.Id}]}:{items:[{EntityId:o.entityId}]}}this.editRoutingService.open(this.config.index,this.config.entityGuid,n)}deleteItem(o){const t=this.availableItems$.value.find(b=>b.Value===o.entityGuid),n=t.Id,a=t.Text,r=this.contentType,s=this.config.entityId,d=this.config.fieldName;confirm(this.translate.instant("Data.Delete.Question",{title:a,id:n}))&&(this.snackBar.open(this.translate.instant("Message.Deleting")),this.entityService.delete(r,n,!1,s,d).subscribe({next:()=>{this.snackBar.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.deleteCallback(o),this.deletedItemGuids$.next([...this.deletedItemGuids$.value,o.entityGuid])},error:b=>{this.snackBar.dismiss(),confirm(this.translate.instant("Data.Delete.Question",{title:a,id:n}))&&(this.snackBar.open(this.translate.instant("Message.Deleting")),this.entityService.delete(r,n,!0,s,d).subscribe({next:()=>{this.snackBar.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.deleteCallback(o),this.deletedItemGuids$.next([...this.deletedItemGuids$.value,o.entityGuid])},error:F=>{this.snackBar.open(this.translate.instant("Message.DeleteError"),null,{duration:2e3})}}))}}))}getPrefill(){try{const o=new oe.tW(this.settings$.value.Prefill,this.group.controls,null,null,this.eavService.eavConfig),t=o.resolve();if(o.destroy(),!t||!t.trim())return null;const n={};return t.split("\n").forEach(a=>{const r=a.split("=");2===r.length&&r[0]&&r[1]&&(n[r[0]]=r[1])}),n}catch{return console.error("Error in getting Prefill for new entity. Will skip prefill."),null}}}class Tu extends Go{constructor(o=new me.X(""),t=new me.X(!0),n,a,r,s,d=new me.X(null),g,b,F,D,q,X,se,le,Oe,xe,Ze){super(t,d,g,b,F,D,q,se,le,Oe,xe,Ze),this.error$=o,this.disableAddNew$=t,this.fieldsSettingsService=n,this.queryService=a,this.stringQueryCacheService=r,this.isStringQuery=s,this.settings$=d,this.entityCacheService=g,this.entityService=b,this.eavService=F,this.editRoutingService=D,this.translate=q,this.fieldDataSourceFactoryService=X,this.config=se,this.group=le,this.snackBar=Oe,this.control=xe,this.deleteCallback=Ze}init(){super.init(),this.subscriptions.add(this.settings$.pipe((0,I.U)(o=>o.UrlParameters),(0,K.x)()).subscribe(o=>{this.paramsMask?.destroy(),this.paramsMask=new Su.t(o,this.group.controls,()=>{this.availableItems$.next(null)},null,this.eavService.eavConfig,this.config),this.availableItems$.next(null)})),this.queryFieldDataSource=this.fieldDataSourceFactoryService.createQueryFieldDataSource(this.settings$,this.isStringQuery,this.config.entityGuid,this.config.fieldName,this.eavService.eavConfig.appId),this.flushAvailableEntities(),this.subscriptions.add((0,J.a)([this.queryFieldDataSource.data$,this.queryFieldDataSource.loading$,this.deletedItemGuids$]).subscribe({next:([o,t,n])=>{const a=o.filter(r=>!n.some(s=>s===r.Value));this.availableItems$.next(t?[{Text:this.translate.instant("Fields.Entity.Loading"),Value:null,_disableSelect:!0,_disableDelete:!0,_disableEdit:!0},...a]:a)},error:o=>{this.availableItems$.next([{Text:this.translate.instant("Fields.EntityQuery.QueryError")+"-"+o.data,Value:null,_disableSelect:!0,_disableDelete:!0,_disableEdit:!0}])}}))}onAfterViewInit(){super.onAfterViewInit(),this.queryFieldDataSource.params(this.paramsMask.resolve())}destroy(){this.paramsMask?.destroy(),this.error$.complete(),this.queryFieldDataSource.destroy(),super.destroy()}getDataFromSource(){return this.queryFieldDataSource.data$}setPrefetchData(o){this.queryFieldDataSource.prefetchEntityGuids(o)}setOverrideData(o){this.queryFieldDataSource.entityGuids(o)}fetchItems(){if(this.queryFieldDataSource.params(this.paramsMask.resolve()),this.settings$.value.Query)this.queryFieldDataSource.getAll();else{const t={Text:this.translate.instant("Fields.EntityQuery.QueryNotDefined"),Value:null,_disableSelect:!0,_disableDelete:!0,_disableEdit:!0};this.availableItems$.next([t])}}flushAvailableEntities(){this.subscriptions.add(this.isStringQuery?this.settings$.pipe((0,I.U)(o=>({Value:o.Value,Label:o.Label})),(0,K.x)(oe.iX.objectsEqual)).subscribe(()=>{this.availableItems$.next(null)}):this.settings$.pipe((0,I.U)(o=>({Query:o.Query,StreamName:o.StreamName})),(0,K.x)(oe.iX.objectsEqual)).subscribe(()=>{this.availableItems$.next(null)}))}}class Fu extends Go{constructor(o=new me.X(!0),t,n=new me.X(null),a,r,s,d,g,b,F,D,q,X,se){super(o,n,a,r,s,d,g,F,D,q,X,se),this.disableAddNew$=o,this.fieldsSettingsService=t,this.settings$=n,this.entityCacheService=a,this.entityService=r,this.eavService=s,this.editRoutingService=d,this.translate=g,this.fieldDataSourceFactoryService=b,this.config=F,this.group=D,this.snackBar=q,this.control=X,this.deleteCallback=se}init(){super.init(),this.entityFieldDataSource=this.fieldDataSourceFactoryService.createEntityFieldDataSource(this.settings$),this.subscriptions.add((0,J.a)([this.entityFieldDataSource.data$,this.entityFieldDataSource.loading$,this.deletedItemGuids$]).subscribe(([o,t,n])=>{const a=o.filter(r=>!n.some(s=>s===r.Value));this.availableItems$.next(t?[{Text:this.translate.instant("Fields.Entity.Loading"),Value:null,_disableSelect:!0,_disableDelete:!0,_disableEdit:!0},...a]:a)}))}onAfterViewInit(){super.onAfterViewInit(),this.entityFieldDataSource.contentType(this.contentType)}getDataFromSource(){return this.entityFieldDataSource.data$}setPrefetchData(o){this.entityFieldDataSource.prefetchEntityGuids(o)}setOverrideData(o){this.entityFieldDataSource.entityGuids(o)}destroy(){this.contentTypeMask.destroy(),this.entityFieldDataSource.destroy(),super.destroy()}fetchItems(){this.contentType=this.contentTypeMask.resolve(),this.entityFieldDataSource.contentType(this.contentType),this.entityFieldDataSource.getAll()}}var xt=p(1650),Ut=p(9912);class Mi{constructor(o){this.settings$=o,this.getAll$=new me.X(!1),this.entityGuids$=new me.X([]),this.prefetchEntityGuids$=new me.X([]),this.subscriptions=new y.w0}destroy(){this.prefetchEntityGuids$.complete(),this.entityGuids$.complete(),this.getAll$.complete(),this.subscriptions.unsubscribe()}getAll(){this.getAll$.next(!0)}entityGuids(o){this.entityGuids$.next(o)}prefetchEntityGuids(o){const t=o.filter(oe.iX.distinct);this.prefetchEntityGuids$.next(t)}fillEntityInfoMoreFields(o,t){const n=this.settings$.value;let a=this.cleanStringFromWysiwyg(n.Tooltip),r=this.cleanStringFromWysiwyg(n.Information);return Object.keys(o).forEach(s=>{"Value"!==s&&"Text"!==s?t["_"+s]=o[s]:t[s]=o[s],a=a.replace(`[Item:${s}]`,o[s]),r=r.replace(`[Item:${s}]`,o[s])}),t._tooltip=a,t._information=r,t}cleanStringFromWysiwyg(o){const t=document.createElement("div");return t.innerHTML=o??"",t.innerText||""}calculateMoreFields(){const o=this.settings$.value,t=o.PickerTreeConfiguration;return["Title","Id","Guid",...o.MoreFields?.split(",")??[],o.Value,o.Label,t?.TreeChildIdField,t?.TreeParentIdField,t?.TreeChildParentRefField,t?.TreeParentChildRefField].filter(d=>d?.length>0).filter(oe.iX.distinct).join(",")}}class Eu extends Mi{constructor(o,t,n){super(o),this.settings$=o,this.queryService=t,this.entityCacheService=n,this.contentTypeName$=new L.x;const a=this.contentTypeName$.pipe((0,K.x)(),(0,xt.d)(1)),r=(0,J.a)([a,this.getAll$.pipe((0,K.x)(),(0,Y.h)(F=>!!F))]).pipe((0,Ut.z)(([F,D])=>this.queryService.getEntities([F],[],this.calculateMoreFields()).pipe((0,I.U)(q=>({data:q.Default.map(se=>this.queryEntityMapping(se)),loading:!1})),(0,M.O)({data:[],loading:!0}))),(0,M.O)({data:[],loading:!1}),(0,xt.d)(1)),s=this.prefetchEntityGuids$.pipe((0,K.x)(),(0,Y.h)(F=>F?.length>0),(0,Ut.z)(F=>this.entityCacheService.getEntities$(F)),(0,M.O)([]),(0,xt.d)(1));let d=(0,J.a)([s,this.prefetchEntityGuids$]).pipe((0,I.U)(([F,D])=>D.filter(q=>!F.find(X=>X.Value===q)))),g=(0,J.a)([d,this.entityGuids$]).pipe((0,I.U)(([F,D])=>[...F,...D].filter(oe.iX.distinct)),(0,Y.h)(F=>F?.length>0));const b=(0,J.a)([a,g]).pipe((0,Ut.z)(([F,D])=>t.getEntities([F],D,this.calculateMoreFields()).pipe((0,I.U)(q=>({data:q.Default.map(se=>this.queryEntityMapping(se)),loading:!1})),(0,M.O)({data:[],loading:!0}))),(0,M.O)({data:[],loading:!1}),(0,xt.d)(1));this.loading$=(0,J.a)([r,b]).pipe((0,I.U)(([F,D])=>F.loading||D.loading)),this.data$=(0,J.a)([r,b,s]).pipe((0,I.U)(([F,D,q])=>[...new Map([...q,...F.data,...D.data].map(se=>[se.Value,se])).values()]),(0,xt.d)(1))}destroy(){this.contentTypeName$.complete(),super.destroy()}contentType(o){this.contentTypeName$.next(o)}entityGuids(o){this.entityGuids$.next(o)}queryEntityMapping(o){return this.fillEntityInfoMoreFields(o,{Id:o.Id,Value:o.Guid,Text:o.Title})}}class Ou extends Mi{constructor(o){super(o),this.settings$=o,this.loading$=(0,zt.of)(!1);const t=this.settings$.pipe((0,I.U)(n=>n._options.map(a=>this.stringEntityMapping(a))),(0,K.x)());this.data$=(0,J.a)([this.getAll$.pipe((0,K.x)()),t]).pipe((0,I.U)(([n,a])=>a))}destroy(){this.subscriptions.unsubscribe()}stringEntityMapping(o){return{Value:o.value,Text:o.label}}}class Lu extends Mi{constructor(o,t,n,a,r,s,d,g,b){super(o),this.settings$=o,this.queryService=t,this.entityCacheService=n,this.stringQueryCacheService=a,this.translate=r,this.isStringQuery=s,this.entityGuid=d,this.fieldName=g,this.appId=b,this.params$=new L.x;const F=this.settings$.value,D=F.StreamName,q=F.Query.includes("/")?F.Query:`${F.Query}/${D}`,X=this.params$.pipe((0,K.x)(),(0,xt.d)(1)),se=(0,J.a)([X,this.getAll$.pipe((0,K.x)(),(0,Y.h)(be=>!!be))]).pipe((0,Ut.z)(([be,ze])=>this.queryService.getAvailableEntities(q,!0,be,this.calculateMoreFields(),[]).pipe((0,I.U)(Be=>({data:Be,loading:!1})),(0,M.O)({data:{},loading:!0}))),(0,I.U)(be=>({...be,data:this.transformData(be.data,D)})),(0,M.O)({data:[],loading:!1}),(0,xt.d)(1)),le=this.prefetchEntityGuids$.pipe((0,K.x)(),(0,Y.h)(be=>be?.length>0),(0,Ut.z)(be=>this.isStringQuery?this.stringQueryCacheService.getEntities$(this.entityGuid,this.fieldName):this.entityCacheService.getEntities$(be)),(0,I.U)(be=>this.isStringQuery?be.map(ze=>this.stringQueryEntityMapping(ze)):be),(0,M.O)([]),(0,xt.d)(1));let Oe=(0,J.a)([le,this.prefetchEntityGuids$]).pipe((0,I.U)(([be,ze])=>ze.filter(Be=>!be.find(Pt=>Pt.Value===Be)))),xe=(0,J.a)([Oe,this.entityGuids$]).pipe((0,I.U)(([be,ze])=>[...be,...ze].filter(oe.iX.distinct)),(0,Y.h)(be=>be?.length>0));const Ze=(0,J.a)([X,xe]).pipe((0,Ut.z)(([be,ze])=>this.queryService.getAvailableEntities(q,!0,be,this.calculateMoreFields(),ze).pipe((0,I.U)(Be=>({data:Be,loading:!1})),(0,M.O)({data:{},loading:!0}))),(0,I.U)(be=>({...be,data:this.transformData(be.data,D)})),(0,M.O)({data:[],loading:!1}),(0,xt.d)(1));this.loading$=(0,J.a)([se,Ze]).pipe((0,I.U)(([be,ze])=>be.loading||ze.loading)),this.data$=(0,J.a)([se,Ze,le]).pipe((0,I.U)(([be,ze,Be])=>[...new Map([...Be,...be.data,...ze.data].map(Qt=>[Qt.Value,Qt])).values()]),(0,xt.d)(1))}destroy(){this.params$.complete(),super.destroy()}params(o){this.params$.next(o)}transformData(o,t){if(!o)return[{Text:this.translate.instant("Fields.EntityQuery.QueryError"),Value:null,_disableSelect:!0,_disableDelete:!0,_disableEdit:!0}];if(!o[t])return[{Text:this.translate.instant("Fields.EntityQuery.QueryStreamNotFound")+" "+t,Value:null,_disableSelect:!0,_disableDelete:!0,_disableEdit:!0}];const n=o[t].map(a=>this.isStringQuery?this.stringQueryEntityMapping(a):this.queryEntityMapping(a));return this.setDisableEdit(n)}queryEntityMapping(o){return this.fillEntityInfoMoreFields(o,{Id:o.Id,Value:o.Guid,Text:o.Title})}stringQueryEntityMapping(o){const t=this.settings$.value;return this.fillEntityInfoMoreFields(o,{Id:o.Id,Value:o[t.Value]?`${o[t.Value]}`:o[t.Value],Text:o[t.Label]?`${o[t.Label]}`:o[t.Label]})}setDisableEdit(o){return o&&o.forEach(t=>{const n=null!=t.AppId&&t.AppId.toString()!==this.appId;t._disableEdit=n,t._disableDelete=n}),o}}let Ai=(()=>{class i{constructor(t,n,a,r){this.entityCacheService=t,this.stringQueryCacheService=n,this.queryService=a,this.translate=r}createEntityFieldDataSource(t){return new Eu(t,this.queryService,this.entityCacheService)}createStringFieldDataSource(t){return new Ou(t)}createQueryFieldDataSource(t,n,a,r,s){return new Lu(t,this.queryService,this.entityCacheService,this.stringQueryCacheService,this.translate,n,a,r,s)}static#e=this.\u0275fac=function(n){return new(n||i)(e.LFG(ne.r6),e.LFG(ne.uQ),e.LFG(C._7),e.LFG(ge.sK))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();class Iu extends Vo{constructor(o=new me.X(!0),t,n=new me.X(null),a,r,s,d,g,b,F,D,q,X,se){super(se),this.disableAddNew$=o,this.fieldsSettingsService=t,this.settings$=n,this.entityCacheService=a,this.entityService=r,this.eavService=s,this.editRoutingService=d,this.translate=g,this.fieldDataSourceFactoryService=b,this.config=F,this.group=D,this.snackBar=q,this.control=X,this.deleteCallback=se}init(){super.init(),this.stringFieldDataSource=this.fieldDataSourceFactoryService.createStringFieldDataSource(this.settings$),this.subscriptions.add(this.stringFieldDataSource.data$.subscribe(this.availableItems$))}destroy(){this.stringFieldDataSource.destroy(),super.destroy()}getDataFromSource(){return this.stringFieldDataSource.data$}setPrefetchData(o){}setOverrideData(o){}fetchItems(){this.stringFieldDataSource.getAll(),this.subscriptions.add(this.stringFieldDataSource.data$.subscribe(this.availableItems$))}deleteItem(o){throw new Error("Method not implemented.")}editItem(o,t){throw new Error("Method not implemented.")}}let rt=(()=>{class i{constructor(t,n,a,r,s,d,g,b){this.eavService=t,this.entityCacheService=n,this.entityService=a,this.translate=r,this.queryService=s,this.stringQueryCacheService=d,this.fieldDataSourceFactoryService=g,this.snackBar=b}createPickerQuerySourceAdapter(t,n,a,r,s,d,g,b,F,D){return new Tu(t,n,a,this.queryService,this.stringQueryCacheService,r,g,this.entityCacheService,this.entityService,this.eavService,b,this.translate,this.fieldDataSourceFactoryService,d,F,this.snackBar,s,D)}initQuery(t){t.init()}createPickerEntitySourceAdapter(t,n,a,r,s,d,g,b){return new Fu(t,n,s,this.entityCacheService,this.entityService,this.eavService,d,this.translate,this.fieldDataSourceFactoryService,r,g,this.snackBar,a,b)}initEntity(t){t.init()}createPickerStringSourceAdapter(t,n,a,r,s,d,g,b){return new Iu(t,n,s,this.entityCacheService,this.entityService,this.eavService,d,this.translate,this.fieldDataSourceFactoryService,r,g,this.snackBar,a,b)}initString(t){t.init()}static#e=this.\u0275fac=function(n){return new(n||i)(e.LFG(C.WV),e.LFG(ne.r6),e.LFG(C.c4),e.LFG(ge.sK),e.LFG(C._7),e.LFG(ne.uQ),e.LFG(Ai),e.LFG(yt.ux))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();var Fn=p(1553);class ki{constructor(o=new me.X(null),t,n,a,r,s,d,g,b,F,D,q){this.settings$=o,this.controlStatus$=t,this.isExpanded$=n,this.label$=a,this.placeholder$=r,this.required$=s,this.cacheItems$=d,this.stringQueryCache$=g,this.translate=b,this.control=F,this.eavService=D,this.focusOnSearchComponent=q,this.disableAddNew$=new me.X(!0),this.freeTextMode$=new me.X(!1),this.error$=new me.X(""),this.createEntityTypes=[]}init(){this.selectedItems$=(0,J.a)([this.controlStatus$.pipe((0,I.U)(o=>o.value),(0,K.x)()),this.settings$.pipe((0,wo.b)(o=>{const t=o.EntityType;this.createEntityTypes=t?t.split(t.indexOf("\n")>-1?"\n":",").map(n=>({label:null,guid:n})):[]}),(0,I.U)(o=>({Separator:o.Separator,Options:o._options})),(0,K.x)(oe.iX.objectsEqual))]).pipe((0,I.U)(([o,t])=>(0,Fn.xO)(o,t.Separator,t.Options))),this.allowMultiValue$=this.settings$.pipe((0,I.U)(o=>o.AllowMultiValue),(0,K.x)()),this.tooltip$=this.settings$.pipe((0,I.U)(o=>o.Tooltip),(0,K.x)()),this.information$=this.settings$.pipe((0,I.U)(o=>o.Information),(0,K.x)()),this.isDialog$=this.settings$.pipe((0,I.U)(o=>o._isDialog),(0,K.x)()),this.shouldPickerListBeShown$=(0,J.a)([this.freeTextMode$,this.isExpanded$,this.allowMultiValue$,this.selectedItems$]).pipe((0,I.U)(([o,t,n,a])=>!o&&(a.length>0&&n||a.length>1&&!n)&&(!n||n&&t)))}destroy(){this.settings$.complete(),this.controlStatus$.complete(),this.disableAddNew$.complete(),this.freeTextMode$.complete(),this.error$.complete()}updateValue(o,t){let n=this.createValueArray();switch(o){case"add":n.push(t);break;case"delete":n.splice(t,1);break;case"reorder":(0,Lt.bA)(n,t.previousIndex,t.currentIndex)}const a=this.createNewValue(n);oe.iX.patchControlValue(this.control,a),"delete"===o&&!n.length&&setTimeout(()=>{this.focusOnSearchComponent()})}createNewValue(o){return"string"==typeof this.control.value?(0,Fn.pZ)(o,this.settings$.value.Separator):o}createValueArray(){return"string"==typeof this.control.value?(0,Fn.I4)(this.control.value,this.settings$.value.Separator):[...this.control.value]}doAfterDelete(o){this.updateValue("delete",o.index)}addSelected(o){this.updateValue("add",o)}removeSelected(o){this.updateValue("delete",o)}reorder(o){this.updateValue("reorder",o)}toggleFreeTextMode(){this.freeTextMode$.next(!this.freeTextMode$.value)}getEntityTypesData(){this.createEntityTypes[0].label||this.createEntityTypes.forEach(o=>{const t=this.eavService.settings.ContentTypes.find(n=>n.Id===o.guid||n.Name==o.guid);o.label=t?.Name??o.guid+" (not found)",o.guid=t?.Id??o.guid})}}class Yu extends ki{constructor(o=new me.X(null),t,n,a,r,s,d,g,b,F,D,q){super(o,t,n,a,r,s,d,g,b,F,D,q),this.settings$=o,this.controlStatus$=t,this.isExpanded$=n,this.label$=a,this.placeholder$=r,this.required$=s,this.cacheItems$=d,this.stringQueryCache$=g,this.translate=b,this.control=F,this.eavService=D}init(){super.init()}destroy(){super.destroy()}createNewValue(o){return(0,Fn.pZ)(o,this.settings$.value.Separator)}}class Pu extends ki{constructor(o=new me.X(null),t,n,a,r,s,d,g,b,F,D,q,X){super(o,t,n,a,r,s,d,g,F,D,q,X),this.settings$=o,this.controlStatus$=t,this.isExpanded$=n,this.label$=a,this.placeholder$=r,this.required$=s,this.cacheItems$=d,this.stringQueryCache$=g,this.fieldDataSourceFactoryService=b,this.translate=F,this.control=D,this.eavService=q}init(){super.init()}destroy(){super.destroy()}createNewValue(o){return o}}let st=(()=>{class i{constructor(t,n,a,r,s){this.entityCacheService=t,this.stringQueryCacheService=n,this.translateService=a,this.fieldDataSourceFactoryService=r,this.eavService=s}createPickerEntityStateAdapter(t,n,a,r,s,d,g,b,F){return new Pu(a,s,r.isExpanded$(n.index,n.entityGuid),d,g,b,this.entityCacheService.getEntities$(),this.stringQueryCacheService.getEntities$(n.entityGuid,n.fieldName),this.fieldDataSourceFactoryService,this.translateService,t,this.eavService,F)}initEntity(t){t.init()}createPickerStringStateAdapter(t,n,a,r,s,d,g,b,F){return new Yu(a,s,r.isExpanded$(n.index,n.entityGuid),d,g,b,this.entityCacheService.getEntities$(),this.stringQueryCacheService.getEntities$(n.entityGuid,n.fieldName),this.translateService,t,this.eavService,F)}initString(t){t.init()}createPickerStateAdapter(t,n,a,r,s,d,g,b,F){return new ki(a,s,r.isExpanded$(n.index,n.entityGuid),d,g,b,this.entityCacheService.getEntities$(),this.stringQueryCacheService.getEntities$(n.entityGuid,n.fieldName),this.translateService,t,this.eavService,F)}init(t){t.init()}static#e=this.\u0275fac=function(n){return new(n||i)(e.LFG(ne.r6),e.LFG(ne.uQ),e.LFG(ge.sK),e.LFG(Ai),e.LFG(C.WV))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();var Ho=p(2235),En=p(131);const Ru=["autocomplete"];function Nu(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),r=e.oxw();return e.KtG(r.edit(null==a.selectedItem?null:a.selectedItem.Value,null==a.selectedItem?null:a.selectedItem.Id))}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("tippy",e.lcZ(1,2,"Fields.Entity.Edit"))("disabled",t.config.initialDisabled)}}function Zu(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),r=e.oxw();return e.KtG(r.deleteItem(0,null==a.selectedItem?null:a.selectedItem.Value))}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("tippy",e.lcZ(1,2,"Fields.Entity.Delete"))("disabled",t.controlStatus.disabled)}}function $u(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.removeItem(0))}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"do_not_disturb_on"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("tippy",e.lcZ(1,2,"Fields.Entity.Remove"))("disabled",t.controlStatus.disabled)}}function zu(i,o){1&i&&(e.TgZ(0,"span",12),e.Hsn(1),e.qZA())}function Vu(i,o){if(1&i&&(e.TgZ(0,"mat-icon",15),e._uU(1,"info"),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("tippy",t.Information)}}function Gu(i,o){if(1&i&&(e.TgZ(0,"mat-option",13)(1,"div",14)(2,"span"),e._uU(3),e.qZA(),e.YNc(4,Vu,2,1,"mat-icon",15),e.qZA()()),2&i){const t=o.$implicit,n=e.oxw(2),a=e.oxw();e.Q6J("value",t.Value)("disabled",!!t._disableSelect||!n.enableReselect&&a.isOptionDisabled(t.Value,n.selectedItems))("tippy",t.Tooltip)("tippyDisabled",!t.Tooltip),e.xp6(3),e.Oqu(t.Text?t.Text:t.Value),e.xp6(1),e.um2(4,t.Information?4:-1)}}function Hu(i,o){if(1&i&&(e.TgZ(0,"div"),e.SjG(1,Gu,5,6,"mat-option",16,e.x6l),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.wJu(t.filteredItems)}}function Uu(i,o){if(1&i&&(e.TgZ(0,"mat-icon",15),e._uU(1,"info"),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("tippy",t.Information)}}function Bu(i,o){if(1&i&&(e.TgZ(0,"mat-tree-node",19),e._UZ(1,"button",20),e.TgZ(2,"mat-option",13)(3,"div",14)(4,"span"),e._uU(5),e.qZA(),e.YNc(6,Uu,2,1,"mat-icon",15),e.qZA()()()),2&i){const t=o.$implicit,n=e.oxw(2),a=e.oxw();e.xp6(2),e.Q6J("value",t.Value)("disabled",a.isOptionUnpickable(t,n.selectedItems,n.enableReselect,n.pickerTreeConfiguration))("tippy",t.Tooltip)("tippyDisabled",!t.Tooltip),e.xp6(3),e.Oqu(t.Text?t.Text:t.Value),e.xp6(1),e.um2(6,t.Information?6:-1)}}function qu(i,o){if(1&i&&(e.TgZ(0,"mat-icon",15),e._uU(1,"info"),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("tippy",t.Information)}}function Ju(i,o){if(1&i&&(e.TgZ(0,"mat-tree-node",19)(1,"button",21)(2,"mat-icon",22),e._uU(3),e.qZA()(),e.TgZ(4,"mat-option",13)(5,"div",14)(6,"span"),e._uU(7),e.qZA(),e.YNc(8,qu,2,1,"mat-icon",15),e.qZA()()()),2&i){const t=o.$implicit,n=e.oxw(2),a=e.oxw();e.xp6(1),e.uIk("aria-label","Toggle "+t.name),e.xp6(2),e.hij(" ",a.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.xp6(1),e.Q6J("value",t.Value)("disabled",a.isOptionUnpickable(t,n.selectedItems,n.enableReselect,n.pickerTreeConfiguration))("tippy",t.Tooltip)("tippyDisabled",!t.Tooltip),e.xp6(3),e.Oqu(t.Text?t.Text:t.Value),e.xp6(1),e.um2(8,t.Information?8:-1)}}function ju(i,o){if(1&i&&(e.TgZ(0,"mat-tree",9),e.YNc(1,Bu,7,6,"mat-tree-node",17)(2,Ju,9,8,"mat-tree-node",18),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("dataSource",t.dataSource)("treeControl",t.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",t.hasChild)}}function Qu(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",23),e._uU(1," debug: "),e.TgZ(2,"span",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.insertNull())}),e._uU(3,"add null-item"),e.qZA()()}}const Wu=i=>({"mat-form-field-invalid":i}),Ku=i=>({"mat-error":i});function Xu(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-form-field",0),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.filterSelectionList())}),e.TgZ(2,"input",1,2),e.NdJ("focus",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.fetchEntities())})("blur",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.markAsTouched())})("input",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.filterSelectionList())}),e.qZA(),e.TgZ(4,"button",3)(5,"mat-icon"),e._uU(6,"arrow_drop_down"),e.qZA()(),e.YNc(7,Nu,4,4,"button",4)(8,Zu,4,4,"button",4)(9,$u,4,4,"button",4)(10,zu,2,0,"span",5),e.TgZ(11,"mat-label",6),e._uU(12),e.qZA()(),e.TgZ(13,"mat-autocomplete",7,8),e.NdJ("optionSelected",function(a){const s=e.CHM(t),d=e.oxw();return e.KtG(d.optionSelected(a,s.allowMultiValue,s.selectedItem))})("closed",function(){const r=e.CHM(t),s=e.oxw();return e.KtG(s.onClosed(r.selectedItems,r.selectedItem))})("opened",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onOpened())}),e.YNc(15,Hu,3,0,"div")(16,ju,3,3,"mat-tree",9),e.qZA()(),e.YNc(17,Qu,4,0,"div",10)}if(2&i){const t=e.MAs(14),n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.group)("ngClass",e.VKq(19,Wu,o.controlStatus.invalid&&o.controlStatus.touched)),e.xp6(1),e.Q6J("placeholder",n.getPlaceholder(o.availableItems,o.error))("matAutocomplete",t)("disabled",o.controlStatus.disabled||!o.enableAddExisting)("value",n.showSelectedItem?null==o.selectedItem?null:o.selectedItem.Text:""),e.xp6(2),e.Q6J("disabled",o.controlStatus.disabled||!o.enableAddExisting),e.xp6(3),e.um2(7,!o.enableEdit||null!=o.selectedItem&&o.selectedItem._disableEdit||!o.showItemEditButtons?-1:7),e.xp6(1),e.um2(8,!o.enableDelete||null!=o.selectedItem&&o.selectedItem._disableDelete||!o.showItemEditButtons?-1:8),e.xp6(1),e.um2(9,o.enableRemove&&o.showItemEditButtons?9:-1),e.xp6(1),e.um2(10,o.enableTextEntry?10:-1),e.xp6(1),e.Q6J("ngClass",e.VKq(21,Ku,o.controlStatus.invalid&&o.controlStatus.touched)),e.xp6(1),e.AsE(" ",o.label," ",o.required?"*":""," "),e.xp6(1),e.Q6J("displayWith",n.displayFn.bind(n))("hideSingleSelectionIndicator",!0),e.xp6(2),e.um2(15,o.isTreeDisplayMode?-1:15),e.xp6(1),e.um2(16,o.isTreeDisplayMode?16:-1),e.xp6(1),e.um2(17,o.debugEnabled?17:-1)}}const ep=[[["","freeTextButtons",""]]],tp=["[freeTextButtons]"];let Si=(()=>{class i extends _t.f{constructor(t,n,a){super(),this.translate=t,this.globalConfigService=n,this.fieldsSettingsService=a,this.availableItems$=new me.X(null),this.selectedItems$=new Ho.y,this.selectedItem$=new me.X(null),this.newValue=null,this.filter$=new me.X(!1),this.hasChild=(r,s)=>s.Expandable,this.treeControl=new uc(r=>r.Level,r=>r.Expandable),this.treeFlattener=new xc((r,s)=>({Level:s,Expandable:"parent-child"==this.pickerTreeConfiguration?.TreeRelationship?!!r[this.pickerTreeConfiguration?.TreeParentChildRefField]&&r[this.pickerTreeConfiguration?.TreeParentChildRefField].length>0:this.availableItems$.value.filter(d=>{if(null!=d[this.pickerTreeConfiguration?.TreeChildParentRefField])return d[this.pickerTreeConfiguration?.TreeChildParentRefField][0]?.Id==r?.Id}).length>0,Value:r.Value,Text:r.Text,Parent:r[this.pickerTreeConfiguration?.TreeChildParentRefField],Children:r[this.pickerTreeConfiguration?.TreeParentChildRefField]}),r=>r.Level,r=>r.Expandable,r=>"parent-child"==this.pickerTreeConfiguration?.TreeRelationship?r[this.pickerTreeConfiguration?.TreeParentChildRefField].map(s=>this.availableItems$.value.find(g=>g[this.pickerTreeConfiguration?.TreeChildIdField]==s[this.pickerTreeConfiguration?.TreeChildIdField])):"child-parent"==this.pickerTreeConfiguration?.TreeRelationship?this.availableItems$.value.filter(s=>{if(null!=s[this.pickerTreeConfiguration?.TreeChildParentRefField])return s[this.pickerTreeConfiguration?.TreeChildParentRefField][0]?.Id==r.Id}):void 0)}ngOnInit(){const t=this.pickerData.state,n=this.pickerData.source;this.control=this.group.controls[this.config.fieldName],this.dataSource=new Cc(this.treeControl,this.treeFlattener),this.availableItems$=n.availableItems$,this.selectedItems$=this.pickerData.selectedItems$;const a=t.freeTextMode$,r=t.controlStatus$,s=t.error$,d=t.label$,g=t.required$,b=this.globalConfigService.getDebugEnabled$(),F=this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).pipe((0,I.U)(D=>({AllowMultiValue:D.AllowMultiValue,EnableAddExisting:D.EnableAddExisting,EnableTextEntry:D.EnableTextEntry,EnableEdit:D.EnableEdit,EnableDelete:D.EnableDelete,EnableRemove:D.EnableRemove,EnableReselect:D.EnableReselect,PickerDisplayMode:D.PickerDisplayMode,PickerTreeConfiguration:D.PickerTreeConfiguration})),(0,K.x)(oe.iX.objectsEqual));this.viewModel$=(0,J.a)([b,F,this.selectedItems$,this.availableItems$,s,r,a,d,g,this.filter$]).pipe((0,I.U)(([D,q,X,se,le,Oe,xe,Ze,be,ze])=>{const Be=X.length>0?X[0]:null;this.selectedItem$.next(Be);const Pt=Be&&this.showItemEditButtons,Qt="tree"===q.PickerDisplayMode,Ye=this.autocompleteRef?.nativeElement.value,vt=Ye?se?.filter(Rt=>Rt.Text?Rt.Text.toLocaleLowerCase().includes(Ye.toLocaleLowerCase()):Rt.Value.toLocaleLowerCase().includes(Ye.toLocaleLowerCase())):se;if(Qt){this.pickerTreeConfiguration=q.PickerTreeConfiguration;const Rt=se.filter(Sr=>"parent-child"==this.pickerTreeConfiguration?.TreeRelationship?!se.some(Sv=>Sv[this.pickerTreeConfiguration?.TreeParentChildRefField]?.some(Tv=>Tv.Id===Sr.Id)):0==Sr[this.pickerTreeConfiguration?.TreeChildParentRefField]?.length);this.dataSource.data=Rt}return{debugEnabled:D,allowMultiValue:q.AllowMultiValue,enableAddExisting:q.EnableAddExisting,enableTextEntry:q.EnableTextEntry,enableEdit:q.EnableEdit,enableDelete:q.EnableDelete,enableRemove:q.EnableRemove,enableReselect:q.EnableReselect,pickerTreeConfiguration:q.PickerTreeConfiguration,selectedItems:X,availableItems:se,error:le,controlStatus:Oe,freeTextMode:xe,label:Ze,required:be,selectedItem:Be,filteredItems:vt,showItemEditButtons:Pt,isTreeDisplayMode:Qt}}))}ngOnDestroy(){super.ngOnDestroy()}displayFn(t){let n="";return(null!=t||null!=t)&&(n="string"==typeof t?this.availableItems$.value?.find(a=>a.Value==t)?.Text:Array.isArray(t)?"string"==typeof t[0]?this.availableItems$.value?.find(a=>a.Value==t[0])?.Text:t[0]?.Text:t?.Text),n||(n=this.selectedItem$.value?.Value==t?this.selectedItem$.value?.Text:t),n}markAsTouched(){oe.iX.markControlTouched(this.control)}fetchEntities(){this.pickerData.source.fetchItems()}filterSelectionList(){this.filter$.next(!0)}onOpened(){this.autocompleteRef.nativeElement.value=""}onClosed(t,n){this.showSelectedItem?this.newValue&&this.newValue!=n?.Value||n&&t.length<2&&(this.autocompleteRef.nativeElement.value=n.Text):this.autocompleteRef.nativeElement.value=""}optionSelected(t,n,a){this.newValue=t.option.value,!n&&a&&this.removeItem(0),this.pickerData.state.addSelected(t.option.value),setTimeout(()=>{this.autocompleteRef.nativeElement.blur()})}getPlaceholder(t,n){return this.translate.instant(t?.length>0?"Fields.Entity.Search":"Fields.EntityQuery.QueryNoItems")}toggleFreeText(t){t||this.pickerData.state.toggleFreeTextMode()}insertNull(){this.pickerData.state.addSelected(null)}isOptionDisabled(t,n){return n.some(r=>r.Value===t)}isOptionUnpickable(t,n,a,r){return!a&&n.some(F=>F.Value===t.Value)||!r?.TreeAllowSelectRoot&&t.Children?.length>0&&0===t.Parent?.length||!r?.TreeAllowSelectBranch&&t.Children?.length>0&&t.Parent?.length>0||!r?.TreeAllowSelectLeaf&&0===t.Children?.length}edit(t,n){this.pickerData.source.editItem({entityGuid:t,entityId:n},null)}removeItem(t){this.pickerData.state.removeSelected(t)}deleteItem(t,n){this.pickerData.source.deleteItem({index:t,entityGuid:n})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(ge.sK),e.Y36(ne.bE),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-picker-search"]],viewQuery:function(n,a){if(1&n&&e.Gf(Ru,5),2&n){let r;e.iGM(r=e.CRH())&&(a.autocompleteRef=r.first)}},inputs:{pickerData:"pickerData",config:"config",group:"group",controlConfig:"controlConfig",showSelectedItem:"showSelectedItem",showItemEditButtons:"showItemEditButtons"},features:[e.qOj],ngContentSelectors:tp,decls:2,vars:3,consts:[["color","accent",1,"eav-form-field",3,"formGroup","ngClass","click"],["matInput","",3,"placeholder","matAutocomplete","disabled","value","focus","blur","input"],["autocomplete",""],["mat-icon-button","","matSuffix","","disableRipple","true",1,"entity-dropdown-button","eav-suffix-button",3,"disabled"],["mat-icon-button","","matSuffix","","class","eav-suffix-button","appClickStopPropagation","",3,"tippy","disabled"],["matSuffix","","class","eav-selection-suffix-inline"],[3,"ngClass"],[3,"displayWith","hideSingleSelectionIndicator","optionSelected","closed","opened"],["auto","matAutocomplete"],[3,"dataSource","treeControl"],["class","null-box"],["mat-icon-button","","matSuffix","","appClickStopPropagation","",1,"eav-suffix-button",3,"tippy","disabled","click"],["matSuffix","",1,"eav-selection-suffix-inline"],["tippyShowDelay","500",1,"eav-picker-option",3,"value","disabled","tippy","tippyDisabled"],[1,"eav-dropdown-option"],[3,"tippy"],["class","eav-picker-option","tippyShowDelay","500",3,"value","disabled","tippy","tippyDisabled"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[1,"null-box"],["tippy","Add null-item",1,"null-button",3,"click"]],template:function(n,a){if(1&n&&(e.F$t(ep),e.YNc(0,Xu,18,23),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[En.E,He.$,A.mk,N.RK,De.Nt,ie.KE,ie.hX,ie.R9,T.ey,Z.JL,Z.sg,k.Hw,mo,_o,vo,fo,ho,Xt.XC,Xt.ZL,Fe.oO,A.Ov,ge.X$],styles:[".eav-add-new-entity[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.ed-field[_ngcontent-%COMP%]{width:100%;height:100%}.ed-field__create-icon[_ngcontent-%COMP%]{width:38px}.ed-field__create-two-icon[_ngcontent-%COMP%]{width:72px;padding-bottom:4px}.ed-field__create-two-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-icon-hide[_ngcontent-%COMP%]{width:0}.ed-field__field-short[_ngcontent-%COMP%]{width:calc(100% - 38px);max-width:calc(100% - 38px)}.ed-field__field[_ngcontent-%COMP%]{width:100%}.null-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.null-box[_ngcontent-%COMP%]   .null-button[_ngcontent-%COMP%]{cursor:pointer}.eav-dropdown-option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.eav-suffix-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}"]})}return i})();const Uo=i=>({disabled:i});function np(i,o){if(1&i&&(e.TgZ(0,"mat-label",2),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(3,Uo,t.controlStatus.disabled)),e.xp6(1),e.AsE(" ",t.label," ",t.required?"*":""," ")}}function ip(i,o){if(1&i&&(e.TgZ(0,"mat-icon",10),e.ALo(1,"translate"),e._uU(2," drag_handle "),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("tippy",e.lcZ(1,2,"Fields.Entity.DragMove"))("tippyDisabled",t.controlStatus.disabled)}}function ap(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.edit(a.Value,a.Id))}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()}if(2&i){const t=e.oxw(4);e.Q6J("tippy",e.lcZ(1,2,"Fields.Entity.Edit"))("disabled",t.config.initialDisabled)}}function op(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),r=a.$index,s=a.$implicit,d=e.oxw(3);return e.KtG(d.deleteItem(r,s.Value))}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}if(2&i){const t=e.oxw(3);e.Q6J("tippy",e.lcZ(1,2,"Fields.Entity.Delete"))("disabled",t.controlStatus.disabled)}}function rp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$index,r=e.oxw(3);return e.KtG(r.removeItem(a))}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"clear"),e.qZA()()}if(2&i){const t=e.oxw(3);e.Q6J("tippy",e.lcZ(1,2,"Fields.Entity.Remove"))("disabled",t.controlStatus.disabled)}}const sp=(i,o,t)=>({"normal-item":i,"dnd-item":o,disabled:t});function lp(i,o){if(1&i&&(e.TgZ(0,"div",4)(1,"div",5),e.YNc(2,ip,3,4,"mat-icon",6),e.TgZ(3,"span",7),e._uU(4),e.qZA()(),e.TgZ(5,"div",8),e.YNc(6,ap,4,4,"button",9)(7,op,4,4,"button",9)(8,rp,4,4,"button",9),e.qZA()()),2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("ngClass",e.kEZ(8,sp,!n.allowMultiValue,n.allowMultiValue,n.controlStatus.disabled)),e.xp6(1),e.Q6J("ngClass",e.VKq(12,Uo,n.controlStatus.disabled)),e.xp6(1),e.um2(2,n.allowMultiValue?2:-1),e.xp6(1),e.Q6J("tippy",t._tooltip),e.xp6(1),e.hij(" ",t.Text," "),e.xp6(2),e.um2(6,n.enableEdit&&!t._disableEdit?6:-1),e.xp6(1),e.um2(7,n.enableDelete&&!t._disableDelete?7:-1),e.xp6(1),e.um2(8,n.enableRemove?8:-1)}}const dp=(i,o)=>({"normal-list":i,"dnd-list":o});function cp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("cdkDropListDropped",function(a){e.CHM(t);const r=e.oxw(),s=e.oxw();return e.KtG(s.drop(a,r.selectedItems))}),e.SjG(1,lp,9,14,"div",4,e.QCX().trackByFn),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("cdkDropListDisabled",!t.allowMultiValue||t.controlStatus.disabled)("ngClass",e.WLB(2,dp,!t.allowMultiValue,t.allowMultiValue)),e.xp6(1),e.wJu(t.selectedItems)}}function up(i,o){1&i&&e.YNc(0,np,2,5,"mat-label",0)(1,cp,3,5,"div",1),2&i&&(e.um2(0,o.allowMultiValue?-1:0),e.xp6(1),e.um2(1,o.selectedItems.length>0?1:-1))}let pp=(()=>{class i{constructor(t){this.fieldsSettingsService=t}ngOnInit(){const t=this.pickerData.state,n=t.label$,a=t.required$,r=t.controlStatus$,s=this.pickerData.selectedItems$,d=this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).pipe((0,I.U)(g=>({allowMultiValue:g.AllowMultiValue,enableEdit:g.EnableEdit,enableDelete:g.EnableDelete,enableRemove:g.EnableRemove})),(0,K.x)(oe.iX.objectsEqual));this.viewModel$=(0,J.a)([d,n,a,r,s]).pipe((0,I.U)(([g,b,F,D,q])=>({allowMultiValue:g.allowMultiValue,enableEdit:g.enableEdit,enableDelete:g.enableDelete,enableRemove:g.enableRemove,label:b,required:F,controlStatus:D,selectedItems:q})))}trackByFn(t,n){return n.Value}drop(t,n){(0,Lt.bA)(n,t.previousIndex,t.currentIndex),this.pickerData.state.reorder({previousIndex:t.previousIndex,currentIndex:t.currentIndex})}edit(t,n){this.pickerData.source.editItem({entityGuid:t,entityId:n},null)}removeItem(t){this.pickerData.state.removeSelected(t)}deleteItem(t,n){this.pickerData.source.deleteItem({index:t,entityGuid:n})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-picker-list"]],inputs:{pickerData:"pickerData",config:"config",group:"group"},decls:2,vars:3,consts:[["class","field-label",3,"ngClass"],["cdkDropList","",3,"cdkDropListDisabled","ngClass"],[1,"field-label",3,"ngClass"],["cdkDropList","",3,"cdkDropListDisabled","ngClass","cdkDropListDropped"],["cdkDrag","",3,"ngClass"],[1,"item-title",3,"ngClass"],["class","item-title__icon",3,"tippy","tippyDisabled"],[1,"item-title__text",3,"tippy"],[1,"item-actions"],["mat-icon-button","","class","eav-action-button","appMousedownStopPropagation","",3,"tippy","disabled"],[1,"item-title__icon",3,"tippy","tippyDisabled"],["mat-icon-button","","appMousedownStopPropagation","",1,"eav-action-button",3,"tippy","disabled","click"]],template:function(n,a){if(1&n&&(e.YNc(0,up,2,2),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[Ao.d,He.$,A.mk,N.RK,ie.hX,k.Hw,Lt.Wj,Lt.Zt,Fe.oO,A.Ov,ge.X$],styles:[".normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:hover:not(.disabled){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.normal-list[_ngcontent-%COMP%]   .normal-item.disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.field-label[_ngcontent-%COMP%]{display:block;-webkit-user-select:none;user-select:none;font-size:12px;line-height:14px;padding-top:12px;padding-bottom:4px;color:#1d273d70}.field-label.disabled[_ngcontent-%COMP%]{color:#1d273d3d}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]{height:30px;display:flex;align-items:center;justify-content:space-between}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type{height:31px}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type   .item-title[_ngcontent-%COMP%]{margin-top:-2px}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type   .item-actions[_ngcontent-%COMP%]{margin-top:-2px}.dnd-list[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;overflow:hidden;margin-bottom:32px}.dnd-item[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid #ccc;padding:0 8px;display:flex;align-items:center;justify-content:space-between;background:white;box-sizing:border-box;font-size:14px}.dnd-item[_ngcontent-%COMP%]:not(.disabled){cursor:move}.dnd-item[_ngcontent-%COMP%]:last-child{border:none}.item-title[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}.item-title__icon[_ngcontent-%COMP%]{margin-right:8px;opacity:.4;-webkit-user-select:none;user-select:none}.item-title__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-title.disabled[_ngcontent-%COMP%]   .item-title__icon[_ngcontent-%COMP%]{color:#1d273d3d}.item-title.disabled[_ngcontent-%COMP%]   .item-title__text[_ngcontent-%COMP%]{color:#1d273d3d;cursor:default}.item-actions[_ngcontent-%COMP%]{flex-shrink:0}.item-actions[_ngcontent-%COMP%]   .eav-action-button[_ngcontent-%COMP%]{scale:.8;margin:0 -4px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.dnd-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dnd-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}return i})();var gp=p(4453);function hp(i,o){if(1&i&&e._UZ(0,"textarea",2),2&i){const t=e.oxw(),n=e.oxw();e.Q6J("required",t.required)("formControlName",n.config.fieldName)("placeholder",t.placeholder)}}function mp(i,o){if(1&i&&e._UZ(0,"input",2),2&i){const t=e.oxw(),n=e.oxw();e.Q6J("required",t.required)("formControlName",n.config.fieldName)("placeholder",t.placeholder)}}function _p(i,o){if(1&i&&(e.TgZ(0,"div",0)(1,"mat-form-field",1),e.YNc(2,hp,1,3,"textarea",2)(3,mp,1,3),e.TgZ(4,"div",3),e.Hsn(5),e.qZA(),e.TgZ(6,"mat-label"),e._uU(7),e.qZA()()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.group),e.xp6(1),e.um2(2,o.isSeparatorNewLine?2:3),e.xp6(5),e.Oqu(o.label)}}const fp=[[["","freeTextButtons",""]]],vp=["[freeTextButtons]"];let Bo=(()=>{class i{constructor(t){this.fieldsSettingsService=t,this.selectedEntity=null,this.selectedEntities=[],this.filteredEntities=[]}ngOnInit(){const t=this.pickerData.state,a=t.freeTextMode$,r=t.controlStatus$,s=t.label$,d=t.placeholder$,g=t.required$,b=this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).pipe((0,I.U)(F=>F.Separator));this.viewModel$=(0,J.a)([r,a,s,d,g,b]).pipe((0,I.U)(([F,D,q,X,se,le])=>({controlStatus:F,freeTextMode:D,label:q,placeholder:X,required:se,isSeparatorNewLine:"\\n"==le||"\n"==le})))}toggleFreeText(t){t||this.pickerData.state.toggleFreeTextMode()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(gp.G))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-picker-text"]],inputs:{pickerData:"pickerData",config:"config",group:"group"},ngContentSelectors:vp,decls:2,vars:3,consts:[["fxLayout","row","fxLayoutAlign","start end"],["color","accent",1,"eav-form-field",3,"formGroup"],["matInput","",3,"required","formControlName","placeholder"],["matSuffix","",1,"eav-selection-suffix-inline"]],template:function(n,a){if(1&n&&(e.F$t(fp),e.YNc(0,_p,8,3,"div",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[De.Nt,ie.KE,ie.hX,ie.R9,Z.Fj,Z.JJ,Z.JL,Z.Q7,Z.sg,Z.u,mt,it,A.Ov],styles:[".ed-field[_ngcontent-%COMP%]{width:100%;height:100%}.ed-field__create-icon[_ngcontent-%COMP%]{width:38px;padding-bottom:4px}.ed-field__create-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-two-icon[_ngcontent-%COMP%]{width:72px;padding-bottom:4px}.ed-field__create-two-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-icon-hide[_ngcontent-%COMP%]{width:0}.ed-field__field-short[_ngcontent-%COMP%]{width:calc(100% - 38px);max-width:calc(100% - 38px)}.ed-field__field[_ngcontent-%COMP%]{width:100%}.null-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.null-box[_ngcontent-%COMP%]   .null-button[_ngcontent-%COMP%]{cursor:pointer}.dropdown-option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}"]})}return i})();function yp(i,o){if(1&i&&e._UZ(0,"app-picker-search",1),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)("showSelectedItem",!1)("showItemEditButtons",!1)}}function xp(i,o){if(1&i&&e._UZ(0,"app-picker-text",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)}}function Cp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.openNewEntityDialog(r.guid))}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.label)}}function bp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"button",4),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.getEntityTypesData())}),e.ALo(2,"translate"),e.TgZ(3,"mat-icon"),e._uU(4,"add"),e.qZA()(),e.TgZ(5,"mat-menu",null,5),e.SjG(7,Cp,3,1,"button",7,e.x6l),e.qZA()()}if(2&i){const t=e.MAs(6),n=e.oxw(2),a=e.oxw();e.xp6(1),e.Q6J("tippy",e.lcZ(2,3,"Fields.Entity.New"))("disabled",n.controlStatus.disabled||n.disableAddNew)("matMenuTriggerFor",t),e.xp6(6),e.wJu(a.pickerData.state.createEntityTypes)}}function Dp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openNewEntityDialog(null))}),e.ALo(2,"translate"),e.TgZ(3,"mat-icon"),e._uU(4,"add"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("tippy",e.lcZ(2,2,"Fields.Entity.New"))("disabled",t.controlStatus.disabled||t.disableAddNew)}}function wp(i,o){if(1&i&&e.YNc(0,bp,9,5,"div",3)(1,Dp,5,4),2&i){const t=e.oxw(2);e.um2(0,t.pickerData.state.createEntityTypes.length>1?0:1)}}function Mp(i,o){if(1&i&&(e._UZ(0,"app-picker-list",0),e.YNc(1,yp,1,6,"app-picker-search",1)(2,xp,1,3,"app-picker-text",0),e._UZ(3,"app-field-helper-text",2),e.YNc(4,wp,2,1)),2&i){const t=e.oxw();e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group),e.xp6(1),e.um2(1,o.freeTextMode?-1:1),e.xp6(1),e.um2(2,o.freeTextMode?2:-1),e.xp6(1),e.Q6J("config",t.config)("group",t.group),e.xp6(1),e.um2(4,o.showAddNewEntityButtonInDialog?4:-1)}}let Et=(()=>{class i extends _t.f{constructor(t){super(),this.fieldsSettingsService=t}ngOnInit(){const t=this.pickerData.state,a=t.freeTextMode$,r=t.disableAddNew$,s=t.controlStatus$,d=this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).pipe((0,I.U)(g=>({AllowMultiValue:g.AllowMultiValue,EnableCreate:g.EnableCreate,EntityType:g.EntityType})),(0,K.x)(oe.iX.objectsEqual));this.viewModel$=(0,J.a)([d,s,a,r]).pipe((0,I.U)(([g,b,F,D])=>({controlStatus:b,freeTextMode:F,disableAddNew:D,showAddNewEntityButtonInDialog:!F&&g.EnableCreate&&g.EntityType&&g.AllowMultiValue})))}ngOnDestroy(){super.ngOnDestroy()}openNewEntityDialog(t){this.pickerData.source.editItem(null,t)}getEntityTypesData(){this.pickerData.state.getEntityTypesData()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-picker-dialog"]],inputs:{pickerData:"pickerData",config:"config",group:"group",controlConfig:"controlConfig"},features:[e.qOj],decls:2,vars:3,consts:[[3,"pickerData","config","group"],[3,"pickerData","config","group","controlConfig","showSelectedItem","showItemEditButtons"],[3,"config","group"],["fxLayout","row","fxLayoutAlign","end center"],["mat-mini-fab","","color","accent",3,"tippy","disabled","matMenuTriggerFor","click"],["entityTypesMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-mini-fab","","color","accent",3,"tippy","disabled","click"]],template:function(n,a){if(1&n&&(e.YNc(0,Mp,5,8),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[He.$,N.nh,k.Hw,Ge.VK,Ge.OP,Ge.p6,mt,it,ot,pp,Si,Bo,A.Ov,ge.X$]})}return i})();function Ap(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"span",1)(1,"button",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.freeTextMode?a.toggleFreeText(a.controlStatusDisabled):null)}),e.ALo(2,"translate"),e.TgZ(3,"mat-icon"),e._uU(4,"search"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.freeTextMode?null:a.toggleFreeText(a.controlStatusDisabled))}),e.ALo(6,"translate"),e.TgZ(7,"mat-icon"),e._uU(8,"text_fields"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",t.freeTextMode?"":"active")("tippy",e.lcZ(2,6,"Fields.String.Dropdown"))("disabled",t.controlStatusDisabled),e.xp6(4),e.Q6J("ngClass",t.freeTextMode?"active":"")("tippy",e.lcZ(6,8,"Fields.String.Freetext"))("disabled",t.controlStatusDisabled)}}let kp=(()=>{class i{constructor(){}ngOnInit(){}toggleFreeText(t){t||this.pickerData.state.toggleFreeTextMode()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-picker-toggle-text"]],inputs:{pickerData:"pickerData",controlStatusDisabled:"controlStatusDisabled",allowText:"allowText",freeTextMode:"freeTextMode"},decls:1,vars:1,consts:[["matSuffix","","class","eav-selection-suffix-inline"],["matSuffix","",1,"eav-selection-suffix-inline"],["mat-icon-button","","appClickStopPropagation","",1,"eav-suffix-button",3,"ngClass","tippy","disabled","click"]],template:function(n,a){1&n&&e.YNc(0,Ap,9,10,"span",0),2&n&&e.um2(0,a.allowText?0:-1)},dependencies:[En.E,He.$,A.mk,N.RK,ie.R9,k.Hw,Fe.oO,ge.X$],styles:[".eav-suffix-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}"]})}return i})();function Sp(i,o){if(1&i&&(e.TgZ(0,"mat-list-item",10)(1,"span",11),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.Text)}}function Tp(i,o){if(1&i&&(e.TgZ(0,"mat-list",9),e.SjG(1,Sp,3,1,"mat-list-item",12,e.QCX().trackByFn),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.wJu(t.selectedItems)}}const Fp=i=>({"eav-more-entities-margin-right":i});function Ep(i,o){if(1&i&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,Fp,t.enableTextEntry)),e.xp6(1),e.hij(" ",t.itemsNumber," ")}}function Op(i,o){1&i&&(e.TgZ(0,"span",14),e.Hsn(1),e.qZA())}const Lp=(i,o,t,n,a)=>({"mat-caption":i,"mat-empty":o,"mat-error":t,color__primary:n,"color__label-disabled":a}),Ip=()=>({enterDuration:360}),Yp=(i,o)=>({"c-ew__preview--invalid":i,"c-ew__preview--disabled":o});function Pp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"mat-label",2),e._uU(2),e.qZA(),e.TgZ(3,"div",3),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.expandDialog())}),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,Tp,3,0,"mat-list",6)(7,Ep,2,4,"span",7)(8,Op,2,0,"span",8),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.qbA(9,Lp,o.itemsNumber,!o.itemsNumber,o.controlStatus.invalid&&o.controlStatus.touched&&!t.config.initialDisabled,!(o.controlStatus.invalid&&o.controlStatus.touched||t.config.initialDisabled),t.config.initialDisabled)),e.xp6(1),e.AsE(" ",o.label," ",o.required?"*":""," "),e.xp6(1),e.Q6J("matRippleAnimation",e.DdM(15,Ip))("ngClass",e.WLB(16,Yp,o.controlStatus.invalid&&o.controlStatus.touched,t.config.initialDisabled)),e.xp6(1),e.Q6J("ngClass",o.itemsNumber?"c-ew__preview-container":"c-ew__preview-container--empty"),e.xp6(2),e.um2(6,o.itemsNumber?6:-1),e.xp6(1),e.um2(7,o.itemsNumber>3?7:-1),e.xp6(1),e.um2(8,o.enableTextEntry?8:-1)}}const Rp=[[["","freeTextButtons",""]]],Np=["[freeTextButtons]"];let Zp=(()=>{class i extends Ve{constructor(t,n,a){super(t,n),this.editRoutingService=a}ngOnInit(){super.ngOnInit();const t=this.pickerData.state,a=t.controlStatus$,r=t.label$,s=t.placeholder$,d=t.required$,g=this.settings$.pipe((0,I.U)(D=>D._isDialog),(0,K.x)()),b=this.pickerData.selectedItems$,F=t.settings$;this.viewModel$=(0,J.a)([(0,J.a)([a,r,s,d]),(0,J.a)([b,g,F])]).pipe((0,I.U)(([[D,q,X,se],[le,Oe,xe]])=>({controlStatus:D,label:q,placeholder:X,required:se,selectedItems:le,itemsNumber:le?.length||0,isOpen:Oe,enableTextEntry:xe.EnableTextEntry})))}ngOnDestroy(){super.ngOnDestroy()}trackByFn(t,n){return n.Value}expandDialog(){this.config.initialDisabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.nz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-picker-pills"]],inputs:{pickerData:"pickerData"},features:[e.qOj],ngContentSelectors:Np,decls:2,vars:3,consts:[["class","c-ew__preview-holder"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"matRippleAnimation","ngClass","click"],[3,"ngClass"],["fxLayout","row","fxLayoutAlign","start center"],["fxLayout","row","class","eav-list"],["class","eav-more-entities",3,"ngClass"],["matSuffix","","class","eav-selection-suffix-inline"],["fxLayout","row",1,"eav-list"],["role","listitem",1,"eav-list-item"],["mat-line",""],["role","listitem","class","eav-list-item"],[1,"eav-more-entities",3,"ngClass"],["matSuffix","",1,"eav-selection-suffix-inline"]],template:function(n,a){if(1&n&&(e.F$t(Rp),e.YNc(0,Pp,9,19,"div",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[A.mk,ie.hX,ie.R9,et.i$,et.Tg,T.wG,mt,it,Fe.oO,A.Ov],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;cursor:pointer}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:16px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-16px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:#1d273d70}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-container--empty[_ngcontent-%COMP%]{padding:6px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.eav-more-entities[_ngcontent-%COMP%]{padding:0 12px;margin-left:10px;background:transparent;color:#1d273d;border-radius:10px;border:1px solid rgba(29,39,61,.44);height:18px;font-size:12px;line-height:16px;flex:0 0 auto;display:flex;align-items:center}.eav-more-entities-margin-right[_ngcontent-%COMP%]{margin-right:10px}.eav-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;overflow-y:hidden;flex:1 1 auto;max-height:35px}.eav-list-item[_ngcontent-%COMP%]{width:auto!important;max-width:200px;flex:0 1 auto;height:20px!important;background:rgba(29,39,61,.08);border-radius:10px;margin-right:10px;margin-bottom:7px;font-size:12px;line-height:16px;white-space:nowrap;text-overflow:ellipsis;padding:0}"]})}return i})();function $p(i,o){if(1&i&&(e.TgZ(0,"app-picker-pills",2),e._UZ(1,"app-picker-toggle-text",7),e.qZA()),2&i){const t=e.oxw(),n=e.oxw();e.Q6J("pickerData",n.pickerData)("config",n.config)("group",n.group),e.xp6(1),e.Q6J("pickerData",n.pickerData)("controlStatusDisabled",t.controlStatus.disabled)("allowText",t.enableTextEntry)("freeTextMode",t.freeTextMode)}}function zp(i,o){if(1&i&&(e.TgZ(0,"app-picker-search",3),e._UZ(1,"app-picker-toggle-text",7),e.qZA()),2&i){const t=e.oxw(),n=e.oxw();e.Q6J("pickerData",n.pickerData)("config",n.config)("group",n.group)("controlConfig",n.controlConfig)("showSelectedItem",!0)("showItemEditButtons",!0),e.xp6(1),e.Q6J("pickerData",n.pickerData)("controlStatusDisabled",t.controlStatus.disabled)("allowText",t.enableTextEntry)("freeTextMode",t.freeTextMode)}}function Vp(i,o){if(1&i&&(e.TgZ(0,"app-picker-text",2),e._UZ(1,"app-picker-toggle-text",7),e.qZA()),2&i){const t=e.oxw(),n=e.oxw();e.Q6J("pickerData",n.pickerData)("config",n.config)("group",n.group),e.xp6(1),e.Q6J("pickerData",n.pickerData)("controlStatusDisabled",t.controlStatus.disabled)("allowText",t.enableTextEntry)("freeTextMode",t.freeTextMode)}}function Gp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.openNewEntityDialog(r.guid))}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.label)}}function Hp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.getEntityTypesData())}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"add_circle_outline"),e.qZA()(),e.TgZ(4,"mat-menu",null,9),e.SjG(6,Gp,3,1,"button",11,e.x6l),e.qZA()}if(2&i){const t=e.MAs(5),n=e.oxw(2),a=e.oxw();e.Q6J("tippy",e.lcZ(1,3,"Fields.Entity.New"))("disabled",n.controlStatus.disabled||n.disableAddNew)("matMenuTriggerFor",t),e.xp6(6),e.wJu(a.pickerData.state.createEntityTypes)}}function Up(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openNewEntityDialog(null))}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"add_circle_outline"),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("tippy",e.lcZ(1,2,"Fields.Entity.New"))("disabled",t.controlStatus.disabled||t.disableAddNew)}}function Bp(i,o){if(1&i&&e.YNc(0,Hp,8,5)(1,Up,4,4),2&i){const t=e.oxw(2);e.um2(0,t.pickerData.state.createEntityTypes.length>1?0:1)}}function qp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.expandDialog())}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"post_add"),e.qZA()()}2&i&&e.Q6J("tippy",e.lcZ(1,1,"Fields.Entity.OpenMultiselect"))}function Jp(i,o){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,$p,2,7,"app-picker-pills",2)(3,zp,2,10,"app-picker-search",3)(4,Vp,2,7,"app-picker-text",2),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,Bp,2,1)(7,qp,4,3,"button",5),e.qZA()(),e._UZ(8,"app-field-helper-text",6)),2&i){const t=e.oxw();e.xp6(2),e.um2(2,o.selectedItems.length>1&&!o.freeTextMode?2:-1),e.xp6(1),e.um2(3,o.selectedItems.length<2&&!o.freeTextMode?3:-1),e.xp6(1),e.um2(4,o.freeTextMode?4:-1),e.xp6(2),e.um2(6,o.showAddNewEntityButton?6:-1),e.xp6(1),e.um2(7,o.showGoToListDialogButton?7:-1),e.xp6(1),e.Q6J("config",t.config)("group",t.group)}}let Ot=(()=>{class i extends _t.f{constructor(t,n){super(),this.fieldsSettingsService=t,this.editRoutingService=n}ngOnInit(){const t=this.pickerData.state,n=this.pickerData.selectedItems$,a=t.freeTextMode$,r=t.controlStatus$,s=t.disableAddNew$,d=this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).pipe((0,I.U)(g=>({AllowMultiValue:g.AllowMultiValue,EnableTextEntry:g.EnableTextEntry,EnableCreate:g.EnableCreate,EntityType:g.EntityType})),(0,K.x)(oe.iX.objectsEqual));this.viewModel$=(0,J.a)([n,a,d,r,s]).pipe((0,I.U)(([g,b,F,D,q])=>({selectedItems:g,freeTextMode:b,enableTextEntry:F.EnableTextEntry,controlStatus:D,disableAddNew:q,leavePlaceForButtons:F.EntityType&&F.EnableCreate||F.AllowMultiValue,showAddNewEntityButton:F.EntityType&&F.EnableCreate,showGoToListDialogButton:F.AllowMultiValue})))}ngOnDestroy(){super.ngOnDestroy()}openNewEntityDialog(t){this.pickerData.source.editItem(null,t)}expandDialog(){this.config.initialDisabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}getEntityTypesData(){this.pickerData.state.getEntityTypesData()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.GQ),e.Y36(C.nz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-picker-preview"]],inputs:{pickerData:"pickerData",config:"config",group:"group",controlConfig:"controlConfig"},features:[e.qOj],decls:2,vars:3,consts:[["fxLayout","row","fxLayoutAlign","start center"],[1,"eav-div-around-picker"],[3,"pickerData","config","group"],[3,"pickerData","config","group","controlConfig","showSelectedItem","showItemEditButtons"],["fxLayoutAlign","end end"],["mat-icon-button","","class","eav-suffix-button",3,"tippy"],[3,"config","group"],["freeTextButtons","",3,"pickerData","controlStatusDisabled","allowText","freeTextMode"],["mat-icon-button","",1,"eav-suffix-button",3,"tippy","disabled","matMenuTriggerFor","click"],["entityTypesMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-icon-button","",1,"eav-suffix-button",3,"tippy","disabled","click"],["mat-icon-button","",1,"eav-suffix-button",3,"tippy","click"]],template:function(n,a){if(1&n&&(e.YNc(0,Jp,9,7),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[He.$,N.RK,k.Hw,Ge.VK,Ge.OP,Ge.p6,mt,it,ot,Si,Bo,kp,Zp,A.Ov,ge.X$],styles:[".eav-div-around-picker[_ngcontent-%COMP%]{width:100%}.eav-suffix-button[_ngcontent-%COMP%]{scale:.8}"]})}return i})();function jp(i,o){if(1&i&&e._UZ(0,"app-picker-preview",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function Qp(i,o){if(1&i&&e._UZ(0,"app-picker-dialog",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function Wp(i,o){1&i&&e.YNc(0,jp,1,4,"app-picker-preview",0)(1,Qp,1,4,"app-picker-dialog",0),2&i&&(e.um2(0,o.showPreview?0:-1),e.xp6(1),e.um2(1,o.showPreview?-1:1))}let Bt=(()=>{class i extends Ve{constructor(t,n,a,r,s,d,g){super(t,n),this.entityService=a,this.translate=r,this.editRoutingService=s,this.entityCacheService=d,this.stringQueryCacheService=g}ngOnInit(){super.ngOnInit(),this.refreshOnChildClosed()}ngAfterViewInit(){this.pickerData.source.onAfterViewInit()}ngOnDestroy(){this.pickerData.destroy(),super.ngOnDestroy()}createViewModel(){this.viewModel$=(0,J.a)([this.pickerData.state.allowMultiValue$]).pipe((0,I.U)(([t])=>({showPreview:!t||t&&this.controlConfig.isPreview})))}focusOnSearchComponent(){this.entitySearchComponent.autocompleteRef?.nativeElement.focus()}refreshOnChildClosed(){this.subscription.add(this.editRoutingService.childFormResult(this.config.index,this.config.entityGuid).subscribe(t=>{const n=Object.keys(t)[0];this.pickerData.state.createValueArray().includes(n)||(this.pickerData.state.addSelected(n),this.pickerData.source.setOverrideData([n]))})),this.subscription.add(this.editRoutingService.childFormClosed().subscribe(()=>{this.pickerData.source.editEntityGuid$.value&&this.pickerData.source.setOverrideData([this.pickerData.source.editEntityGuid$.value])}))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.c4),e.Y36(ge.sK),e.Y36(C.nz),e.Y36(ne.r6),e.Y36(ne.uQ))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(n,a){if(1&n&&e.Gf(Si,5),2&n){let r;e.iGM(r=e.CRH())&&(a.entitySearchComponent=r.first)}},features:[e.qOj],decls:2,vars:3,consts:[[3,"pickerData","config","group","controlConfig"]],template:function(n,a){if(1&n&&(e.YNc(0,Wp,2,2),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[Et,Ot,A.Ov]})}return i})();class qo extends Se.M{constructor(){super(...arguments),this.name=_e.v.EntityContentBlocks}update(o,t,n){const r=sn.e.singleton().get(_e.v.EntityDefault).update(o,t,n);return r.EnableRemove=!0,r.AllowMultiValue=!0,r.EnableAddExisting=!1,r.EnableCreate=!1,r.EnableEdit=!1,r.EntityType="ContentGroupReference",r.Visible=!1,r}}Se.M.add(qo);var Ti=p(1494);class It{constructor(o,t,n){this.state=o,this.source=t,this.translate=n,this.selectedItems$=new Ho.y,this.subscriptions=new y.w0,this.subscriptions.add(o.selectedItems$.subscribe(a=>{t.setPrefetchData(a.map(r=>r.Value))})),this.selectedItems$=(0,J.a)([o.selectedItems$.pipe((0,K.x)(Ti.i.arraysEqual)),t.getDataFromSource().pipe((0,K.x)(Ti.i.arraysEqual))]).pipe((0,I.U)(([a,r])=>this.createUIModel(a,r,this.translate)),(0,K.x)(Ti.i.arraysEqual),(0,xt.d)(1))}destroy(){this.subscriptions.unsubscribe(),this.source.destroy(),this.state.destroy()}createUIModel(o,t,n){return o.map(r=>{const s=t.find(d=>d.Value===r.Value);if(s){const d=s.Text??n.instant("Fields.Entity.EntityNotFound");return this.createPickerItem(s.Id,s.Value,d,s._tooltip??`${d} (${s.Value})`,s._information??"",!0===s._disableEdit,!0===s._disableDelete,!1)}return r})}createPickerItem(o,t,n,a,r,s,d,g){return{Id:o,Value:t,Text:n,_tooltip:a,_information:r,_disableEdit:s,_disableDelete:d,_disableSelect:g}}}function Kp(i,o){if(1&i&&e._UZ(0,"app-picker-preview",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function Xp(i,o){if(1&i&&e._UZ(0,"app-picker-dialog",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function eg(i,o){1&i&&e.YNc(0,Kp,1,4,"app-picker-preview",0)(1,Xp,1,4,"app-picker-dialog",0),2&i&&(e.um2(0,o.showPreview?0:-1),e.xp6(1),e.um2(1,o.showPreview?-1:1))}let Fi=class oa extends Bt{constructor(o,t,n,a,r,s,d,g,b){super(o,t,n,a,r,s,d),this.sourceFactory=g,this.stateFactory=b,qo.importMe()}ngOnInit(){super.ngOnInit(),this.createPickerAdapters(),this.createViewModel()}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}createPickerAdapters(){const o=this.stateFactory.createPickerStateAdapter(this.control,this.config,this.settings$,this.editRoutingService,this.controlStatus$,this.label$,this.placeholder$,this.required$,()=>this.focusOnSearchComponent),t=this.sourceFactory.createPickerEntitySourceAdapter(o.disableAddNew$,this.fieldsSettingsService,o.control,this.config,o.settings$,this.editRoutingService,this.group,n=>o.doAfterDelete(n));o.init(),t.init(),this.pickerData=new It(o,t,this.translate)}static#e=this.\u0275fac=function(t){return new(t||oa)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.c4),e.Y36(ge.sK),e.Y36(C.nz),e.Y36(ne.r6),e.Y36(ne.uQ),e.Y36(rt),e.Y36(st))};static#t=this.\u0275cmp=e.Xpm({type:oa,selectors:[["entity-content-blocks"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"pickerData","config","group","controlConfig"]],template:function(t,n){if(1&t&&(e.YNc(0,eg,2,2),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[Et,Ot,A.Ov]})};Fi=(0,Me.gn)([Ue({}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,C.c4,ge.sK,C.nz,ne.r6,ne.uQ,rt,st])],Fi);class Ei extends Se.M{constructor(){super(...arguments),this.name=_e.v.EntityDefault}update(o,t,n){const a={...o};return a.EntityType??="",a.AllowMultiValue??=!1,a.EnableEdit??=!0,a.EnableCreate??=!0,a.EnableAddExisting??=!0,a.EnableRemove??=!0,a.EnableDelete??=!1,a.Information??="",a.Tooltip??="",a.MoreFields??="",a.Label??="",n.eavConfig.overrideEditRestrictions&&n.debug&&(console.log("SystemAdmin + Debug: Overriding edit restrictions for field '"+o.Name+"' (EntityType: '"+o.EntityType+"')."),a.EnableEdit=!0,a.EnableCreate=!0,a.EnableAddExisting=!0,a.EnableRemove=!0,a.EnableDelete=!0),a}}function tg(i,o){if(1&i&&e._UZ(0,"app-picker-preview",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function ng(i,o){if(1&i&&e._UZ(0,"app-picker-dialog",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function ig(i,o){1&i&&e.YNc(0,tg,1,4,"app-picker-preview",0)(1,ng,1,4,"app-picker-dialog",0),2&i&&(e.um2(0,o.showPreview?0:-1),e.xp6(1),e.um2(1,o.showPreview?-1:1))}Se.M.add(Ei);let Oi=class ra extends Bt{constructor(o,t,n,a,r,s,d,g,b){super(o,t,n,a,r,s,d),this.sourceFactory=g,this.stateFactory=b,Ei.importMe()}ngOnInit(){super.ngOnInit(),this.createPickerAdapters(),this.createViewModel()}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}createPickerAdapters(){const o=this.stateFactory.createPickerEntityStateAdapter(this.control,this.config,this.settings$,this.editRoutingService,this.controlStatus$,this.label$,this.placeholder$,this.required$,()=>this.focusOnSearchComponent),t=this.sourceFactory.createPickerEntitySourceAdapter(o.disableAddNew$,this.fieldsSettingsService,o.control,this.config,o.settings$,this.editRoutingService,this.group,n=>o.doAfterDelete(n));o.init(),t.init(),this.pickerData=new It(o,t,this.translate)}static#e=this.\u0275fac=function(t){return new(t||ra)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.c4),e.Y36(ge.sK),e.Y36(C.nz),e.Y36(ne.r6),e.Y36(ne.uQ),e.Y36(rt),e.Y36(st))};static#t=this.\u0275cmp=e.Xpm({type:ra,selectors:[["entity-default"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"pickerData","config","group","controlConfig"]],template:function(t,n){if(1&t&&(e.YNc(0,ig,2,2),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[Et,Ot,A.Ov]})};Oi=(0,Me.gn)([Ue({}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,C.c4,ge.sK,C.nz,ne.r6,ne.uQ,rt,st])],Oi);class Jo extends Se.M{constructor(){super(...arguments),this.name=_e.v.EntityQuery}update(o,t,n){const r=sn.e.singleton().get(_e.v.EntityDefault).update(o,t,n);return r.Query??="",r.StreamName||="Default",r.UrlParameters??="",r.Information??="",r.Tooltip??="",r.MoreFields??="",r.Label??="",r}}function ag(i,o){if(1&i&&e._UZ(0,"app-picker-preview",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function og(i,o){if(1&i&&e._UZ(0,"app-picker-dialog",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function rg(i,o){1&i&&e.YNc(0,ag,1,4,"app-picker-preview",0)(1,og,1,4,"app-picker-dialog",0),2&i&&(e.um2(0,o.showPreview?0:-1),e.xp6(1),e.um2(1,o.showPreview?-1:1))}Se.M.add(Jo);let On=class sa extends Bt{constructor(o,t,n,a,r,s,d,g,b){super(o,t,n,a,r,s,d),this.sourceFactory=g,this.stateFactory=b,Jo.importMe(),this.isStringQuery=!1}ngOnInit(){super.ngOnInit(),this.isStringQuery||(this.createPickerAdapters(),this.createViewModel())}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}createPickerAdapters(){const o=this.stateFactory.createPickerEntityStateAdapter(this.control,this.config,this.settings$,this.editRoutingService,this.controlStatus$,this.label$,this.placeholder$,this.required$,()=>this.focusOnSearchComponent),t=this.sourceFactory.createPickerQuerySourceAdapter(o.error$,o.disableAddNew$,this.fieldsSettingsService,this.isStringQuery,o.control,this.config,o.settings$,this.editRoutingService,this.group,n=>o.doAfterDelete(n));o.init(),t.init(),this.pickerData=new It(o,t,this.translate)}static#e=this.\u0275fac=function(t){return new(t||sa)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.c4),e.Y36(ge.sK),e.Y36(C.nz),e.Y36(ne.r6),e.Y36(ne.uQ),e.Y36(rt),e.Y36(st))};static#t=this.\u0275cmp=e.Xpm({type:sa,selectors:[["entity-query"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"pickerData","config","group","controlConfig"]],template:function(t,n){if(1&t&&(e.YNc(0,rg,2,2),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[Et,Ot,A.Ov]})};On=(0,Me.gn)([Ue({}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,C.c4,ge.sK,C.nz,ne.r6,ne.uQ,rt,st])],On);let jo=(()=>{class i extends Ve{constructor(t,n,a,r,s,d,g,b,F){super(t,n),this.adamService=a,this.dialog=r,this.viewContainerRef=s,this.changeDetectorRef=d,this.linkCacheService=g,this.editRoutingService=b,this.formsStateService=F}ngOnInit(){super.ngOnInit(),this.preview$=new me.X({url:"",thumbnailUrl:"",previewUrl:"",floatingText:"",isImage:!1,isKnownType:!1,icon:""}),this.subscription.add(this.controlStatus$.pipe((0,I.U)(t=>t.value),(0,K.x)()).subscribe(t=>{this.fetchLink(t)}))}ngOnDestroy(){this.preview$.complete(),super.ngOnDestroy()}openPagePicker(){oe.oY.open(this.config,this.group,this.dialog,this.viewContainerRef,this.changeDetectorRef,t=>{t&&oe.iX.patchControlValue(this.control,`page:${t.id}`)})}openImageConfiguration(t){!this.formsStateService.readOnly$.value.isReadOnly&&t?._imageConfigurationContentType&&this.editRoutingService.open(this.config.index,this.config.entityGuid,{items:[t._imageConfigurationId>0?{EntityId:t._imageConfigurationId}:{ContentTypeName:t._imageConfigurationContentType,For:{Target:pt.Zy.metadata.cmsObject.target,TargetType:pt.Zy.metadata.cmsObject.targetType,String:t.ReferenceId}}]})}fetchLink(t){if(!t)return void this.setPreview(t,!1);if(!this.isFileOrPage(t))return void this.setPreview(t,!1);const a=this.linkCacheService.getLinkInfo(t);if(a){const g=!this.isFileOrPage(a.Value);this.setPreview(a.Value,g,a.Adam)}else this.adamService.getLinkInfo(t,this.config.contentTypeId,this.config.entityGuid,this.config.fieldName).subscribe(g=>{if(!g)return void this.setPreview(t,!1);this.linkCacheService.loadLink(t,g);const b=!this.isFileOrPage(g.Value);this.setPreview(g.Value,b,g.Adam)})}setPreview(t,n,a){const r={url:t=t.replace(/\[App:Path\]/i,oe.iN.getUrlPrefix("app",this.eavService.eavConfig)),floatingText:n?`.../${t.substring(t.lastIndexOf("/")+1)}`:"",thumbnailUrl:`url("${a?.ThumbnailUrl??this.buildUrl(t,1)}")`,previewUrl:a?.PreviewUrl??this.buildUrl(t,2),isImage:oe.Bu.isImage(t),isKnownType:oe.Bu.isKnownType(t),icon:oe.Bu.getIconClass(t)};this.preview$.next(r)}buildUrl(t,n){let a="";return 1===n&&(a+="w=80&h=80&mode=crop"),2===n&&(a+="w=800&h=800&mode=max"),a&&!t.includes("?")&&(a="?"+a),t+a}isFileOrPage(t){const n=t.trim().toLocaleLowerCase();return n.startsWith("file:")||n.startsWith("page:")}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C._q),e.Y36($e.uw),e.Y36(e.s_b),e.Y36(e.sBO),e.Y36(ne.f3),e.Y36(C.nz),e.Y36(C.i3))};static#t=this.\u0275dir=e.lG2({type:i,features:[e.qOj]})}return i})();class Qo extends Se.M{constructor(){super(...arguments),this.name=_e.v.HyperlinkDefault}update(o){const t={...o};return t.Buttons||="adam,more",t.FileFilter??="",t.Paths??="",t.ServerResourceMapping??="",t.EnableImageConfiguration??=!0,t}}Se.M.add(Qo);let Li=(()=>{class i extends _t.f{constructor(t,n,a,r,s,d,g){super(),this.elementRef=t,this.featuresService=n,this.snackBar=a,this.translate=r,this.dialog=s,this.viewContainerRef=d,this.changeDetectorRef=g,this.eventListeners=[],this.pasteImageEnabled$=new me.X(!1)}ngOnInit(){switch(this.subscription.add(this.featuresService.isEnabled$(lt.C.PasteImageFromClipboard).pipe((0,K.x)()).subscribe(this.pasteImageEnabled$)),this.elementType){case"input":this.elementRef.nativeElement.pastableTextarea();break;case"element":this.elementRef.nativeElement.pastableNonInputable()}const t=n=>{this.handleImage(n)};this.elementRef.nativeElement.addEventListener("handleImage",t),this.eventListeners.push({element:this.elementRef.nativeElement,type:"handleImage",listener:t})}ngOnDestroy(){this.eventListeners.forEach(({element:t,type:n,listener:a})=>{t.removeEventListener(n,a)}),super.ngOnDestroy()}handleImage(t){if(this.pasteImageEnabled$.value){(0,ft.P)("PASTE IMAGE","event:",t);const n=this.getFile(t.detail);this.config.dropzone.uploadFile(n)}else this.snackBar.open(this.translate.instant("Message.PastingFilesIsNotEnabled"),this.translate.instant("Message.FindOutMore"),{duration:3e3}).onAction().subscribe(()=>{An.B.openDialog(this.dialog,lt.C.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)})}getFile(t){let n=t.file;try{const a=new FormData;a.append("file",t.file,t.imageFileName),n=a.get("file")}catch(a){console.error("paste image error",a)}return n}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(wt.k),e.Y36(yt.ux),e.Y36(ge.sK),e.Y36($e.uw),e.Y36(e.s_b),e.Y36(e.sBO))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","appPasteClipboardImage",""]],inputs:{config:"config",elementType:"elementType"},features:[e.qOj]})}return i})();function sg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.toggleAdam(!1,!1))}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",18),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("tippy",e.lcZ(1,2,"Fields.Hyperlink.Default.AdamTip"))("disabled",t.controlStatus.disabled)}}function lg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openPagePicker())}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",20),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("tippy",e.lcZ(1,2,"Fields.Hyperlink.Default.PageTip"))("disabled",t.controlStatus.disabled)}}function dg(i,o){if(1&i&&(e.TgZ(0,"button",5),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()()),2&i){e.oxw();const t=e.MAs(10),n=e.oxw();e.Q6J("tippy",e.lcZ(1,3,"Fields.Hyperlink.Default.MoreOptions"))("disabled",n.controlStatus.disabled)("matMenuTriggerFor",t)}}function cg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.toggleAdam(!1,!1))}),e._UZ(1,"mat-icon",18),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"Fields.Hyperlink.Default.MenuAdam")))}function ug(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.openPagePicker())}),e._UZ(1,"mat-icon",20),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"Fields.Hyperlink.Default.MenuPage")))}function pg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.toggleAdam(!0,!0))}),e._UZ(1,"mat-icon",23),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"Fields.Hyperlink.Default.MenuImage")))}function gg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.toggleAdam(!0,!1))}),e._UZ(1,"mat-icon",24),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"Fields.Hyperlink.Default.MenuDocs")))}function hg(i,o){if(1&i&&e.YNc(0,cg,5,3,"button",21)(1,ug,5,3,"button",21)(2,pg,5,3,"button",21)(3,gg,5,3,"button",21),2&i){const t=e.oxw(2);e.um2(0,t.showAdam?0:-1),e.xp6(1),e.um2(1,t.showPagePicker?1:-1),e.xp6(1),e.um2(2,t.showImageManager?2:-1),e.xp6(1),e.um2(3,t.showFileManager?3:-1)}}function mg(i,o){if(1&i&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2),e.qZA(),e.TgZ(3,"div",27)(4,"a",28)(5,"span"),e._uU(6),e.qZA()()()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.controlStatus.value),e.xp6(2),e.Q6J("href",t.preview.url,e.LSH)("tippy",t.preview.url),e.xp6(2),e.Oqu(t.preview.floatingText)}}function _g(i,o){if(1&i&&(e.TgZ(0,"a",30)(1,"div",32),e._UZ(2,"img",33),e.qZA()()),2&i){const t=e.oxw(3);e.Q6J("href",t.preview.url,e.LSH),e.xp6(2),e.Q6J("src",t.preview.previewUrl,e.LSH)}}function fg(i,o){if(1&i&&e._UZ(0,"mat-icon",35),2&i){const t=e.oxw(4);e.Q6J("svgIcon",t.preview.icon)}}function vg(i,o){if(1&i&&e._UZ(0,"mat-icon",35),2&i){const t=e.oxw(4);e.Q6J("svgIcon",t.preview.icon)}}function yg(i,o){if(1&i&&(e.TgZ(0,"a",31)(1,"div",34),e.YNc(2,fg,1,1,"mat-icon",35)(3,vg,1,1,"mat-icon",35),e.qZA()()),2&i){const t=e.oxw(3);e.Q6J("href",t.preview.url,e.LSH)("tippy",t.preview.url),e.xp6(2),e.um2(2,t.preview.isKnownType?2:-1),e.xp6(1),e.um2(3,t.preview.isKnownType?-1:3)}}function xg(i,o){if(1&i&&(e.TgZ(0,"div",29),e.YNc(1,_g,3,2,"a",30)(2,yg,4,4,"a",31),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.um2(1,t.preview.isImage?1:-1),e.xp6(1),e.um2(2,t.preview.isImage?-1:2)}}const Cg=i=>({"metadata-exists":i});function bg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",0),e.YNc(1,sg,3,4,"button",1),e.TgZ(2,"button",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),r=e.oxw();return e.KtG(r.openImageConfiguration(a.adamItem))}),e.ALo(3,"translate"),e.TgZ(4,"mat-icon",3),e.ALo(5,"translate"),e._uU(6,"filter_center_focus"),e.qZA()(),e.YNc(7,lg,3,4,"button",4)(8,dg,4,5,"button",5),e.qZA(),e.TgZ(9,"mat-menu",6,7),e.YNc(11,hg,4,4,"ng-template",8),e.qZA(),e.TgZ(12,"div",9)(13,"div",10)(14,"mat-card",11)(15,"div",12)(16,"mat-form-field",13),e._UZ(17,"input",14),e.ALo(18,"translate"),e.TgZ(19,"mat-label"),e._uU(20),e.qZA()(),e.YNc(21,mg,7,4,"div",15),e.qZA(),e.YNc(22,xg,3,2,"div",16),e.qZA()()()}if(2&i){const t=e.oxw(),n=e.oxw();e.xp6(1),e.um2(1,t.buttonAdam?1:-1),e.xp6(1),e.Q6J("disabled",!(null!=t.adamItem&&t.adamItem._imageConfigurationContentType))("ngClass",e.VKq(24,Cg,(null==t.adamItem?null:t.adamItem._imageConfigurationId)>0))("tippy",e.lcZ(3,18,"Fields.Hyperlink.AdamFileManager.ImageSettings")),e.xp6(2),e.Q6J("tippy",e.lcZ(5,20,t.enableImageConfiguration?"Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled"))("tippyDisabled",null==t.adamItem?null:t.adamItem._imageConfigurationContentType),e.xp6(3),e.um2(7,t.buttonPage?7:-1),e.xp6(1),e.um2(8,t.buttonMore?8:-1),e.xp6(8),e.Q6J("formGroup",n.group),e.xp6(1),e.Q6J("formControlName",n.config.fieldName)("tippy",e.lcZ(18,22,"Fields.Hyperlink.Default.Tooltip"))("placeholder",t.placeholder)("required",t.required)("config",n.config)("elementType","input"),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.um2(21,null!=t.preview&&t.preview.floatingText?21:-1),e.xp6(1),e.um2(22,t.controlStatus.value&&t.preview?22:-1)}}function Dg(i,o){1&i&&e.YNc(0,bg,23,26),2&i&&e.um2(0,o.open?0:-1)}let Ii=class la extends jo{constructor(o,t,n,a,r,s,d,g,b){super(o,t,n,a,r,s,d,g,b),Qo.importMe()}ngOnInit(){super.ngOnInit(),this.attachAdam();const o=this.editRoutingService.isExpanded$(this.config.index,this.config.entityGuid),t=this.settings$.pipe((0,I.U)(a=>({_buttonAdam:a.Buttons.includes("adam"),_buttonPage:a.Buttons.includes("page"),_buttonMore:a.Buttons.includes("more"),ShowAdam:a.ShowAdam,ShowPagePicker:a.ShowPagePicker,ShowImageManager:a.ShowImageManager,ShowFileManager:a.ShowFileManager,EnableImageConfiguration:a.EnableImageConfiguration})),(0,K.x)(oe.iX.objectsEqual)),n=(0,J.a)([this.controlStatus$,this.config.adam.items$]).pipe((0,I.U)(([a,r])=>{if(!a.value||!r.length)return;const s=a.value.trim().match(/^file:([0-9]+)$/i);if(!s)return;const d=parseInt(s[1],10);return r.find(b=>b.Id===d)}),(0,K.x)());this.viewModel=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([o,this.preview$,t,n])]).pipe((0,I.U)(([[a,r,s,d],[g,b,F,D]])=>({controlStatus:a,label:r,placeholder:s,required:d,open:g,buttonAdam:F._buttonAdam,buttonPage:F._buttonPage,buttonMore:F._buttonMore,showAdam:F.ShowAdam,showPagePicker:F.ShowPagePicker,showImageManager:F.ShowImageManager,showFileManager:F.ShowFileManager,preview:b,adamItem:D,enableImageConfiguration:F.EnableImageConfiguration})))}ngOnDestroy(){super.ngOnDestroy()}toggleAdam(o,t){this.config.adam.toggle(o,t)}attachAdam(){this.subscription.add(this.settings$.pipe((0,I.U)(o=>({Paths:o.Paths,FileFilter:o.FileFilter})),(0,K.x)(oe.iX.objectsEqual)).subscribe(o=>{this.config.adam.onItemClick=t=>{this.setValue(t)},this.config.adam.onItemUpload=t=>{this.setValue(t)},this.config.adam.setConfig({rootSubfolder:o.Paths,fileFilter:o.FileFilter,autoLoad:!0})}))}setValue(o){oe.iX.patchControlValue(this.control,"url"===this.settings$.value.ServerResourceMapping?o.Url:o.ReferenceId)}static#e=this.\u0275fac=function(t){return new(t||la)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C._q),e.Y36($e.uw),e.Y36(e.s_b),e.Y36(e.sBO),e.Y36(ne.f3),e.Y36(C.nz),e.Y36(C.i3))};static#t=this.\u0275cmp=e.Xpm({type:la,selectors:[["hyperlink-default"]],features:[e.qOj],decls:2,vars:3,consts:[[1,"fabs-box"],["mat-mini-fab","","color","accent",3,"tippy","disabled"],["mat-mini-fab","","color","primary",3,"disabled","ngClass","tippy","click"],[3,"tippy","tippyDisabled"],["mat-mini-fab","","color","primary",3,"tippy","disabled"],["mat-mini-fab","","color","primary",3,"tippy","disabled","matMenuTriggerFor"],[1,"menu-box"],["menu","matMenu"],["matMenuContent",""],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],[1,"eav-card","eav-layout-grid__cell--span-12","hyperlink-card","shadow-bottom-z-1"],[1,"hyperlink-input-link-wrapper"],["color","accent",1,"eav-form-field",3,"formGroup"],["matInput","","tippyPlacement","top","appPasteClipboardImage","",3,"formControlName","tippy","placeholder","required","config","elementType"],["class","hyperlink-floating"],["class","preview-wrapper"],["mat-mini-fab","","color","accent",3,"tippy","disabled","click"],["svgIcon","apple-outlined"],["mat-mini-fab","","color","primary",3,"tippy","disabled","click"],["svgIcon","sitemap"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["svgIcon","file-image"],["svgIcon","file"],[1,"hyperlink-floating"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank",1,"hyperlink-floating__url",3,"href","tippy"],[1,"preview-wrapper"],["target","_blank",3,"href"],["target","_blank","tippyPlacement","right",3,"href","tippy"],[1,"preview-image-box"],[1,"preview-image",3,"src"],[1,"preview-icon-box"],[3,"svgIcon"]],template:function(t,n){if(1&t&&(e.YNc(0,Dg,1,1),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel))?0:-1,a)}},dependencies:[He.$,A.mk,N.nh,De.Nt,ie.KE,ie.hX,Z.Fj,Z.JJ,Z.JL,Z.Q7,Z.sg,Z.u,Ie.a8,k.Hw,Ge.VK,Ge.OP,Ge.KA,Ge.p6,Fe.oO,Li,A.Ov,ge.X$],styles:[".eav-card[_ngcontent-%COMP%]{padding:16px}.metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.fabs-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:8px;z-index:11;position:fixed;width:800px;pointer-events:none}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:16px;pointer-events:auto}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-right:32px!important}.menu-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.hyperlink-card[_ngcontent-%COMP%]{border-radius:8px}.preview-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:8px}.preview-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.preview-image-box[_ngcontent-%COMP%]{z-index:100;width:100%;height:auto}.preview-image[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 295px);height:auto}.preview-icon-box[_ngcontent-%COMP%]{z-index:100;display:flex;align-items:center;justify-content:center;width:80px;height:80px;background-color:#1d273d14}.preview-icon-box[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px;line-height:56px;color:#1d273d70}"]})};Ii=(0,Me.gn)([Ue({wrappers:[Ke.e.DropzoneWrapper,Ke.e.LocalizationWrapper,Ke.e.HyperlinkDefaultExpandableWrapper,Ke.e.AdamWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,C._q,$e.uw,e.s_b,e.sBO,ne.f3,C.nz,C.i3])],Ii);class Wo extends Se.M{constructor(){super(...arguments),this.name=_e.v.HyperlinkLibrary}update(o){const t={...o};return t.EnableImageConfiguration??=!0,t}}Se.M.add(Wo);let Yi=class da extends Ve{constructor(o,t){super(o,t),Wo.importMe()}ngOnInit(){super.ngOnInit(),this.attachAdam(),this.attachAdamValidator()}ngOnDestroy(){super.ngOnDestroy()}attachAdam(){this.subscription.add(this.settings$.pipe((0,I.U)(o=>({AllowAssetsInRoot:o.AllowAssetsInRoot,Paths:o.Paths,FileFilter:o.FileFilter,FolderDepth:o.FolderDepth,MetadataContentTypes:o.MetadataContentTypes})),(0,K.x)(oe.iX.objectsEqual)).subscribe(o=>{this.config.adam.setConfig({allowAssetsInRoot:o.AllowAssetsInRoot,autoLoad:!0,enableSelect:!1,rootSubfolder:o.Paths,fileFilter:o.FileFilter,folderDepth:o.FolderDepth||0,metadataContentTypes:o.MetadataContentTypes})}))}attachAdamValidator(){let o=!0;this.subscription.add(this.config.adam.items$.pipe((0,I.U)(t=>t.length),(0,K.x)()).subscribe(t=>{this.control.adamItems=t,o||this.control.updateValueAndValidity(),o=!1}))}static#e=this.\u0275fac=function(t){return new(t||da)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:da,selectors:[["hyperlink-library"]],features:[e.qOj],decls:0,vars:0,template:function(t,n){}})};function Ko(i,o,t,n){let a=[];if(n){const s=n.replace(/\r/g,"").split("\n");switch(t){case"":a=s.map(d=>{const g=d.split(":"),b=g[1],F=g.shift(),D=g.join(":");return{label:F,value:D||""===b?D:F}});break;case"value-label":a=s.map(d=>{const g=[];for(let D=0;D<d.length;D++){const q=d[D],X=d[D+1];"\\"!==q||null==X?g.push({char:q,escaped:!1}):(g.push({char:X,escaped:!0}),D++)}const b=g.findIndex(D=>":"===D.char&&!1===D.escaped),F={label:b>=0?g.slice(b+1,g.length).map(D=>D.char).join(""):g.map(D=>D.char).join(""),value:b>=0?g.slice(0,b).map(D=>D.char).join(""):g.map(D=>D.char).join("")};return"number"===o&&(F.value=null!=F.value&&""!==F.value?isNaN(Number(F.value))?null:Number(F.value):null),F})}}return!a.some(s=>s.value===i)&&!i&&""!==i&&a.push({label:i,value:i}),a}Yi=(0,Me.gn)([Ue({wrappers:[Ke.e.DropzoneWrapper,Ke.e.LocalizationWrapper,Ke.e.HyperlinkLibraryExpandableWrapper,Ke.e.AdamWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ])],Yi);class Pi extends Se.M{constructor(){super(...arguments),this.name=_e.v.StringDropdown,this.type="string"}update(o,t){const n={...o};return n.EnableTextEntry??=!1,n.DropdownValues??="",n.DropdownValuesFormat??="",n._options=Ko(t,this.type,n.DropdownValuesFormat,n.DropdownValues),n.EntityType??="",n.AllowMultiValue??=!1,n.EnableEdit??=!1,n.EnableCreate??=!1,n.EnableAddExisting??=!0,n.EnableRemove??=n.AllowMultiValue,n.EnableDelete??=!1,n}}Se.M.add(Pi);class Xo extends Pi{constructor(){super(...arguments),this.name=_e.v.NumberDefault}update(o,t){return{...super.update(o,t)}}}function wg(i,o){if(1&i&&(e.TgZ(0,"mat-form-field",0),e._UZ(1,"input",1),e.TgZ(2,"mat-label"),e._uU(3),e.qZA()(),e._UZ(4,"app-field-helper-text",2)),2&i){const t=e.oxw();e.Q6J("formGroup",t.group),e.xp6(1),e.Q6J("formControlName",t.config.fieldName)("required",o.required)("placeholder",o.placeholder)("min",o.min)("max",o.max),e.xp6(2),e.Oqu(o.label),e.xp6(1),e.Q6J("config",t.config)("group",t.group)}}Se.M.add(Xo);let Ri=class ca extends Ve{constructor(o,t){super(o,t),Xo.importMe()}ngOnInit(){super.ngOnInit();const o=this.settings$.pipe((0,I.U)(t=>({Min:t.Min,Max:t.Max})),(0,K.x)(oe.iX.objectsEqual));this.viewModel=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([o])]).pipe((0,I.U)(([[t,n,a,r],[s]])=>({controlStatus:t,label:n,placeholder:a,required:r,min:s.Min,max:s.Max})))}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(t){return new(t||ca)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:ca,selectors:[["number-default"]],features:[e.qOj],decls:2,vars:3,consts:[["color","accent",1,"eav-form-field",3,"formGroup"],["matInput","","type","number",3,"formControlName","required","placeholder","min","max"],[3,"config","group"]],template:function(t,n){if(1&t&&(e.YNc(0,wg,5,9),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel))?0:-1,a)}},dependencies:[De.Nt,ie.KE,ie.hX,Z.Fj,Z.wV,Z.JJ,Z.JL,Z.Q7,Z.qQ,Z.Fd,Z.sg,Z.u,ot,A.Ov]})};Ri=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ])],Ri);class er extends Pi{constructor(){super(...arguments),this.name=_e.v.NumberDropdown,this.type="number"}update(o,t){return{...super.update(o,t)}}}function Mg(i,o){if(1&i&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.label," ")}}function Ag(i,o){if(1&i&&(e.TgZ(0,"mat-select",1),e.SjG(1,Mg,2,2,"mat-option",5,e.x6l),e.qZA()),2&i){const t=e.oxw(),n=e.oxw();e.Q6J("formControlName",n.config.fieldName)("required",t.required)("placeholder",t.placeholder),e.xp6(1),e.wJu(t.dropdownOptions)}}function kg(i,o){if(1&i&&e._UZ(0,"input",2),2&i){const t=e.oxw(),n=e.oxw();e.Q6J("formControlName",n.config.fieldName)("required",t.required)("placeholder",t.placeholder)}}Se.M.add(er);const tr=i=>({active:i});function Sg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"button",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleFreeTextMode(!1))}),e.ALo(2,"translate"),e.TgZ(3,"mat-icon"),e._uU(4,"search"),e.qZA()(),e.TgZ(5,"button",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleFreeTextMode(!0))}),e.ALo(6,"translate"),e.TgZ(7,"mat-icon"),e._uU(8,"text_fields"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(10,tr,!t.freeTextMode))("tippy",e.lcZ(2,6,"Fields.String.Dropdown"))("disabled",t.controlStatus.disabled),e.xp6(4),e.Q6J("ngClass",e.VKq(12,tr,t.freeTextMode))("tippy",e.lcZ(6,8,"Fields.String.Freetext"))("disabled",t.controlStatus.disabled)}}function Tg(i,o){if(1&i&&(e.TgZ(0,"mat-form-field",0),e.YNc(1,Ag,3,3,"mat-select",1)(2,kg,1,3,"input",2)(3,Sg,9,14,"div",3),e.TgZ(4,"mat-label"),e._uU(5),e.qZA()(),e._UZ(6,"app-field-helper-text",4)),2&i){const t=e.oxw();e.Q6J("formGroup",t.group),e.xp6(1),e.um2(1,o.freeTextMode?-1:1),e.xp6(1),e.um2(2,o.freeTextMode?2:-1),e.xp6(1),e.um2(3,o.enableTextEntry?3:-1),e.xp6(2),e.Oqu(o.label),e.xp6(1),e.Q6J("config",t.config)("group",t.group)}}let Ln=class ua extends Ve{constructor(o,t){super(o,t),er.importMe()}ngOnInit(){super.ngOnInit(),this.toggleFreeText$=new me.X(!1);const o=this.settings$.pipe((0,I.U)(a=>a.EnableTextEntry),(0,K.x)()),t=(0,J.a)([o,this.toggleFreeText$]).pipe((0,I.U)(([a,r])=>!!a&&r),(0,K.x)()),n=this.settings$.pipe((0,I.U)(a=>a._options),(0,K.x)());this.viewModel$=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([o,n,t])]).pipe((0,I.U)(([[a,r,s,d],[g,b,F]])=>({controlStatus:a,label:r,placeholder:s,required:d,enableTextEntry:g,dropdownOptions:b,freeTextMode:F})))}ngOnDestroy(){this.toggleFreeText$.complete(),super.ngOnDestroy()}toggleFreeTextMode(o){this.toggleFreeText$.value!==o&&this.toggleFreeText$.next(o)}static#e=this.\u0275fac=function(t){return new(t||ua)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:ua,selectors:[["number-dropdown"]],features:[e.qOj],decls:2,vars:3,consts:[["color","accent",1,"eav-form-field",3,"formGroup"],[3,"formControlName","required","placeholder"],["matInput","","type","number",3,"formControlName","required","placeholder"],["matSuffix","","class","selection-suffix"],[3,"config","group"],[3,"value"],["matSuffix","",1,"selection-suffix"],["mat-icon-button","",3,"ngClass","tippy","disabled","click"]],template:function(t,n){if(1&t&&(e.YNc(0,Tg,7,7),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[He.$,A.mk,N.RK,De.Nt,ie.KE,ie.hX,ie.R9,nn.gD,T.ey,Z.Fj,Z.wV,Z.JJ,Z.JL,Z.Q7,Z.sg,Z.u,k.Hw,Fe.oO,ot,A.Ov,ge.X$]})};Ln=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ])],Ln);class nr extends Se.M{constructor(){super(...arguments),this.name=_e.v.StringDefault,this.canAutoTranslate=!0}update(o){const t={...o};return t.InputFontFamily??="",t.RowCount||=1,t}}Se.M.add(nr);const ir=i=>({"font-family":i});function Fg(i,o){if(1&i&&e._UZ(0,"input",1),2&i){const t=e.oxw(),n=e.oxw();e.Q6J("formControlName",n.config.fieldName)("placeholder",t.placeholder)("required",t.required)("ngStyle",e.VKq(4,ir,t.inputFontFamily))}}function Eg(i,o){if(1&i&&(e.TgZ(0,"textarea",2),e._uU(1,"      "),e.qZA()),2&i){const t=e.oxw(),n=e.oxw();e.Q6J("formControlName",n.config.fieldName)("rows",t.rowCount)("placeholder",t.placeholder)("required",t.required)("ngStyle",e.VKq(5,ir,t.inputFontFamily))}}const Og=i=>({"textarea-field":i});function Lg(i,o){if(1&i&&(e.TgZ(0,"mat-form-field",0),e.YNc(1,Fg,1,6,"input",1)(2,Eg,2,7,"textarea",2),e.TgZ(3,"mat-label"),e._uU(4),e.qZA()(),e._UZ(5,"app-field-helper-text",3)),2&i){const t=e.oxw();e.Q6J("formGroup",t.group)("ngClass",e.VKq(7,Og,o.rowCount>1)),e.xp6(1),e.um2(1,o.rowCount<=1?1:-1),e.xp6(1),e.um2(2,o.rowCount>1?2:-1),e.xp6(2),e.Oqu(o.label),e.xp6(1),e.Q6J("config",t.config)("group",t.group)}}let Ni=class pa extends Ve{constructor(o,t){super(o,t),nr.importMe()}ngOnInit(){super.ngOnInit();const o=this.settings$.pipe((0,I.U)(t=>({InputFontFamily:t.InputFontFamily,RowCount:t.RowCount})),(0,K.x)(oe.iX.objectsEqual));this.viewModel=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([o])]).pipe((0,I.U)(([[t,n,a,r],[s]])=>({controlStatus:t,label:n,placeholder:a,required:r,inputFontFamily:s.InputFontFamily,rowCount:s.RowCount})))}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(t){return new(t||pa)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:pa,selectors:[["string-default"]],features:[e.qOj],decls:2,vars:3,consts:[["color","accent",1,"eav-form-field",3,"formGroup","ngClass"],["matInput","",3,"formControlName","placeholder","required","ngStyle"],["matInput","",3,"formControlName","rows","placeholder","required","ngStyle"],[3,"config","group"]],template:function(t,n){if(1&t&&(e.YNc(0,Lg,6,9),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel))?0:-1,a)}},dependencies:[A.mk,A.PC,De.Nt,ie.KE,ie.hX,Z.Fj,Z.JJ,Z.JL,Z.Q7,Z.sg,Z.u,Fe.oO,Fe.Zl,ot,A.Ov],styles:[".textarea-field[_ngcontent-%COMP%]{height:auto}"]})};Ni=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ])],Ni);class ar extends Se.M{constructor(){super(...arguments),this.name=_e.v.StringDropdownQuery}update(o,t,n){const r=sn.e.singleton().get(_e.v.EntityDefault).update(o,t,n);return r.Value??="",r.Label??="",r.EnableTextEntry??=!1,r.Separator||=",",r.Information??="",r.Tooltip??="",r.MoreFields??="",r}}function Ig(i,o){if(1&i&&e._UZ(0,"app-picker-preview",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function Yg(i,o){if(1&i&&e._UZ(0,"app-picker-dialog",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function Pg(i,o){1&i&&e.YNc(0,Ig,1,4,"app-picker-preview",0)(1,Yg,1,4,"app-picker-dialog",0),2&i&&(e.um2(0,o.showPreview?0:-1),e.xp6(1),e.um2(1,o.showPreview?-1:1))}Se.M.add(ar);let Zi=class ga extends On{constructor(o,t,n,a,r,s,d,g,b){super(o,t,n,a,r,s,d,g,b),ar.importMe(),this.isStringQuery=!0}ngOnInit(){super.ngOnInit(),this.isStringQuery&&(this.createPickerAdapters(),this.createViewModel())}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}createPickerAdapters(){const o=this.stateFactory.createPickerStringStateAdapter(this.control,this.config,this.settings$,this.editRoutingService,this.controlStatus$,this.label$,this.placeholder$,this.required$,()=>this.focusOnSearchComponent),t=this.sourceFactory.createPickerQuerySourceAdapter(o.error$,o.disableAddNew$,this.fieldsSettingsService,this.isStringQuery,o.control,this.config,o.settings$,this.editRoutingService,this.group,n=>o.doAfterDelete(n));o.init(),t.init(),this.pickerData=new It(o,t,this.translate)}static#e=this.\u0275fac=function(t){return new(t||ga)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.c4),e.Y36(ge.sK),e.Y36(C.nz),e.Y36(ne.r6),e.Y36(ne.uQ),e.Y36(rt),e.Y36(st))};static#t=this.\u0275cmp=e.Xpm({type:ga,selectors:[["string-dropdown-query"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"pickerData","config","group","controlConfig"]],template:function(t,n){if(1&t&&(e.YNc(0,Pg,2,2),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[Et,Ot,A.Ov]})};function Rg(i,o){if(1&i&&e._UZ(0,"app-picker-preview",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function Ng(i,o){if(1&i&&e._UZ(0,"app-picker-dialog",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function Zg(i,o){1&i&&e.YNc(0,Rg,1,4,"app-picker-preview",0)(1,Ng,1,4,"app-picker-dialog",0),2&i&&(e.um2(0,o.showPreview?0:-1),e.xp6(1),e.um2(1,o.showPreview?-1:1))}Zi=(0,Me.gn)([Ue({}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,C.c4,ge.sK,C.nz,ne.r6,ne.uQ,rt,st])],Zi);let $i=class ha extends Bt{constructor(o,t,n,a,r,s,d,g,b){super(o,t,n,a,r,s,d),this.sourceFactory=g,this.stateFactory=b,Ei.importMe()}ngOnInit(){super.ngOnInit(),this.createPickerAdapters(),this.createViewModel()}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}createPickerAdapters(){const o=this.stateFactory.createPickerStringStateAdapter(this.control,this.config,this.settings$,this.editRoutingService,this.controlStatus$,this.label$,this.placeholder$,this.required$,()=>this.focusOnSearchComponent),t=this.sourceFactory.createPickerStringSourceAdapter(o.disableAddNew$,this.fieldsSettingsService,o.control,this.config,o.settings$,this.editRoutingService,this.group,n=>o.doAfterDelete(n));o.init(),t.init(),this.pickerData=new It(o,t,this.translate)}static#e=this.\u0275fac=function(t){return new(t||ha)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.c4),e.Y36(ge.sK),e.Y36(C.nz),e.Y36(ne.r6),e.Y36(ne.uQ),e.Y36(rt),e.Y36(st))};static#t=this.\u0275cmp=e.Xpm({type:ha,selectors:[["string-dropdown"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"pickerData","config","group","controlConfig"]],template:function(t,n){if(1&t&&(e.YNc(0,Zg,2,2),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[Et,Ot,A.Ov]})};$i=(0,Me.gn)([Ue({}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,C.c4,ge.sK,C.nz,ne.r6,ne.uQ,rt,st])],$i);class or extends Se.M{constructor(){super(...arguments),this.name=_e.v.StringFontIconPicker}update(o){const t={...o};return t.Files??="",t.CssPrefix??="",t.ShowPrefix??=!1,t}}function zg(i,o){if(1&i&&e._UZ(0,"i"),2&i){const t=e.oxw();e.MT6("icon-preview ",t.previewCss," ",t.controlStatus.value,"")}}function Vg(i,o){if(1&i&&(e.TgZ(0,"mat-option",9)(1,"div",1),e._UZ(2,"i"),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&i){const t=o.$implicit,n=e.oxw();e.Q6J("value",t.class),e.xp6(2),e.MT6("icon-preview ",n.previewCss," ",t.class,""),e.xp6(2),e.Oqu(t.label)}}function Gg(i,o){if(1&i&&(e.TgZ(0,"mat-form-field",0)(1,"div",1),e.YNc(2,zg,1,4,"i",2),e._UZ(3,"input",3),e.qZA(),e.TgZ(4,"mat-autocomplete",4,5)(6,"cdk-virtual-scroll-viewport",6),e.YNc(7,Vg,5,6,"mat-option",7),e.qZA()(),e.TgZ(8,"mat-label"),e._uU(9),e.qZA()(),e._UZ(10,"app-field-helper-text",8)),2&i){const t=e.MAs(5),n=e.oxw();e.Q6J("formGroup",n.group),e.xp6(2),e.um2(2,o.controlStatus.value?2:-1),e.xp6(1),e.Q6J("formControlName",n.config.fieldName)("placeholder",o.placeholder)("required",o.required)("matAutocomplete",t),e.xp6(1),e.Q6J("hideSingleSelectionIndicator",!0),e.xp6(2),e.Udp("height",o.filteredIcons.length<6?48*o.filteredIcons.length:240,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",o.filteredIcons),e.xp6(2),e.Oqu(o.label),e.xp6(1),e.Q6J("config",n.config)("group",n.group)}}Se.M.add(or);let zi=class ma extends Ve{constructor(o,t,n){super(o,t),this.scriptsLoaderService=n,or.importMe()}ngOnInit(){super.ngOnInit(),this.iconOptions$=new me.X([]),this.subscription.add(this.settings$.pipe((0,I.U)(n=>({Files:n.Files,CssPrefix:n.CssPrefix,ShowPrefix:n.ShowPrefix})),(0,K.x)(oe.iX.objectsEqual)).subscribe(n=>{this.scriptsLoaderService.load(n.Files.split("\n"),()=>{const a=function $g(i,o){const t=[],n={};if(!i)return t;const a=o?0:i.length-1;for(const r of Array.from(document.styleSheets)){if(!r)continue;let s;try{s=r.rules}catch{}if(!s)try{s=r.cssRules}catch{}if(s)for(const d of Array.from(s)){if(!d.selectorText||!d.selectorText.startsWith(i))continue;const g=d.selectorText,b=g.substring(0,g.indexOf(":")).replace(".","");n[b]||(t.push({rule:d,class:b,search:b?.toLowerCase(),label:b.substring(a)}),n[b]=!0)}}return t}(n.CssPrefix,n.ShowPrefix);this.iconOptions$.next(a)})}));const o=this.settings$.pipe((0,I.U)(n=>n.PreviewCss),(0,K.x)()),t=(0,J.a)([this.controlStatus$.pipe((0,I.U)(n=>n.value),(0,K.x)()),this.iconOptions$]).pipe((0,I.U)(([n,a])=>n?a.filter(s=>s.search?.includes(n.toLocaleLowerCase())??!1):a));this.viewModel=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([t,o])]).pipe((0,I.U)(([[n,a,r,s],[d,g]])=>({controlStatus:n,label:a,placeholder:r,required:s,filteredIcons:d,previewCss:g})))}ngOnDestroy(){this.iconOptions$.complete(),super.ngOnDestroy()}static#e=this.\u0275fac=function(t){return new(t||ma)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.W5))};static#t=this.\u0275cmp=e.Xpm({type:ma,selectors:[["string-font-icon-picker"]],features:[e.qOj],decls:2,vars:3,consts:[["color","accent",1,"eav-form-field",3,"formGroup"],[1,"icon-option"],[3,"class"],["matInput","",3,"formControlName","placeholder","required","matAutocomplete"],[3,"hideSingleSelectionIndicator"],["auto","matAutocomplete"],["itemSize","48","minBufferPx","500","maxBufferPx","1000"],[3,"value",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"config","group"],[3,"value"]],template:function(t,n){if(1&t&&(e.YNc(0,Gg,11,13),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel))?0:-1,a)}},dependencies:[De.Nt,ie.KE,ie.hX,T.ey,Z.Fj,Z.JJ,Z.JL,Z.Q7,Z.sg,Z.u,Xt.XC,Xt.ZL,ve.xd,ve.x0,ve.N7,ot,A.Ov],styles:[".icon-option[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-preview[_ngcontent-%COMP%]{display:flex;height:18px;margin-right:8px}"]})};zi=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,C.W5])],zi);const rr={Token:{ext:".html",purpose:"Template",type:"Token"},"C# Razor":{ext:".cshtml",purpose:"Template",type:"Razor"},"C# Search":{ext:".cs",purpose:"Search"}};function Hg(i,o){if(1&i&&(e.TgZ(0,"mat-option",6),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ug(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-select",2)(3,"mat-option",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.SjG(6,Hg,2,2,"mat-option",6,e.x6l),e.qZA(),e.TgZ(8,"mat-label"),e._uU(9),e.qZA()(),e.TgZ(10,"button",4),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createTemplate())}),e.ALo(11,"translate"),e.TgZ(12,"mat-icon"),e._uU(13,"add"),e.qZA()()(),e._UZ(14,"app-field-helper-text",5)}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.group),e.xp6(1),e.Q6J("formControlName",t.config.fieldName)("required",o.required),e.xp6(2),e.Oqu(e.lcZ(5,9,"Fields.TemplatePicker.NotSelected")),e.xp6(2),e.wJu(o.templateOptions),e.xp6(3),e.Oqu(o.label),e.xp6(1),e.Q6J("tippy",e.lcZ(11,11,"Fields.TemplatePicker.NewTemplate"))("disabled",o.controlStatus.disabled),e.xp6(4),e.Q6J("config",t.config)("group",t.group)}}let Vi=class _a extends Ve{constructor(o,t,n,a,r){super(o,t),this.sourceService=n,this.dialog=a,this.viewContainerRef=r,this.activeSpec=rr.Token,this.templates=[],this.global=!1,this.resetIfNotFound=!1}ngOnInit(){super.ngOnInit(),this.templateOptions$=new me.X([]),this.typeMask=new oe.tW(this.settings$.value.FileType??"[Type]",this.group.controls,this.setFileConfig.bind(this),null),this.locationMask=new oe.tW("[Location]",this.group.controls,this.onLocationChange.bind(this),null),this.setFileConfig(this.typeMask.resolve()||"Token"),this.onLocationChange(this.locationMask.resolve()||null),this.viewModel=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([this.templateOptions$])]).pipe((0,I.U)(([[t,n,a,r],[s]])=>({controlStatus:t,label:n,placeholder:a,required:r,templateOptions:s})))}ngOnDestroy(){this.templateOptions$.complete(),this.typeMask.destroy(),this.locationMask.destroy(),super.ngOnDestroy()}setFileConfig(o){this.activeSpec=rr[o],this.setTemplateOptions()}onLocationChange(o){this.global="Host File System"===o||"Global"===o,this.sourceService.getAll().subscribe(t=>{this.templates=t.filter(n=>n.Shared===this.global).map(n=>n.Path),this.resetIfNotFound=!0,this.setTemplateOptions()})}setTemplateOptions(){const o=this.activeSpec.ext,t=this.templates.filter(a=>!/\.code\.[a-zA-Z0-9]+$/.test(a)).filter(a=>a.endsWith(o));this.templateOptions$.next(t),this.resetIfNotFound&&!t.some(a=>a===this.control.value)&&oe.iX.patchControlValue(this.control,"")}createTemplate(){const o=new oe.tW("[Name]",this.group.controls,null,null),t={global:this.global,purpose:this.activeSpec.purpose,type:this.activeSpec.type,name:o.resolve()};o.destroy(),this.dialog.open(bo.UH,{autoFocus:!1,data:t,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(a=>{a&&this.sourceService.create(a.name,this.global,a.templateKey).subscribe(r=>{!1===r?alert("Server reported that create failed - the file probably already exists"):(this.templates.push(a.name),this.setTemplateOptions(),oe.iX.patchControlValue(this.control,a.name))})})}static#e=this.\u0275fac=function(t){return new(t||_a)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(gi.t),e.Y36($e.uw),e.Y36(e.s_b))};static#t=this.\u0275cmp=e.Xpm({type:_a,selectors:[["string-template-picker"]],features:[e.qOj],decls:2,vars:3,consts:[[1,"picker-wrapper"],["color","accent",1,"eav-form-field",3,"formGroup"],[3,"formControlName","required"],["value",""],["mat-icon-button","",3,"tippy","disabled","click"],[3,"config","group"],[3,"value"]],template:function(t,n){if(1&t&&(e.YNc(0,Ug,15,13),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel))?0:-1,a)}},dependencies:[He.$,N.RK,ie.KE,ie.hX,nn.gD,T.ey,Z.JJ,Z.JL,Z.Q7,Z.sg,Z.u,k.Hw,ot,A.Ov,ge.X$],styles:[".picker-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end}"]})};Vi=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,gi.t,$e.uw,e.s_b])],Vi);class sr extends Se.M{constructor(){super(...arguments),this.name=_e.v.StringUrlPath}update(o){const t={...o};return t.AutoGenerateMask??=null,t.AllowSlashes??=!1,t}}function Bg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",0)(1,"input",1),e.NdJ("blur",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clean(!0))}),e.qZA(),e.TgZ(2,"mat-label"),e._uU(3),e.qZA()(),e._UZ(4,"app-field-helper-text",2)}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.group),e.xp6(1),e.Q6J("formControlName",t.config.fieldName)("placeholder",o.placeholder)("required",o.required),e.xp6(2),e.Oqu(o.label),e.xp6(1),e.Q6J("config",t.config)("group",t.group)}}Se.M.add(sr);let Gi=class fa extends Ve{constructor(o,t){super(o,t),this.lastAutoCopy="",sr.importMe()}ngOnInit(){super.ngOnInit(),this.subscription.add(this.settings$.pipe((0,I.U)(o=>o.AutoGenerateMask),(0,K.x)()).subscribe(o=>{this.fieldMask?.destroy(),this.fieldMask=new oe.tW(o,this.group.controls,t=>{this.onSourcesChanged(t)},(t,n)=>"string"==typeof n?n.replace("/","-").replace("\\","-"):n),this.onSourcesChanged(this.fieldMask.resolve())})),this.subscription.add(this.control.valueChanges.subscribe(()=>{this.clean(!1)})),this.viewModel$=(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]).pipe((0,I.U)(([o,t,n,a])=>({controlStatus:o,label:t,placeholder:n,required:a})))}ngOnDestroy(){this.fieldMask?.destroy(),super.ngOnDestroy()}onSourcesChanged(o){const t=this.control.value;if(t&&t!==this.lastAutoCopy)return;const n=oe.iN.stripNonUrlCharacters(o,this.settings$.value.AllowSlashes,!0);n&&(this.lastAutoCopy=n,t!==n&&oe.iX.patchControlValue(this.control,n))}clean(o){const t=this.control.value,n=oe.iN.stripNonUrlCharacters(t,this.settings$.value.AllowSlashes,o);t!==n&&oe.iX.patchControlValue(this.control,n)}static#e=this.\u0275fac=function(t){return new(t||fa)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:fa,selectors:[["string-url-path"]],features:[e.qOj],decls:2,vars:3,consts:[["color","accent",1,"eav-form-field",3,"formGroup"],["matInput","",3,"formControlName","placeholder","required","blur"],[3,"config","group"]],template:function(t,n){if(1&t&&(e.YNc(0,Bg,5,7),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[De.Nt,ie.KE,ie.hX,Z.Fj,Z.JJ,Z.JL,Z.Q7,Z.sg,Z.u,ot,A.Ov]})};Gi=(0,Me.gn)([Ue({wrappers:[Ke.e.LocalizationWrapper]}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ])],Gi);class lr{constructor(o){this.rootSubfolder="",this.fileFilter="",this.allowAssetsInRoot=!0,this.folderDepth=0,this.metadataContentTypes="",this.usePortalRoot=!1,this.showImagesOnly=!1,this.autoLoad=!1,this.enableSelect=!0,this.subfolder="",this.allowEdit=!0,this.disabled=!0,this.maxDepthReached=!1,this.disabled=o}}var dr=p(6232);function qg(i,o){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"public"),e.qZA())}function Jg(i,o){1&i&&e._UZ(0,"mat-icon",9)}function jg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(a){e.CHM(t);const r=e.oxw(3);return e.KtG(r.openUploadClick(a))}),e.ALo(1,"translate"),e.TgZ(2,"div",7)(3,"mat-icon"),e._uU(4,"cloud_upload"),e.qZA(),e.TgZ(5,"div",8),e._uU(6),e.ALo(7,"translate"),e.YNc(8,qg,2,0,"mat-icon")(9,Jg,1,0,"mat-icon",9),e.qZA()()()}if(2&i){const t=e.oxw(2);e.Q6J("tippy",e.lcZ(1,4,"Fields.Hyperlink.AdamFileManager.UploadTip")),e.xp6(6),e.hij(" ",e.lcZ(7,6,"Fields.Hyperlink.AdamFileManager.UploadLabel")," \xa0 "),e.xp6(2),e.um2(8,t.adamConfig.usePortalRoot?8:-1),e.xp6(1),e.um2(9,t.adamConfig.usePortalRoot?-1:9)}}function Qg(i,o){1&i&&(e.TgZ(0,"div",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Fields.Hyperlink.AdamFileManager.UploadPasteLabel")," "))}function Wg(i,o){1&i&&(e.TgZ(0,"div",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Fields.Hyperlink.AdamFileManager.UploadPasteFocusedLabel")," "))}function Kg(i,o){1&i&&(e.TgZ(0,"div",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Fields.Hyperlink.AdamFileManager.UploadPasteLabel")," "))}function Xg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",10,11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openFeatureInfoDialog())}),e.ALo(2,"translate"),e.TgZ(3,"div",7)(4,"mat-icon",12),e._uU(5," filter "),e.qZA(),e.YNc(6,Qg,3,3,"div",13)(7,Wg,3,3,"div",13)(8,Kg,3,3,"div",13),e.qZA()()}if(2&i){const t=e.MAs(1),n=e.oxw(2),a=e.oxw();e.Q6J("config",a.config)("elementType","element")("tippy",e.lcZ(2,7,"Fields.Hyperlink.AdamFileManager.UploadPasteTip")),e.xp6(4),e.Q6J("matBadgeHidden",n.allowPasteImageFromClipboard),e.xp6(2),e.um2(6,!t.classList.contains("pastable-focus")&&n.allowPasteImageFromClipboard?6:-1),e.xp6(1),e.um2(7,t.classList.contains("pastable-focus")&&n.allowPasteImageFromClipboard?7:-1),e.xp6(1),e.um2(8,n.allowPasteImageFromClipboard?-1:8)}}function eh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.addFolder())}),e.ALo(1,"translate"),e.TgZ(2,"div",7),e._UZ(3,"mat-icon",15),e.TgZ(4,"div",16),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e._UZ(7,"div",17),e.qZA()}2&i&&(e.Q6J("tippy",e.lcZ(1,2,"Fields.Hyperlink.AdamFileManager.NewFolderTip")),e.xp6(5),e.Oqu(e.lcZ(6,4,"Fields.Hyperlink.AdamFileManager.NewFolder")))}function th(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.goUp())}),e.ALo(1,"translate"),e.TgZ(2,"div",7),e._UZ(3,"mat-icon",18),e.TgZ(4,"div",16),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"mat-icon",20),e._uU(9,"arrow_back"),e.qZA()()()}2&i&&(e.Q6J("tippy",e.lcZ(1,2,"Fields.Hyperlink.AdamFileManager.BackFolderTip")),e.xp6(5),e.Oqu(e.lcZ(6,4,"Fields.Hyperlink.AdamFileManager.BackFolder")))}const In=i=>({"adam-button-disabled":i});function nh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",31),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,r=e.oxw(3);return e.KtG(r.del(a))}),e.ALo(1,"translate"),e._uU(2,"clear"),e.qZA()}if(2&i){const t=e.oxw(4);e.Q6J("tippy",e.lcZ(1,2,"Fields.Hyperlink.AdamFileManager.Delete"))("ngClass",e.VKq(4,In,t.disabled))}}function ih(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",32),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,r=e.oxw(3);return e.KtG(r.rename(a))}),e.ALo(1,"translate"),e._uU(2,"edit"),e.qZA()}if(2&i){const t=e.oxw(4);e.Q6J("tippy",e.lcZ(1,2,"Fields.Hyperlink.AdamFileManager.Edit"))("ngClass",e.VKq(4,In,t.disabled))}}const cr=i=>({"metadata-exists":i});function ah(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",33),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,r=e.oxw(3);return e.KtG(r.editItemMetadata(a,a._metadataContentType,a._metadataId))}),e._uU(1,"local_offer"),e.qZA()}if(2&i){const t=e.oxw(2).$implicit;e.hYB("tippy","",t._metadataContentType,": ",t._metadataId,""),e.Q6J("ngClass",e.VKq(3,cr,t._metadataId>0))}}function oh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.goIntoFolder(a))}),e.TgZ(1,"div",24),e._UZ(2,"mat-icon",18),e.TgZ(3,"div",25),e._uU(4),e.qZA()(),e.TgZ(5,"div"),e.YNc(6,nh,3,6,"mat-icon",26)(7,ih,3,6,"mat-icon",27),e.TgZ(8,"div",28)(9,"div",29),e._uU(10),e.qZA()()(),e.YNc(11,ah,2,5,"mat-icon",30),e.qZA()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(4),e.Oqu(t.Name),e.xp6(1),e.Gre("dz-details file-type-",t.Type,""),e.xp6(1),e.um2(6,n.adamConfig.allowEdit?6:-1),e.xp6(1),e.um2(7,n.adamConfig.allowEdit?7:-1),e.xp6(2),e.Q6J("title",t.Name),e.xp6(1),e.Oqu(t.Name),e.xp6(1),e.um2(11,t._metadataContentType?11:-1)}}function rh(i,o){if(1&i&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t._icon)}}function sh(i,o){if(1&i&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t._icon)}}function lh(i,o){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,rh,2,1,"mat-icon")(2,sh,2,1,"mat-icon"),e.TgZ(3,"div",16),e._uU(4),e.qZA()()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.um2(1,t._isMaterialIcon?1:-1),e.xp6(1),e.um2(2,t._isMaterialIcon?-1:2),e.xp6(2),e.Oqu(t.Name)}}function dh(i,o){if(1&i&&(e.TgZ(0,"div",45),e._UZ(1,"img",46),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("alt",t.Id+":"+t.Name)("src",t.ThumbnailUrl,e.LSH)}}function ch(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",31),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,r=e.oxw(3);return e.KtG(r.del(a))}),e.ALo(1,"translate"),e._uU(2,"clear"),e.qZA()}if(2&i){const t=e.oxw(4);e.Q6J("tippy",e.lcZ(1,2,"Fields.Hyperlink.AdamFileManager.Delete"))("ngClass",e.VKq(4,In,t.disabled))}}function uh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",32),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,r=e.oxw(3);return e.KtG(r.rename(a))}),e.ALo(1,"translate"),e._uU(2,"edit"),e.qZA()}if(2&i){const t=e.oxw(4);e.Q6J("tippy",e.lcZ(1,2,"Fields.Hyperlink.AdamFileManager.Edit"))("ngClass",e.VKq(4,In,t.disabled))}}const ph=(i,o)=>({"adam-button-disabled":i,"metadata-exists":o});function gh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",47),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,r=e.oxw(3);return e.KtG(r.editItemMetadata(a,a._imageConfigurationContentType,a._imageConfigurationId))}),e.ALo(1,"translate"),e._uU(2," filter_center_focus"),e.qZA()}if(2&i){const t=e.oxw(2).$implicit;e.Q6J("ngClass",e.WLB(4,ph,!t._imageConfigurationContentType,t._imageConfigurationId>0))("tippy",e.lcZ(1,2,t._imageConfigurationContentType?"Fields.Hyperlink.AdamFileManager.ImageSettings":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled"))}}function hh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",33),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,r=e.oxw(3);return e.KtG(r.editItemMetadata(a,a._metadataContentType,a._metadataId))}),e._uU(1,"local_offer"),e.qZA()}if(2&i){const t=e.oxw(2).$implicit;e.hYB("tippy","",t._metadataContentType,": ",t._metadataId,""),e.Q6J("ngClass",e.VKq(3,cr,t._metadataId>0))}}const mh=(i,o)=>({"dz-success":i,"disable-select":o});function _h(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.select(a))}),e.YNc(1,lh,5,3,"div",35)(2,dh,2,2,"div",36),e.TgZ(3,"div"),e.YNc(4,ch,3,6,"mat-icon",26)(5,uh,3,6,"mat-icon",27),e.TgZ(6,"div",28)(7,"div",29),e._uU(8),e.qZA()(),e.TgZ(9,"div",37)(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"a",38)(13,"mat-icon",39),e.ALo(14,"translate"),e._uU(15,"open_in_new"),e.qZA()(),e.YNc(16,gh,3,7,"mat-icon",40),e.qZA(),e.YNc(17,hh,2,5,"mat-icon",30),e.TgZ(18,"div",41),e.O4$(),e.TgZ(19,"svg",42)(20,"title"),e._uU(21,"Check"),e.qZA(),e._UZ(22,"defs"),e.TgZ(23,"g",43),e._UZ(24,"path",44),e.qZA()()()()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.Q6J("ngClass",e.WLB(20,mh,n.value==="file:"+t.Id,!n.adamConfig.enableSelect)),e.xp6(1),e.um2(1,"image"!==t.Type?1:-1),e.xp6(1),e.um2(2,"image"===t.Type?2:-1),e.xp6(1),e.Gre("dz-details file-type-",t.Type,""),e.xp6(1),e.um2(4,n.adamConfig.allowEdit?4:-1),e.xp6(1),e.um2(5,n.adamConfig.allowEdit?5:-1),e.xp6(2),e.Q6J("title",t.Name),e.xp6(1),e.Oqu(t.Name),e.xp6(1),e.hYB("title","#",t.Id," - ",t._displaySize," KB"),e.xp6(2),e.AsE("#",t.Id," - ",t._displaySize," KB"),e.xp6(1),e.Q6J("href",t.Url,e.LSH),e.xp6(1),e.Q6J("tippy",e.lcZ(14,18,"Fields.Hyperlink.AdamFileManager.Show")),e.xp6(3),e.um2(16,"image"===t.Type?16:-1),e.xp6(1),e.um2(17,t._metadataContentType?17:-1)}}function fh(i,o){if(1&i&&e.YNc(0,oh,12,9,"div",21)(1,_h,25,23,"div",22),2&i){const t=o.$implicit;e.um2(0,t.IsFolder?0:-1),e.xp6(1),e.um2(1,t.IsFolder?-1:1)}}const vh=(i,o)=>({"adam-scope-site":i,"adam-scope-field":o});function yh(i,o){if(1&i&&(e.TgZ(0,"div",2),e.YNc(1,jg,10,8,"div",3)(2,Xg,9,9,"div",4)(3,eh,8,6,"div",5)(4,th,10,6,"div",5),e.SjG(5,fh,2,2,null,null,e.QCX().trackByFn),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.WLB(5,vh,t.adamConfig.usePortalRoot,!t.adamConfig.usePortalRoot)),e.xp6(1),e.um2(1,t.disabled||!t.adamConfig.allowEdit||(""===t.adamConfig.subfolder||t.adamConfig.usePortalRoot&&t.adamConfig.subfolder===t.adamConfig.rootSubfolder)&&!t.adamConfig.allowAssetsInRoot?-1:1),e.xp6(1),e.um2(2,t.disabled||!t.adamConfig.allowEdit||(""===t.adamConfig.subfolder||t.adamConfig.usePortalRoot&&t.adamConfig.subfolder===t.adamConfig.rootSubfolder)&&!t.adamConfig.allowAssetsInRoot?-1:2),e.xp6(1),e.um2(3,t.adamConfig.maxDepthReached||t.disabled||!t.adamConfig.allowEdit||(""===t.adamConfig.subfolder||t.adamConfig.usePortalRoot&&t.adamConfig.subfolder===t.adamConfig.rootSubfolder)&&!t.adamConfig.allowAssetsInRoot?-1:3),e.xp6(1),e.um2(4,""!==t.adamConfig.subfolder||t.adamConfig.usePortalRoot&&t.adamConfig.subfolder!==t.adamConfig.rootSubfolder?4:-1),e.xp6(1),e.wJu(t.items)}}function xh(i,o){1&i&&(e.TgZ(0,"div",1),e.YNc(1,yh,7,8,"div",2),e.qZA()),2&i&&(e.Q6J("@adamShowAnimate",null!=o.adamConfig&&o.adamConfig.autoLoad?"open":"closed"),e.xp6(1),e.um2(1,null!=o.adamConfig&&o.adamConfig.autoLoad&&o.expanded?1:-1))}let Ch=(()=>{class i extends _t.f{constructor(t,n,a,r,s,d,g,b,F,D,q,X){super(),this.adamService=t,this.featuresService=n,this.dnnContext=a,this.editRoutingService=r,this.zone=s,this.adamCacheService=d,this.linkCacheService=g,this.formsStateService=b,this.fieldsSettingsService=F,this.dialog=D,this.viewContainerRef=q,this.changeDetectorRef=X,this.openUpload=new e.vpe,this.firstFetch=!0,this.isPasteImageFromClipboardEnabled$=new me.X(!1)}ngOnInit(){this.control=this.group.controls[this.config.fieldName],this.adamConfig$=new me.X(null),this.items$=new me.X([]),this.refreshOnChildClosed(),this.url=this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${this.config.contentTypeId}/${this.config.entityGuid}/${this.config.fieldName}`),this.config.adam={items$:this.items$.asObservable(),toggle:(b,F)=>{this.zone.run(()=>{this.toggle(b,F)})},setConfig:b=>{this.zone.run(()=>{this.setConfig(b)})},getConfig:()=>this.adamConfig$.value,getConfig$:()=>this.adamConfig$.asObservable(),onItemClick:()=>{},onItemUpload:()=>{},refresh:()=>{this.zone.run(()=>{this.fetchItems()})}},this.subscription.add(this.adamConfig$.subscribe(()=>{this.fetchItems()}));const r=this.featuresService.isEnabled$(lt.C.PasteImageFromClipboard).pipe((0,K.x)());this.subscription.add(r.pipe((0,K.x)()).subscribe(this.isPasteImageFromClipboardEnabled$));const s=this.editRoutingService.isExpanded$(this.config.index,this.config.entityGuid),d=this.control.valueChanges.pipe((0,M.O)(this.control.value),(0,K.x)()),g=this.control.valueChanges.pipe((0,I.U)(()=>this.control.disabled),(0,M.O)(this.control.disabled),(0,K.x)());this.viewModel$=(0,J.a)([this.adamConfig$,s,this.items$,d,g,r]).pipe((0,I.U)(([b,F,D,q,X,se])=>({adamConfig:b,expanded:F,items:D,value:q,disabled:X,allowPasteImageFromClipboard:se})))}ngOnDestroy(){this.adamConfig$.complete(),this.items$.complete(),super.ngOnDestroy()}addFolder(){if(this.control.disabled)return;const t=window.prompt("Please enter a folder name");t&&this.adamService.addFolder(t,this.url,this.adamConfig$.value).subscribe(n=>{this.fetchItems()})}del(t){this.control.disabled||!window.confirm("Are you sure you want to delete this item?")||this.adamService.deleteItem(t,this.url,this.adamConfig$.value).subscribe(a=>{this.fetchItems()})}editItemMetadata(t,n,a){!this.formsStateService.readOnly$.value.isReadOnly&&n&&this.editRoutingService.open(this.config.index,this.config.entityGuid,{items:[a>0?{EntityId:a}:{ContentTypeName:n,For:{Target:pt.Zy.metadata.cmsObject.target,TargetType:pt.Zy.metadata.cmsObject.targetType,String:t.ReferenceId}}]})}goUp(){let t=this.adamConfig$.value.subfolder;t=t.includes("/")?t.slice(0,t.lastIndexOf("/")):"",this.config.adam.setConfig({subfolder:t})}getImageConfigurationContentType(t){return this.fieldsSettingsService.getFieldSettings(this.config.fieldName).EnableImageConfiguration&&"image"===t.Type?pt.Zy.contentTypes.imageDecorator:null}getMetadataContentType(t){let n;return"folder"===t.Type?(n=this.adamConfig$.value.metadataContentTypes.match(/^(folder)(:)([^\n]*)/im),n?n[3]:null):(n=this.adamConfig$.value.metadataContentTypes.match(/^([^:\n]*)(\n|$)/im),n?n[1]:null)}goIntoFolder(t){let n=this.adamConfig$.value.subfolder;n=n?`${n}/${t.Name}`:t.Name,this.config.adam.setConfig({subfolder:n})}openUploadClick(t){this.openUpload.emit()}rename(t){if(this.control.disabled)return;const n=window.prompt("Rename the file / folder to: ",t.Name);n&&this.adamService.rename(t,n,this.url,this.adamConfig$.value).subscribe(a=>{this.fetchItems()})}select(t){this.control.disabled||!this.adamConfig$.value.enableSelect||this.config.adam.onItemClick(t)}fetchItems(){const t=this.adamConfig$.value;if(null!=t&&t.autoLoad){if(this.firstFetch){this.firstFetch=!1;const n=this.adamCacheService.getAdamSnapshot(this.config.entityGuid,this.config.fieldName);if(n){const a=n.map(r=>({...r}));return void setTimeout(()=>{this.processFetchedItems(a,t)})}}this.adamService.getAll(this.url,t).subscribe(n=>{this.processFetchedItems(n,t)})}}openFeatureInfoDialog(){this.isPasteImageFromClipboardEnabled$.value||An.B.openDialog(this.dialog,lt.C.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)}processFetchedItems(t,n){this.linkCacheService.loadAdam(t);const a=[],r=this.getExtensionsFilter(n.fileFilter);for(const s of t)if("."!==s.Name){if("2sxc"!==s.Name&&"adam"!==s.Name&&(s.IsFolder||!n.showImagesOnly||"image"===s.Type)&&(!s.IsFolder||!n.maxDepthReached)){if(r.length>0){const d=s.Name.substring(s.Name.lastIndexOf(".")+1).toLocaleLowerCase();if(!r.includes(d))continue}s._imageConfigurationContentType=this.getImageConfigurationContentType(s),s._imageConfigurationId=s.Metadata?.find(d=>d.Type.Name===s._imageConfigurationContentType)?.Id??0,s._metadataContentType=this.getMetadataContentType(s),s._metadataId=s.Metadata?.find(d=>d.Type.Name===s._metadataContentType)?.Id??0,s._icon=oe.Bu.getIconClass(s.Name),s._isMaterialIcon=oe.Bu.isKnownType(s.Name),s._displaySize=(s.Size/1024).toFixed(0),a.push(s)}}else{const d=s.AllowEdit;d!==n.allowEdit&&this.config.adam.setConfig({allowEdit:d})}a.sort((s,d)=>s.Name.toLocaleLowerCase().localeCompare(d.Name.toLocaleLowerCase())),a.sort((s,d)=>d.IsFolder.toString().localeCompare(s.IsFolder.toString())),this.items$.next(a)}toggle(t,n){const a={...this.adamConfig$.value,usePortalRoot:t,showImagesOnly:n};JSON.stringify(a)===JSON.stringify(this.adamConfig$.value)?a.autoLoad=!a.autoLoad:a.autoLoad||(a.autoLoad=!0),this.config.adam.setConfig(a)}trackByFn(t,n){return n.Id}setConfig(t){const n=this.config.isExternal,a=null!=this.adamConfig$.value?this.adamConfig$.value:new lr(n),r=new lr(n);for(const le of Object.keys(r))r[le]=t[le]??a[le];if(a.usePortalRoot!==r.usePortalRoot&&(r.subfolder=""),r.usePortalRoot&&(r.rootSubfolder.includes("\\")&&(r.rootSubfolder=r.rootSubfolder.replace(/\\/g,"/")),r.rootSubfolder.startsWith("/")&&(r.rootSubfolder=r.rootSubfolder.replace("/","")),!r.subfolder.startsWith(r.rootSubfolder)&&(r.subfolder=r.rootSubfolder),r.maxDepthReached=!1),!r.usePortalRoot)if((r.subfolder?r.subfolder.split("/").length:0)>=r.folderDepth){let xe=r.subfolder.split("/");xe=xe.slice(0,r.folderDepth),r.subfolder=xe.join("/"),r.maxDepthReached=!0}else r.maxDepthReached=!1;this.adamConfig$.next(r);const d=this.config.dropzone.getConfig(),g={},b=oe.iN.getUrlParams(d.url);if((b.subfolder||"")!==r.subfolder||b.usePortalRoot!==r.usePortalRoot.toString()){let le=d.url;le=oe.iN.replaceUrlParam(le,"subfolder",r.subfolder),le=oe.iN.replaceUrlParam(le,"usePortalRoot",r.usePortalRoot.toString()),g.url=le}const X=!r.allowEdit||(""===r.subfolder||r.usePortalRoot&&r.subfolder===r.rootSubfolder)&&!r.allowAssetsInRoot;d.disabled!==X&&(g.disabled=X),Object.keys(g).length>0&&this.config.dropzone.setConfig(g)}getExtensionsFilter(t){return t?t.split(",").map(a=>((a=a.trim()).startsWith("*.")?a=a.replace("*.",""):a.startsWith("*")&&(a=a.replace("*","")),a.toLocaleLowerCase())):[]}refreshOnChildClosed(){this.subscription.add(this.editRoutingService.childFormClosed().subscribe(()=>{this.fetchItems()}))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C._q),e.Y36(wt.k),e.Y36(dr._y),e.Y36(C.nz),e.Y36(e.R0b),e.Y36(ne.ap),e.Y36(ne.f3),e.Y36(C.i3),e.Y36(C.GQ),e.Y36($e.uw),e.Y36(e.s_b),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["adam-browser"]],inputs:{config:"config",group:"group"},outputs:{openUpload:"openUpload"},features:[e.qOj],decls:2,vars:3,consts:[["class","dropzone"],[1,"dropzone"],[3,"ngClass"],["class","dz-preview dropzone-adam",3,"tippy"],["appPasteClipboardImage","","class","dz-preview dropzone-adam paste-image",3,"config","elementType","tippy"],["class","dz-preview",3,"tippy"],[1,"dz-preview","dropzone-adam",3,"tippy","click"],[1,"dz-image","adam-browse-background-icon","adam-browse-background"],[1,"adam-upload-label"],["svgIcon","apple-outlined"],["appPasteClipboardImage","",1,"dz-preview","dropzone-adam","paste-image",3,"config","elementType","tippy","click"],["pasteDiv",""],["matBadgeSize","large","matBadge","\u{1f48e}","matBadgePosition","below after","matBadgeOverlap","true","aria-hidden","false",1,"adam-filter-mat-icon-with-grey-mat-badge",3,"matBadgeHidden"],["class","adam-upload-label"],[1,"dz-preview",3,"tippy","click"],["svgIcon","folder-plus"],[1,"adam-short-label"],[1,"dz-details",2,"opacity","1"],["svgIcon","folder"],[1,"adam-background","adam-browse-background-icon"],[1,"adam-back-folder-arrow"],["class","dz-preview"],["class","dz-preview",3,"ngClass"],[1,"dz-preview",3,"click"],[1,"dz-image","adam-blur","adam-browse-background-icon","adam-browse-background"],[1,"short-label"],["appClickStopPropagation","","class","adam-delete-button",3,"tippy","ngClass"],["appClickStopPropagation","","class","adam-rename-button",3,"tippy","ngClass"],[1,"adam-full-name-area"],[1,"adam-full-name",3,"title"],["class","adam-tag","appClickStopPropagation","",3,"ngClass","tippy"],["appClickStopPropagation","",1,"adam-delete-button",3,"tippy","ngClass","click"],["appClickStopPropagation","",1,"adam-rename-button",3,"tippy","ngClass","click"],["appClickStopPropagation","",1,"adam-tag",3,"ngClass","tippy","click"],[1,"dz-preview",3,"ngClass","click"],["class","dz-image adam-blur adam-browse-background-icon adam-browse-background"],["class","dz-image adam-browse-background-image"],["appClickStopPropagation","",1,"dz-filename","adam-short-label",3,"title"],["target","_blank","appClickStopPropagation","",1,"adam-link-button",3,"href"],[3,"tippy"],["class","image-configuration-button","appClickStopPropagation","",3,"ngClass","tippy"],[1,"dz-success-mark"],["width","54px","height","54px","viewBox","0 0 54 54","version","1.1","xmlns","https://www.w3.org/2000/svg",0,"xmlns","xlink","https://www.w3.org/1999/xlink",0,"xmlns","sketch","https://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z","id","Oval-2","stroke-opacity","0.198794158","stroke","#747474","fill-opacity","0.816519475","fill","#FFFFFF",0,"sketch","type","MSShapeGroup"],[1,"dz-image","adam-browse-background-image"],["vm-dz-thumbnail","",3,"alt","src"],["appClickStopPropagation","",1,"image-configuration-button",3,"ngClass","tippy","click"]],template:function(n,a){if(1&n&&(e.YNc(0,xh,2,2,"div",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[En.E,He.$,A.mk,k.Hw,Wa.k,Fe.oO,Li,A.Ov,ge.X$],styles:['.adam-browse-background-icon[_ngcontent-%COMP%]{padding:20px 5px 10px;min-width:100%;min-height:100%;text-align:center}.adam-browse-background-icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.adam-browse-background-image[_ngcontent-%COMP%]{display:flex!important;justify-content:center;align-items:center}.adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.adam-background[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;line-height:150%;cursor:pointer}.adam-background[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}.adam-tag[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:-15px;top:50px;font-size:34px;width:34px;height:34px;z-index:30}.adam-back-folder-arrow[_ngcontent-%COMP%]{font-size:35px!important;top:13px;position:relative;-webkit-user-select:none;user-select:none;cursor:default}.adam-link-button[_ngcontent-%COMP%]{position:absolute;left:4px;top:4px;font-size:24px;width:24px;height:24px;color:#000000e6}.image-configuration-button[_ngcontent-%COMP%]{position:absolute;left:30px;top:4px;font-size:24px;width:24px;height:24px;color:#000000e6;cursor:pointer}.adam-delete-button[_ngcontent-%COMP%], .adam-rename-button[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;cursor:pointer;font-size:24px;width:24px;height:24px}.adam-delete-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .adam-rename-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .image-configuration-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled):not(.metadata-exists), .adam-link-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled){color:#002753}.image-configuration-button.metadata-exists[_ngcontent-%COMP%], .adam-tag.metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.adam-button-disabled[_ngcontent-%COMP%]{color:#1d273d3d;cursor:default}.adam-rename-button[_ngcontent-%COMP%]{right:26px;font-size:22px;width:22px;height:22px}.dz-details[_ngcontent-%COMP%]{bottom:0;cursor:pointer}.dz-image[_ngcontent-%COMP%]{cursor:pointer}.disable-select[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%], .disable-select[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{cursor:default}.disable-select[_ngcontent-%COMP%]   .adam-full-name[_ngcontent-%COMP%]{cursor:text}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .adam-blur[_ngcontent-%COMP%]{transform:scale(1.05);filter:blur(8px)}.adam-short-label[_ngcontent-%COMP%]{cursor:text;display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:19px;width:19px;height:19px}.adam-full-name[_ngcontent-%COMP%]{background-color:#fffc;border-radius:3px;word-break:break-all;width:80%;max-height:3em;position:absolute;top:48%;left:50%;transform:translate(-50%,-50%);overflow-x:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.adam-full-name[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.adam-full-name-area[_ngcontent-%COMP%]{height:60px;display:block}.adam-browse-background[_ngcontent-%COMP%]{background-color:#f5f5f5}.mce-ico[class^=icon-][_ngcontent-%COMP%]:before, .mce-ico[class*=" icon-"][_ngcontent-%COMP%]:before{margin-left:0}.dropzone[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;outline-color:#0069bf}.eav-dragging[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%], .dropzone.dz-drag-hover[_ngcontent-%COMP%]{min-height:0;outline:2px dashed #0069BF;background:white;padding:0;border-radius:5px;transition:outline-color .5s}.dropzone.dz-clickable[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-clickable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%], .dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-started[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{display:none}.dropzone.dz-drag-hover[_ngcontent-%COMP%]{outline-color:#0087f7}.dropzone.dz-drag-hover[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{opacity:.5}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:top;margin:5px;min-height:100px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover{z-index:1000}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;background:#999;background:linear-gradient(to bottom,#eee,#ddd)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]{background:white}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{transition:opacity .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]{font-size:14px;text-align:center;display:block;cursor:pointer;border:none}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]:hover{text-decoration:underline}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;opacity:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;color:#000000e6;line-height:150%}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]{margin-bottom:1em;font-size:16px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]{white-space:nowrap}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{border:1px solid rgba(200,200,200,.8);background-color:#fffc}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover)   span[_ngcontent-%COMP%]{border:1px solid transparent}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff6;padding:0 .4em;border-radius:3px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05);filter:blur(8px)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden;width:120px;height:120px;position:relative;display:block;z-index:10}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-success[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]{animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{opacity:1;animation:slide-in 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{pointer-events:none;opacity:0;z-index:500;position:absolute;display:block;top:50%;left:50%;margin-left:-27px;margin-top:-27px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:54px;height:54px}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-processing[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;transition:all .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-complete[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:0;transition:opacity .4s ease-in}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:not(.dz-processing)   .dz-progress[_ngcontent-%COMP%]{animation:pulse 6s ease infinite}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;z-index:1000;pointer-events:none;position:absolute;height:16px;left:50%;top:50%;margin-top:-8px;width:80px;margin-left:-40px;background:rgba(255,255,255,.9);-webkit-transform:scale(1);border-radius:8px;overflow:hidden}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]   .dz-upload[_ngcontent-%COMP%]{background:#333;background:linear-gradient(to bottom,#666,#444);position:absolute;top:0;left:0;bottom:0;width:0;transition:width .3s ease-in-out}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]:hover   .dz-error-message[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{pointer-events:none;z-index:1000;position:absolute;display:block;display:none;opacity:0;transition:opacity .3s ease;border-radius:8px;font-size:13px;top:130px;left:-10px;width:140px;background:#be2626;background:linear-gradient(to bottom,#be2626,#a92222);padding:.5em 1.2em;color:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-6px;left:64px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #be2626}[_nghost-%COMP%]     .adam-filter-mat-icon-with-grey-mat-badge .mat-badge-content{background:rgba(255,255,255,0)!important}'],data:{animation:[(0,z.X$)("adamShowAnimate",[(0,z.SB)("closed",(0,z.oB)({height:"0",overflow:"hidden"})),(0,z.SB)("open",(0,z.oB)({height:"*",overflow:"hidden"})),(0,z.eR)("closed => open",[(0,z.jt)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])])]}})}return i})();function bh(i,o){1&i&&(e._uU(0," \xa0 "),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," \xa0 "),e.TgZ(5,"a",6),e._uU(6,"2sic.com"),e.qZA()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Fields.Hyperlink.AdamFileManager.SponsorLine")))}function Dh(i,o){1&i&&(e.TgZ(0,"div",1)(1,"div",2),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",3)(5,"a",4),e.ALo(6,"translate"),e._UZ(7,"mat-icon",5),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.YNc(11,bh,7,3),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"Fields.Hyperlink.AdamFileManager.Hint")),e.xp6(3),e.Q6J("tippy",e.lcZ(6,6,"Fields.Hyperlink.AdamFileManager.HelpTooltip")),e.xp6(4),e.Oqu(e.lcZ(10,8,"Fields.Hyperlink.AdamFileManager.Name")),e.xp6(2),e.um2(11,o.showAdamSponsor?11:-1))}let wh=(()=>{class i{constructor(t){this.featuresService=t}ngOnInit(){const t=this.featuresService.isEnabled$(lt.C.NoSponsoredByToSic).pipe((0,I.U)(n=>!n),(0,K.x)());this.viewModel$=(0,J.a)([t]).pipe((0,I.U)(([n])=>({showAdamSponsor:n})))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(wt.k))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["adam-hint"]],decls:3,vars:3,consts:[["class","hint-box u-border-radius-bottom mat-caption u-shadow-top"],[1,"hint-box","u-border-radius-bottom","mat-caption","u-shadow-top"],[1,"hint-box__hint"],[1,"hint-box__sponsor"],["href","https://2sxc.org/help?tag=adam","target","_blank","tabindex","-1",1,"adam-link",3,"tippy"],["svgIcon","apple-outlined"],["href","https://www.2sic.com","target","_blank","tabindex","-1"]],template:function(n,a){if(1&n&&(e._UZ(0,"mat-divider"),e.YNc(1,Dh,12,10,"div",0),e.ALo(2,"async")),2&n){let r;e.xp6(1),e.um2(1,(r=e.lcZ(2,1,a.viewModel$))?1:-1,r)}},dependencies:[He.$,k.Hw,uo.d,A.Ov,ge.X$],styles:[".hint-box[_ngcontent-%COMP%]{padding:2px 24px;background-color:#fff;color:#1d273d70;display:flex}.hint-box__hint[_ngcontent-%COMP%]{flex:1 1 auto}.hint-box__sponsor[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.adam-link[_ngcontent-%COMP%]{display:flex;align-items:center}.adam-link[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;line-height:14px}"]})}return i})();const Mh=["fieldComponent"],Ah=["invisibleClickable"],kh=(i,o)=>({"adam-browser-container--short u-hide-scrollbar":i,"u-display-none":o}),ur=i=>({"u-display-none":i});let Sh=(()=>{class i extends Ve{constructor(t,n){super(t,n),this.adamDisabled$=new me.X(!0)}ngOnInit(){super.ngOnInit(),this.fullscreenAdam=this.config.inputType===_e.v.HyperlinkLibrary}ngAfterViewInit(){this.subscription.add(this.config.adam.getConfig$().subscribe(t=>{const n=t?.disabled??!0;this.adamDisabled$.value!==n&&this.adamDisabled$.next(n)}))}ngOnDestroy(){this.adamDisabled$.complete(),super.ngOnDestroy()}openUpload(){this.invisibleClickableRef.nativeElement.click()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-adam-wrapper"]],viewQuery:function(n,a){if(1&n&&(e.Gf(Mh,7,e.s_b),e.Gf(Ah,5)),2&n){let r;e.iGM(r=e.CRH())&&(a.fieldComponent=r.first),e.iGM(r=e.CRH())&&(a.invisibleClickableRef=r.first)}},features:[e.qOj],decls:13,vars:21,consts:[[1,"adam-dialog-container"],[1,"adam-dialog-content"],["fieldComponent",""],[1,"u-shadow-top",3,"config","group","ngClass","openUpload"],[3,"ngClass"],[1,"dropzone-previews"],["data-note","just a fake, invisible area for dropzone",1,"invisible-clickable"],["invisibleClickable",""],[1,"field-hints",3,"ngClass"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.GkF(2,null,2),e.qZA(),e.TgZ(4,"adam-browser",3),e.NdJ("openUpload",function(){return a.openUpload()}),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"div",4),e.ALo(7,"async"),e._UZ(8,"div",5)(9,"span",6,7),e.qZA(),e._UZ(11,"adam-hint",8),e.ALo(12,"async"),e.qZA()),2&n&&(e.xp6(4),e.Q6J("config",a.config)("group",a.group)("ngClass",e.WLB(14,kh,!a.fullscreenAdam,e.lcZ(5,8,a.adamDisabled$))),e.xp6(2),e.Tol(a.config.dropzonePreviewsClass),e.Q6J("ngClass",e.VKq(17,ur,e.lcZ(7,10,a.adamDisabled$))),e.xp6(5),e.Q6J("ngClass",e.VKq(19,ur,e.lcZ(12,12,a.adamDisabled$))))},dependencies:[A.mk,Fe.oO,Ch,wh,A.Ov],styles:['.adam-browser-container--short[_ngcontent-%COMP%]{flex-shrink:0;max-height:45%;overflow-y:scroll}.dropzone-previews[_ngcontent-%COMP%]{display:flex;overflow-x:auto;overflow-y:hidden;box-shadow:0 2px #ccc inset}.dropzone-previews[_ngcontent-%COMP%]     .dz-preview{padding:5px}.dropzone-previews[_ngcontent-%COMP%]     .dz-details, .dropzone-previews[_ngcontent-%COMP%]     .dz-progress, .dropzone-previews[_ngcontent-%COMP%]     .dz-error-message, .dropzone-previews[_ngcontent-%COMP%]     .dz-success-mark, .dropzone-previews[_ngcontent-%COMP%]     .dz-error-mark{display:none}@keyframes _ngcontent-%COMP%_spinner{to{transform:rotate(360deg)}}.dropzone-previews[_ngcontent-%COMP%]     .dz-image{position:relative}.dropzone-previews[_ngcontent-%COMP%]     .dz-image:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:32px;height:32px;margin-top:-16px;margin-left:-16px;border-radius:50%;border:4px solid #0087f4;border-top-color:transparent;animation:_ngcontent-%COMP%_spinner .6s linear infinite}']})}return i})();class pr extends Se.M{constructor(){super(...arguments),this.name=_e.v.EmptyDefault}update(o){const t={...o};return t.Visible??=!0,t.Collapsed??=!1,t.Notes??="",t}}Se.M.add(pr);const Th=["fieldComponent"];function Fh(i,o){1&i&&(e.TgZ(0,"div",12),e._UZ(1,"div",13),e.ALo(2,"safeHtml"),e.qZA()),2&i&&(e.xp6(1),e.Q6J("innerHtml",e.lcZ(2,1,o),e.oJD))}const Eh=i=>({"force-hide":i});let Oh=(()=>{class i extends _t.f{constructor(t,n,a){super(),this.fieldsSettingsService=t,this.languageInstanceService=n,this.eavService=a,this.controlConfig={},pr.importMe()}ngOnInit(){this.collapsed$=new me.X(!1),this.settings$=new me.X(null),this.subscription.add(this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).subscribe(t=>{this.settings$.next(t)})),this.visible$=this.settings$.pipe((0,I.U)(t=>Di.Z.mergedVisible(t)),(0,K.x)()),this.label$=this.settings$.pipe((0,I.U)(t=>t.Name),(0,K.x)()),this.notes$=this.settings$.pipe((0,I.U)(t=>t.Notes),(0,K.x)()),this.subscription.add(this.settings$.pipe((0,I.U)(t=>t.Collapsed),(0,K.x)()).subscribe(t=>{this.collapsed$.next(t)})),this.subscription.add(this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId).subscribe(()=>{const t=this.fieldsSettingsService.getFieldSettings(this.config.fieldName);this.collapsed$.next(t.Collapsed)}))}ngOnDestroy(){this.settings$.complete(),this.collapsed$.complete(),super.ngOnDestroy()}toggleCollapse(){this.collapsed$.next(!this.collapsed$.value)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.GQ),e.Y36(ne._K),e.Y36(C.WV))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-collapsible-wrapper"]],viewQuery:function(n,a){if(1&n&&e.Gf(Th,7,e.s_b),2&n){let r;e.iGM(r=e.CRH())&&(a.fieldComponent=r.first)}},inputs:{config:"config",group:"group"},features:[e.qOj],decls:20,vars:18,consts:[["appearance","raised",1,"eav-card-group-child","shadow-bottom-z-1",3,"ngClass"],["fxLayout","row","fxLayoutAlign","start center",1,"eav-card-header-group-child"],["fxFlex","auto","fxLayoutAlign","start center",3,"click"],["fxLayoutAlign","start center",1,"eav-card-title-group","mat-body-2"],[1,"title-arrow"],[1,"title"],[1,"eav-card-content-group-child"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["class","eav-layout-grid__cell--span-12 mat-body-2","allign","start"],[1,"eav-layout-grid__cell--span-12"],["fieldComponent",""],["allign","start",1,"eav-layout-grid__cell--span-12","mat-body-2"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(n,a){if(1&n&&(e.TgZ(0,"mat-card",0),e.ALo(1,"async"),e.TgZ(2,"div",1)(3,"div",2),e.NdJ("click",function(){return a.toggleCollapse()}),e.TgZ(4,"div",3)(5,"mat-icon",4),e._uU(6),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"span",5),e._uU(9),e.ALo(10,"async"),e.qZA()()()(),e.TgZ(11,"mat-card-content",6),e.ALo(12,"async"),e.TgZ(13,"div",7)(14,"div",8),e.YNc(15,Fh,3,3,"div",9),e.ALo(16,"async"),e.TgZ(17,"div",10),e.GkF(18,null,11),e.qZA()()()()()),2&n){let r;e.Q6J("ngClass",e.VKq(16,Eh,!1===e.lcZ(1,6,a.visible$))),e.xp6(6),e.hij("",e.lcZ(7,8,a.collapsed$)?"keyboard_arrow_down":"keyboard_arrow_up"," "),e.xp6(3),e.hij(" ",e.lcZ(10,10,a.label$)||a.config.fieldName," "),e.xp6(2),e.Udp("display",e.lcZ(12,12,a.collapsed$)?"none":"block"),e.xp6(4),e.um2(15,(r=e.lcZ(16,14,a.notes$))?15:-1,r)}},dependencies:[A.mk,Ie.a8,Ie.dn,k.Hw,mt,it,fn,Fe.oO,mi,Ht.z,A.Ov],styles:[".eav-card-content-group-child[_ngcontent-%COMP%]{padding:0}.eav-card-group-child[_ngcontent-%COMP%]{padding:0;margin:0 0 8px;border-radius:8px}.eav-card-header-group-child[_ngcontent-%COMP%]{padding:20px 32px;border-radius:8px}.eav-card-header-group-child[_ngcontent-%COMP%]   .title-arrow[_ngcontent-%COMP%]{margin-right:6px}.eav-card-header-group-child[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-mdc-card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px;margin-top:-14px;margin-bottom:14px}.eav-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#002753}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}"]})}return i})();class gr{constructor(o,t,n){this.acceptedFiles=null,this.maxFiles=1e3,this.parallelUploads=1e3,this.autoReset=null,this.errorReset=null,this.cancelReset=null,this.maxFilesize=2e4,this.timeout=18e5,this.paramName="uploadfile",this.maxThumbnailFilesize=10,this.dictDefaultMessage="",this.addRemoveLinks=!1,this.previewsContainer=".dropzone-previews",this.clickable=".dropzone-previews",this.disabled=o,this.url=t,this.headers=n}}const Lh=["fieldComponent"],Ih=i=>({"dropzone-disabled":i});let Yh=(()=>{class i extends Ve{constructor(t,n,a,r){super(t,n),this.dnnContext=a,this.zone=r,this.dropzoneConfig$=new me.X(null),this.imageTypes=["image/jpeg","image/png"],this.isStringWysiwyg=!1}ngOnInit(){super.ngOnInit(),this.dropzoneDisabled$=(0,J.a)([this.controlStatus$.pipe((0,I.U)(t=>t.disabled),(0,K.x)()),this.dropzoneConfig$]).pipe((0,I.U)(([t,n])=>t||null==n||n.disabled)),this.config.dropzone={setConfig:t=>{this.zone.run(()=>{this.setConfig(t)})},getConfig:()=>this.dropzoneConfig$.value,getConfig$:()=>this.dropzoneConfig$.asObservable(),uploadFile:t=>{this.zone.run(()=>{this.uploadFile(t)})}},this.config.dropzone.setConfig({})}ngAfterViewInit(){setTimeout(()=>{this.config.dropzone.setConfig({previewsContainer:`.${this.config.dropzonePreviewsClass} .dropzone-previews`,clickable:`.${this.config.dropzonePreviewsClass} .invisible-clickable`})})}ngOnDestroy(){this.dropzoneConfig$.complete(),super.ngOnDestroy()}onDrop(t){this.isStringWysiwyg=!!this.isParentWysiwyg(t.toElement)}onAddedFile(t){this.isStringWysiwyg&&this.imageTypes.some(n=>n===t.type)&&this.dropzoneRef.dropzone().removeFile(t)}onUploadError(t){(0,ft.P)("Dropzone upload error. Event:",t),alert(`Dropzone upload error. Event ${t}`),this.dropzoneRef.reset()}onUploadSuccess(t){const n=t[1];n.Error?((0,ft.P)(`Upload failed because: ${n.Error}`),alert(`Upload failed because: ${n.Error}`)):this.config.adam?(this.config.adam.onItemUpload(n),this.config.adam.refresh()):(0,ft.P)("Upload failed because: ADAM reference doesn't exist"),this.dropzoneRef.reset()}setConfig(t){const d=this.config.isExternal,g=this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${this.config.contentTypeId}/${this.config.entityGuid}/${this.config.fieldName}?subfolder=&usePortalRoot=false&appId=${this.eavService.eavConfig.appId}`),b=this.dnnContext.sxc.webApi.headers(),F=null!=this.dropzoneConfig$.value?this.dropzoneConfig$.value:new gr(d,g,b),D=new gr(d,g,b);for(const se of Object.keys(D))D[se]=t[se]??F[se];if(D.maxFiles!==D.parallelUploads){const se=D.maxFiles>=D.parallelUploads?D.maxFiles:D.parallelUploads;D.maxFiles=se,D.parallelUploads=se}(null==D.acceptedFiles||""===D.acceptedFiles)&&delete D.acceptedFiles,this.dropzoneConfig$.next(D)}uploadFile(t){const n=this.dropzoneRef.dropzone();t.upload={chunked:n.defaultOptions.chunking},n.processFile(t)}isParentWysiwyg(t){do{if(null==t)return!1;if(t?.classList.contains("class-distinguish-from-adam-dropzone"))return!0;t=t.parentElement}while(!t?.classList.contains("class-distinguish-from-adam-dropzone")||t.parentElement!=document.body);return!1}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(dr._y),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-dropzone-wrapper"]],viewQuery:function(n,a){if(1&n&&(e.Gf(Lh,7,e.s_b),e.Gf(xo,5)),2&n){let r;e.iGM(r=e.CRH())&&(a.fieldComponent=r.first),e.iGM(r=e.CRH())&&(a.dropzoneRef=r.first)}},features:[e.qOj],decls:6,vars:11,consts:[[1,"dropzone","dropzone-container",3,"ngClass","dropzone","disabled","error","success","addedFile","drop"],["fieldComponent",""]],template:function(n,a){1&n&&(e.TgZ(0,"div",0),e.NdJ("error",function(s){return a.onUploadError(s)})("success",function(s){return a.onUploadSuccess(s)})("addedFile",function(s){return a.onAddedFile(s)})("drop",function(s){return a.onDrop(s)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.GkF(4,null,1),e.qZA()),2&n&&e.Q6J("ngClass",e.VKq(9,Ih,e.lcZ(1,3,a.dropzoneDisabled$)))("dropzone",e.lcZ(2,5,a.dropzoneConfig$))("disabled",e.lcZ(3,7,a.dropzoneDisabled$))},dependencies:[A.mk,xo,Fe.oO,A.Ov],styles:[".dropzone-container[_ngcontent-%COMP%]{height:100%;position:relative}"]})}return i})();var Yn=p(5584);const Pn=[(0,z.X$)("itemShrinkAnimation",[(0,z.SB)("open",(0,z.oB)({height:"30vh"})),(0,z.SB)("closed",(0,z.oB)({height:"0vh"})),(0,z.eR)("open => closed",[(0,z.jt)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])]),(0,z.X$)("contentExpandAnimation",[(0,z.SB)("closed",(0,z.oB)({height:"0"})),(0,z.SB)("expanded",(0,z.oB)({height:"calc(100vh - {{bottomPixels}})",maxHeight:"calc(100vh - {{bottomPixels}})"}),{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}}),(0,z.eR)("closed => expanded",[(0,z.jt)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,z.F4)([(0,z.oB)({height:"0vh",overflow:"hidden"}),(0,z.oB)({height:"calc(100vh - {{bottomPixels}})",overflow:"hidden"})]))],{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}})])];let qt=(()=>{class i{constructor(t){this.elementRef=t,this.disabled=!1}ngOnChanges(t){null!=t.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","extended-fab-speed-dial-action",""]],inputs:{disabled:"disabled"},features:[e.TTD]})}return i})(),Jt=(()=>{class i{constructor(t){this.templateRef=t}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","extendedFabSpeedDialActionsContent",""]]})}return i})(),jt=(()=>{class i{constructor(t){this.templateRef=t}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","extendedFabSpeedDialTriggerContent",""]]})}return i})(),ln=(()=>{class i extends _t.f{constructor(){super(),this.disabled=!1,this.open$=new me.X(!1)}ngAfterContentInit(){this.subscription.add((0,J.a)([this.open$.pipe((0,K.x)()),this.actionButtons.changes.pipe((0,M.O)(void 0))]).subscribe(([t])=>{this.actionButtons.forEach((n,a,r)=>{const d=Math.min(.3+.05*(r.length-1),.6),g=(d-.3)/(r.length-1),b=(t?.3+g*a:d-g*a)+"s";n.nativeElement.style.transitionDuration!==b&&(n.nativeElement.style.transitionDuration=b)})}))}ngOnDestroy(){this.open$.complete(),super.ngOnDestroy()}setOpen(t,n){"touch"!==t.pointerType&&this.open$.next(n)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["extended-fab-speed-dial"]],contentQueries:function(n,a,r){if(1&n&&(e.Suo(r,jt,5),e.Suo(r,Jt,5),e.Suo(r,qt,4,e.SBq)),2&n){let s;e.iGM(s=e.CRH())&&(a.trigger=s.first),e.iGM(s=e.CRH())&&(a.actions=s.first),e.iGM(s=e.CRH())&&(a.actionButtons=s)}},inputs:{disabled:"disabled"},features:[e.qOj],decls:5,vars:3,consts:[[1,"extended-fab-speed-dial",3,"pointerenter","pointerleave"],[1,"extended-fab-speed-dial-trigger"],[3,"ngTemplateOutlet"],[1,"extended-fab-speed-dial-actions"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0),e.NdJ("pointerenter",function(s){return a.setOpen(s,!0)})("pointerleave",function(s){return a.setOpen(s,!1)}),e.TgZ(1,"div",1),e.GkF(2,2),e.qZA(),e.TgZ(3,"div",3),e.GkF(4,2),e.qZA()()),2&n&&(e.uIk("disabled",a.disabled||null),e.xp6(2),e.Q6J("ngTemplateOutlet",null==a.trigger?null:a.trigger.templateRef),e.xp6(2),e.Q6J("ngTemplateOutlet",null==a.actions?null:a.actions.templateRef))},dependencies:[A.tP],styles:['extended-fab-speed-dial{display:block}.extended-fab-speed-dial .extended-fab-speed-dial-trigger{position:absolute;bottom:0;right:0}.extended-fab-speed-dial .extended-fab-speed-dial-actions{display:flex;flex-direction:column-reverse;align-items:flex-end;position:absolute;bottom:44px;right:0;pointer-events:none}.extended-fab-speed-dial .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:0;transition:opacity .3s ease-in-out;margin-bottom:8px}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions{pointer-events:all}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:1}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger],.extended-fab-speed-dial button[extended-fab-speed-dial-action]{display:flex;align-items:center;justify-content:center;min-width:48px;height:44px;border:none;border-radius:16px 0;padding-left:14px;padding-right:14px;color:#fff;font-size:12px;white-space:nowrap;background:#002753;cursor:pointer;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;box-sizing:border-box}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>mat-icon,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>mat-icon{font-size:20px;width:20px;height:20px;line-height:20px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span{display:inline-block;white-space:nowrap;overflow:hidden;max-width:0;transition:max-width .3s ease-in-out}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:after,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:after{content:"";width:8px;display:inline-block}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-action][disabled]{cursor:default;color:#00000042;background-color:#1d273d1f}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover:not([disabled])>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover:not([disabled])>span{max-width:256px}\n'],encapsulation:2})}return i})(),dn=(()=>{class i{constructor(t){this.elementRef=t,this.disabled=!1}ngOnChanges(t){null!=t.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","extended-fab-speed-dial-trigger",""]],inputs:{disabled:"disabled"},features:[e.TTD]})}return i})();const Rh=["fieldComponent"],Nh=["previewContainer"],Zh=["backdrop"],$h=["dialog"];function zh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeDialog())}),e.TgZ(1,"mat-icon"),e._uU(2,"done"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"Form.Buttons.Return.Tip")))}function Vh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveAll(!1))}),e.ALo(1,"async"),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-icon"),e._uU(6,"save"),e.qZA()(),e.TgZ(7,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveAll(!0))}),e.ALo(8,"async"),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"mat-icon"),e._uU(13,"done_all"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("disabled",e.lcZ(1,4,t.saveButtonDisabled$)),e.xp6(3),e.Oqu(e.lcZ(4,6,"Form.Buttons.Save")),e.xp6(4),e.Q6J("disabled",e.lcZ(8,8,t.saveButtonDisabled$)),e.xp6(3),e.Oqu(e.lcZ(11,10,"Form.Buttons.SaveAndClose"))}}const Gh=(i,o,t,n,a,r)=>({"mat-caption":i,"mat-empty":o,"mat-error":t,color__primary:n,"color__label-disabled":a,"c-ew__preview-label--focused":r}),Hh=(i,o,t)=>({"c-ew__preview--invalid":i,"c-ew__preview--disabled":o,"c-ew__preview--focused":t}),Uh=i=>({"c-ew__preview-content--disabled":i}),Bh=(i,o)=>({"min-height":i,"max-height":o});function qh(i,o){if(1&i&&(e.TgZ(0,"div",15)(1,"mat-label",16),e._uU(2),e.qZA(),e.TgZ(3,"div",17)(4,"div",18),e._UZ(5,"div",19,20),e.qZA()(),e._UZ(7,"app-field-helper-text",21),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.HTZ(8,Gh,o.controlStatus.value,!o.controlStatus.value,o.controlStatus.invalid&&(o.controlStatus.touched||o.controlStatus.dirty)&&!o.controlStatus.disabled,!(o.controlStatus.invalid&&o.controlStatus.touched||o.controlStatus.disabled),o.controlStatus.disabled,o.focused)),e.xp6(1),e.AsE(" ",o.label," ",o.required?"*":""," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(15,Hh,o.controlStatus.invalid&&(o.controlStatus.touched||o.controlStatus.dirty),o.controlStatus.disabled,o.focused)),e.xp6(2),e.Q6J("ngClass",e.VKq(19,Uh,o.controlStatus.disabled))("ngStyle",e.WLB(21,Bh,o.previewHeight.minHeight,o.previewHeight.maxHeight)),e.xp6(2),e.Q6J("config",t.config)("group",t.group)}}const Jh=i=>({"c-ew__dialog-header mat-elevation-z2":i}),jh=i=>({bottomPixels:i}),Qh=(i,o)=>({value:i,params:o}),Wh=i=>({adam:i});let Kh=(()=>{class i extends Ve{constructor(t,n,a,r,s,d,g,b,F,D,q,X,se,le,Oe){super(t,n),this.translateService=a,this.contentTypeService=r,this.inputTypeService=s,this.featuresService=d,this.editRoutingService=g,this.adamService=b,this.dialog=F,this.changeDetectorRef=D,this.viewContainerRef=q,this.entityCacheService=X,this.snackBar=se,this.zone=le,this.formsStateService=Oe,this.adamDisabled$=new me.X(!0),this.saveButtonDisabled$=this.formsStateService.saveButtonDisabled$.pipe((0,Yn.B)())}ngOnInit(){super.ngOnInit(),this.open$=this.editRoutingService.isExpanded$(this.config.index,this.config.entityGuid);const t=(0,J.a)([this.fieldsSettingsService.getFieldSettings$(this.config.fieldName),(0,hi.R)(window,"resize").pipe((0,I.U)(()=>{}),(0,M.O)(void 0))]).pipe((0,I.U)(([n])=>{const a={minHeight:"36px",maxHeight:"50vh"};if(this.config.inputType===_e.v.StringWysiwyg&&"inline"===n.Dialog){let r=parseInt(n.InlineInitialHeight,10);r<1&&(r=1);const s=function Ph(i){return i*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}(50);let d=40+36*r;d>s&&(d=s),a.minHeight=`${d}px`}return a}),(0,K.x)(oe.iX.objectsEqual));this.viewModel$=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([this.config.focused$,t])]).pipe((0,I.U)(([[n,a,r,s],[d,g]])=>({controlStatus:n,label:a,placeholder:r,required:s,focused:d,previewHeight:g})))}ngAfterViewInit(){this.subscription.add(this.config.adam.getConfig$().subscribe(n=>{const a=n?.disabled??!0;this.adamDisabled$.value!==a&&this.adamDisabled$.next(a)}));const t=`field-${this.config.inputType}`;(0,ft.P)("ExpandableWrapper created for:",t),this.connectorCreator=new Io(this.config,this.group,this.previewContainerRef,t,this.eavService,this.translateService,this.contentTypeService,this.inputTypeService,this.featuresService,this.editRoutingService,this.adamService,this.dialog,this.viewContainerRef,this.changeDetectorRef,this.fieldsSettingsService,this.entityCacheService,this.snackBar,this.zone),this.dropzoneDraggingHelper=new oe.sq(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement)}ngOnDestroy(){(0,ft.P)("ExpandableWrapper destroyed"),this.adamDisabled$.complete(),this.connectorCreator.destroy(),this.dropzoneDraggingHelper.detach(),super.ngOnDestroy()}expandDialog(){this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}closeDialog(){this.editRoutingService.expand(!1,this.config.index,this.config.entityGuid)}saveAll(t){this.formsStateService.saveForm$.next(t)}calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(ge.sK),e.Y36(ne.h1),e.Y36(ne.si),e.Y36(wt.k),e.Y36(C.nz),e.Y36(C._q),e.Y36($e.uw),e.Y36(e.sBO),e.Y36(e.s_b),e.Y36(ne.r6),e.Y36(yt.ux),e.Y36(e.R0b),e.Y36(C.i3))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-expandable-wrapper"]],viewQuery:function(n,a){if(1&n&&(e.Gf(Rh,7,e.s_b),e.Gf(Nh,5),e.Gf(Zh,5),e.Gf($h,5)),2&n){let r;e.iGM(r=e.CRH())&&(a.fieldComponent=r.first),e.iGM(r=e.CRH())&&(a.previewContainerRef=r.first),e.iGM(r=e.CRH())&&(a.backdropRef=r.first),e.iGM(r=e.CRH())&&(a.dialogRef=r.first)}},features:[e.qOj],decls:29,vars:33,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["backdrop",""],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["dialog",""],["appearance","raised","fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"tippy","click"],["fxLayoutAlign","center center",1,"title","mat-headline-4"],[1,"c-ew__dialog-content","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],["fieldComponent",""],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["class","c-ew__preview-holder"],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"disabled","click"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],[1,"c-ew__preview",3,"ngClass"],[1,"c-ew__preview-container"],[1,"c-ew__preview-content","u-hide-scrollbar",3,"ngClass","ngStyle"],["previewContainer",""],[3,"config","group"]],template:function(n,a){if(1&n&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.TgZ(2,"div",1,2),e.NdJ("click",function(){return a.closeDialog()}),e.qZA(),e.TgZ(4,"div",3,4)(6,"div",0),e.ALo(7,"async"),e.TgZ(8,"mat-card",5)(9,"button",6),e.NdJ("click",function(){return a.closeDialog()}),e.ALo(10,"translate"),e.TgZ(11,"mat-icon"),e._uU(12,"arrow_back"),e.qZA()(),e.TgZ(13,"span",7),e._uU(14),e.ALo(15,"async"),e.qZA()()(),e.TgZ(16,"div"),e._UZ(17,"div"),e.ALo(18,"async"),e.TgZ(19,"div",8),e.ALo(20,"async"),e.GkF(21,null,9),e.TgZ(23,"extended-fab-speed-dial",0),e.ALo(24,"async"),e.YNc(25,zh,6,3,"ng-template",10)(26,Vh,14,12,"ng-template",11),e.qZA()()()()(),e.YNc(27,qh,8,24,"div",12),e.ALo(28,"async")),2&n){let r;e.Q6J("ngClass",e.lcZ(1,8,a.open$)?"c-ew__container":"u-display-none"),e.xp6(6),e.Q6J("ngClass",e.VKq(24,Jh,e.lcZ(7,10,a.open$))),e.xp6(3),e.Q6J("tippy",e.lcZ(10,12,"Form.Buttons.Return.Tip")),e.xp6(5),e.Oqu(e.lcZ(15,14,a.label$)),e.xp6(3),e.Q6J("@itemShrinkAnimation",e.lcZ(18,16,a.open$)?"closed":"open"),e.xp6(2),e.Q6J("@contentExpandAnimation",e.WLB(28,Qh,e.lcZ(20,18,a.open$)?"expanded":"closed",e.VKq(26,jh,a.calculateBottomPixels()))),e.xp6(4),e.Q6J("ngClass",e.VKq(31,Wh,!e.lcZ(24,20,a.adamDisabled$))),e.xp6(4),e.um2(27,(r=e.lcZ(28,22,a.viewModel$))?27:-1,r)}},dependencies:[He.$,A.mk,A.PC,N.RK,ie.hX,Ie.a8,k.Hw,T.wG,ln,jt,Jt,dn,qt,mt,it,Fe.oO,Fe.Zl,ot,A.Ov,ge.X$],styles:[".c-ew__preview[_ngcontent-%COMP%]{margin-bottom:1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--focused[_ngcontent-%COMP%]:not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid #002753!important;transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{margin-bottom:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;margin-bottom:0;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:36px;max-height:50vh;font-size:14px}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:26px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-14px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#1d273d70}.c-ew__preview-label--focused[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#002753!important}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;min-height:inherit;max-height:inherit}.c-ew__preview-content[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;overflow-y:scroll;min-height:36px;max-height:50vh}.c-ew__preview-content--disabled[_ngcontent-%COMP%]{pointer-events:none;color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__container[_ngcontent-%COMP%]{border-radius:8px;position:fixed;z-index:2;inset:0;width:100%;height:100%;align-items:self-start;justify-content:center;display:flex}.c-ew__dialog[_ngcontent-%COMP%]{flex-direction:column;display:flex;max-width:800px;width:100vw;margin-top:24px;min-height:calc(100vh - 48px);max-height:calc(100vh - 48px);padding:0}@media (max-width: 600px){.c-ew__dialog[_ngcontent-%COMP%]{margin-top:0;min-height:calc(100vh + 0px);max-height:calc(100vh + 0px)}}.c-ew__dialog[_ngcontent-%COMP%]   .mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:16px}.c-ew__dialog-content[_ngcontent-%COMP%]{position:relative;background:#e9eaec}"],data:{animation:[Pn]}})}return i})();const Xh=["fieldComponent"];let em=(()=>{class i extends Ve{constructor(t,n){super(t,n)}ngOnInit(){super.ngOnInit(),this.hidden$=this.settings$.pipe((0,I.U)(t=>!Di.Z.mergedVisible(t)),(0,K.x)())}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-hidden-wrapper"]],viewQuery:function(n,a){if(1&n&&e.Gf(Xh,7,e.s_b),2&n){let r;e.iGM(r=e.CRH())&&(a.fieldComponent=r.first)}},features:[e.qOj],decls:4,vars:3,consts:[[3,"hidden"],["fieldComponent",""]],template:function(n,a){1&n&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.GkF(2,null,1),e.qZA()),2&n&&e.Q6J("hidden",e.lcZ(1,1,a.hidden$))},dependencies:[A.Ov]})}return i})();function tm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",1),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openDialog())}),e.ALo(1,"translate"),e._uU(2,"diamond"),e.qZA()}2&i&&e.Q6J("tippy",e.lcZ(1,1,"Features.NotActivated"))}let hr=(()=>{class i extends An.B{constructor(t,n,a,r){super(t,n,r,a)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36($e.uw),e.Y36(e.s_b),e.Y36(wt.k),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-feature-icon-text"]],features:[e.qOj],decls:2,vars:3,consts:[["class","feature-icon-text",3,"tippy"],[1,"feature-icon-text",3,"tippy","click"]],template:function(n,a){1&n&&(e.YNc(0,tm,3,3,"mat-icon",0),e.ALo(1,"async")),2&n&&e.um2(0,e.lcZ(1,1,a.show$)?0:-1)},dependencies:[k.Hw,He.$,A.Ov,ge.X$],styles:[".feature-icon-text[_ngcontent-%COMP%]{font-size:small}"]})}return i})();const nm=["fieldComponent"],im=["backdrop"],am=["dialog"];function om(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeDialog())}),e.TgZ(1,"mat-icon"),e._uU(2,"done"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"Form.Buttons.Return.Tip")))}function rm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveAll(!1))}),e.ALo(1,"async"),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-icon"),e._uU(6,"save"),e.qZA()(),e.TgZ(7,"button",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveAll(!0))}),e.ALo(8,"async"),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"mat-icon"),e._uU(13,"done_all"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("disabled",e.lcZ(1,4,t.saveButtonDisabled$)),e.xp6(3),e.Oqu(e.lcZ(4,6,"Form.Buttons.Save")),e.xp6(4),e.Q6J("disabled",e.lcZ(8,8,t.saveButtonDisabled$)),e.xp6(3),e.Oqu(e.lcZ(11,10,"Form.Buttons.SaveAndClose"))}}function sm(i,o){if(1&i&&e._UZ(0,"mat-icon",19),2&i){const t=e.oxw();e.Q6J("tippy",t.preview.url)("svgIcon",t.preview.icon)}}function lm(i,o){if(1&i&&e._UZ(0,"mat-icon",19),2&i){const t=e.oxw();e.Q6J("tippy",t.preview.url)("svgIcon",t.preview.icon)}}function dm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.expandDialog())}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",34),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("tippy",e.lcZ(1,2,"Fields.Hyperlink.Default.Fullscreen"))("disabled",t.controlStatus.disabled)}}function cm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openPagePicker())}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",35),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("tippy",e.lcZ(1,2,"Fields.Hyperlink.Default.PageTip"))("disabled",t.controlStatus.disabled)}}const um=i=>({"c-ew__preview-suffix-text--disabled":i}),pm=i=>({"metadata-exists":i});function gm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,dm,3,4,"button",30),e.TgZ(5,"button",31),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),r=e.oxw();return e.KtG(r.openImageConfiguration(a.adamItem))}),e.ALo(6,"translate"),e.TgZ(7,"mat-icon",32),e.ALo(8,"translate"),e._uU(9,"filter_center_focus"),e.qZA()(),e.YNc(10,cm,3,4,"button",30),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(15,um,t.controlStatus.disabled)),e.xp6(1),e.hij(" ",t.buttonAdam?e.lcZ(3,9,"Fields.Hyperlink.AdamFileManager.Hint"):""," "),e.xp6(2),e.um2(4,t.buttonAdam?4:-1),e.xp6(1),e.Q6J("disabled",!(null!=t.adamItem&&t.adamItem._imageConfigurationContentType))("ngClass",e.VKq(17,pm,(null==t.adamItem?null:t.adamItem._imageConfigurationId)>0))("tippy",e.lcZ(6,11,"Fields.Hyperlink.AdamFileManager.ImageSettings")),e.xp6(2),e.Q6J("tippy",e.lcZ(8,13,t.enableImageConfiguration?"Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled"))("tippyDisabled",null==t.adamItem?null:t.adamItem._imageConfigurationContentType),e.xp6(3),e.um2(10,t.buttonPage?10:-1)}}function hm(i,o){if(1&i&&(e.TgZ(0,"div",36)(1,"div",37),e._uU(2),e.qZA(),e.TgZ(3,"div",38)(4,"a",39)(5,"span"),e._uU(6),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.controlStatus.value),e.xp6(2),e.Q6J("href",t.preview.url,e.LSH)("tippy",t.preview.url),e.xp6(2),e.Oqu(t.preview.floatingText)}}function mm(i,o){if(1&i&&(e.TgZ(0,"div",40)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"app-feature-icon-text",41),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.hij("",t.showAdamSponsor?e.lcZ(3,2,"Fields.Hyperlink.Default.Sponsor"):e.lcZ(4,4,"Fields.Hyperlink.AdamFileManager.Name")," "),e.xp6(3),e.Q6J("featureNameId","NoSponsoredByToSic")}}const _m=(i,o)=>({"c-ew__preview--disabled":i,"c-ew__preview--last-in-group":o}),fm=(i,o)=>({"icon-before-input":i,"thumbnail-before-input--disabled":o}),vm=i=>({"background-image":i}),ym=i=>({"mat-form-field-invalid":i}),xm=i=>({"mat-error":i});function Cm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"div",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.expandDialog())}),e.ALo(3,"translate"),e.YNc(4,sm,1,2,"mat-icon",19)(5,lm,1,2,"mat-icon",19),e.qZA(),e.TgZ(6,"div",20)(7,"div",21)(8,"mat-form-field",22)(9,"input",23),e.NdJ("change",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.setValue(a))})("blur",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.markAsTouched())})("keyup",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.setValue(a))}),e.ALo(10,"translate"),e.qZA(),e.YNc(11,gm,11,19,"div",24),e.TgZ(12,"mat-label",0),e._uU(13),e.qZA()(),e.YNc(14,hm,7,4,"div",25),e.qZA(),e.TgZ(15,"div",26),e._UZ(16,"app-field-helper-text",27),e.YNc(17,mm,6,6,"div",28),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(27,_m,o.controlStatus.disabled,t.config.isLastInGroup)),e.xp6(1),e.Q6J("tippy",e.lcZ(3,23,"Fields.Hyperlink.Default.Fullscreen"))("tippyDisabled",o.controlStatus.disabled)("ngClass",e.WLB(30,fm,o.controlStatus.value&&!o.preview.isImage,o.controlStatus.disabled))("ngStyle",e.VKq(33,vm,o.controlStatus.value&&o.preview.isImage?o.preview.thumbnailUrl:"")),e.xp6(2),e.um2(4,o.controlStatus.value&&!o.preview.isImage&&o.preview.isKnownType?4:-1),e.xp6(1),e.um2(5,!o.controlStatus.value||o.preview.isImage||o.preview.isKnownType?-1:5),e.xp6(3),e.Q6J("ngClass",e.VKq(35,ym,o.controlStatus.invalid&&o.controlStatus.touched)),e.xp6(1),e.Q6J("tippy",e.lcZ(10,25,"Fields.Hyperlink.Default.Tooltip"))("placeholder",o.placeholder)("disabled",o.controlStatus.disabled)("value",o.controlStatus.value)("config",t.config)("elementType","input"),e.xp6(2),e.um2(11,o.buttonAdam||o.buttonPage?11:-1),e.xp6(1),e.Q6J("ngClass",e.VKq(37,xm,o.controlStatus.invalid&&o.controlStatus.touched)),e.xp6(1),e.AsE(" ",o.label," ",o.required?"*":""," "),e.xp6(1),e.um2(14,o.preview.floatingText?14:-1),e.xp6(2),e.Q6J("config",t.config)("group",t.group)("hyperlinkDefaultWrapperFix",!0),e.xp6(1),e.um2(17,o.buttonAdam?17:-1)}}const bm=i=>({"c-ew__dialog-header mat-elevation-z2":i}),Dm=i=>({bottomPixels:i}),wm=(i,o)=>({value:i,params:o});let Mm=(()=>{class i extends jo{constructor(t,n,a,r,s,d,g,b,F,D,q){super(t,n,a,r,s,d,g,b,D),this.zone=F,this.featuresService=q,this.saveButtonDisabled$=this.formsStateService.saveButtonDisabled$.pipe((0,Yn.B)())}ngOnInit(){super.ngOnInit(),this.adamItems$=new me.X([]),this.open$=this.editRoutingService.isExpanded$(this.config.index,this.config.entityGuid);const t=this.settings$.pipe((0,I.U)(r=>({_buttonAdam:r.Buttons.includes("adam"),_buttonPage:r.Buttons.includes("page"),EnableImageConfiguration:r.EnableImageConfiguration})),(0,K.x)(oe.iX.objectsEqual)),n=(0,J.a)([this.controlStatus$,this.adamItems$]).pipe((0,I.U)(([r,s])=>{if(!r.value||!s.length)return;const d=r.value.trim().match(/^file:([0-9]+)$/i);if(!d)return;const g=parseInt(d[1],10);return s.find(F=>F.Id===g)}),(0,K.x)()),a=this.featuresService.isEnabled$(lt.C.NoSponsoredByToSic).pipe((0,I.U)(r=>!r),(0,K.x)());this.viewModel$=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([this.preview$,t,n,a])]).pipe((0,I.U)(([[r,s,d,g],[b,F,D,q]])=>({controlStatus:r,label:s,placeholder:d,required:g,preview:b,buttonAdam:F._buttonAdam,buttonPage:F._buttonPage,adamItem:D,enableImageConfiguration:F.EnableImageConfiguration,showAdamSponsor:q})))}ngAfterViewInit(){this.dropzoneDraggingHelper=new oe.sq(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement),this.subscription.add(this.config.adam.items$.subscribe(t=>{this.adamItems$.next(t)}))}ngOnDestroy(){this.adamItems$.complete(),this.dropzoneDraggingHelper.detach(),super.ngOnDestroy()}calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}markAsTouched(){oe.iX.markControlTouched(this.control)}setValue(t){const n=t.target.value;this.control.value!==n&&oe.iX.patchControlValue(this.control,n)}expandDialog(){this.control.disabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}closeDialog(){this.editRoutingService.expand(!1,this.config.index,this.config.entityGuid)}saveAll(t){this.formsStateService.saveForm$.next(t)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C._q),e.Y36($e.uw),e.Y36(e.s_b),e.Y36(e.sBO),e.Y36(ne.f3),e.Y36(C.nz),e.Y36(e.R0b),e.Y36(C.i3),e.Y36(wt.k))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-hyperlink-default-expandable-wrapper"]],viewQuery:function(n,a){if(1&n&&(e.Gf(nm,7,e.s_b),e.Gf(im,5),e.Gf(am,5)),2&n){let r;e.iGM(r=e.CRH())&&(a.fieldComponent=r.first),e.iGM(r=e.CRH())&&(a.backdropRef=r.first),e.iGM(r=e.CRH())&&(a.dialogRef=r.first)}},features:[e.qOj],decls:28,vars:28,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["backdrop",""],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["dialog",""],["appearance","raised","fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"tippy","click"],["fxLayoutAlign","center center",1,"title","mat-headline-4"],[1,"c-ew__dialog-content","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],["fieldComponent",""],[1,"adam"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["class","c-hyperlink-default-field-preview"],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"disabled","click"],[1,"c-hyperlink-default-field-preview"],["fxLayout","row","fxLayoutAlign","start start",1,"c-ew__preview",3,"ngClass"],[1,"thumbnail-before-input",3,"tippy","tippyDisabled","ngClass","ngStyle","click"],["tippyPlacement","right",3,"tippy","svgIcon"],["fxFlex","auto",1,"c-ew__preview-field--short"],[1,"hyperlink-input-link-wrapper"],["color","accent",1,"eav-form-field",3,"ngClass"],["matInput","","tippyPlacement","top","appPasteClipboardImage","",3,"tippy","placeholder","disabled","value","config","elementType","change","blur","keyup"],["matTextSuffix","","fxLayoutAlign","center center"],["class","hyperlink-floating","fxHide","","fxShow.gt-xs",""],[1,"c__helper-wrapper"],[1,"c__helper-wrapper--left",3,"config","group","hyperlinkDefaultWrapperFix"],["align","end","class","c-ew__preview-field-hint c__helper-wrapper--right","fxHide","","fxShow.gt-xs",""],["fxHide","","fxShow.gt-xs","",1,"c-ew__preview-suffix-text",3,"ngClass"],["mat-icon-button","","class","c-ew__preview-suffix-icon","appClickStopPropagation","",3,"tippy","disabled"],["mat-icon-button","","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"disabled","ngClass","tippy","click"],[3,"tippy","tippyDisabled"],["mat-icon-button","","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"tippy","disabled","click"],["svgIcon","apple-outlined"],["svgIcon","sitemap"],["fxHide","","fxShow.gt-xs","",1,"hyperlink-floating"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank","tabindex","-1",1,"hyperlink-floating__url",3,"href","tippy"],["align","end","fxHide","","fxShow.gt-xs","",1,"c-ew__preview-field-hint","c__helper-wrapper--right"],[3,"featureNameId"]],template:function(n,a){if(1&n&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.TgZ(2,"div",1,2),e.NdJ("click",function(){return a.closeDialog()}),e.qZA(),e.TgZ(4,"div",3,4)(6,"div",0),e.ALo(7,"async"),e.TgZ(8,"mat-card",5)(9,"button",6),e.NdJ("click",function(){return a.closeDialog()}),e.ALo(10,"translate"),e.TgZ(11,"mat-icon"),e._uU(12,"arrow_back"),e.qZA()(),e.TgZ(13,"span",7),e._uU(14),e.ALo(15,"async"),e.qZA()()(),e.TgZ(16,"div"),e._UZ(17,"div"),e.ALo(18,"async"),e.TgZ(19,"div",8),e.ALo(20,"async"),e.GkF(21,null,9),e.TgZ(23,"extended-fab-speed-dial",10),e.YNc(24,om,6,3,"ng-template",11)(25,rm,14,12,"ng-template",12),e.qZA()()()()(),e.YNc(26,Cm,18,39,"div",13),e.ALo(27,"async")),2&n){let r;e.Q6J("ngClass",e.lcZ(1,7,a.open$)?"c-ew__container":"u-display-none"),e.xp6(6),e.Q6J("ngClass",e.VKq(21,bm,e.lcZ(7,9,a.open$))),e.xp6(3),e.Q6J("tippy",e.lcZ(10,11,"Form.Buttons.Return.Tip")),e.xp6(5),e.Oqu(e.lcZ(15,13,a.label$)),e.xp6(3),e.Q6J("@itemShrinkAnimation",e.lcZ(18,15,a.open$)?"closed":"open"),e.xp6(2),e.Q6J("@contentExpandAnimation",e.WLB(25,wm,e.lcZ(20,17,a.open$)?"expanded":"closed",e.VKq(23,Dm,a.calculateBottomPixels()))),e.xp6(7),e.um2(26,(r=e.lcZ(27,19,a.viewModel$))?26:-1,r)}},dependencies:[En.E,He.$,A.mk,A.PC,N.RK,De.Nt,ie.KE,ie.hX,ie.R9,Ie.a8,k.Hw,T.wG,ln,jt,Jt,dn,qt,hr,mt,it,fn,Fe.b8,Fe.oO,Fe.Zl,Li,ot,A.Ov,ge.X$],styles:[".metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview[_ngcontent-%COMP%]{padding-top:12px}.c-ew__preview-field--short[_ngcontent-%COMP%]{width:1%;padding:0 0 0 8px;margin-top:-4px}.c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d70;font-size:12px}.c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input[_ngcontent-%COMP%]{background-color:#1d273d14;width:78px;height:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2);cursor:pointer;background-repeat:no-repeat;background-position:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:56px;line-height:56px;color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]{cursor:default}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview-suffix-text[_ngcontent-%COMP%]{font-size:12px;line-height:14px;color:#06599a;-webkit-user-select:none;user-select:none;cursor:text}.c-ew__preview-suffix-text--disabled[_ngcontent-%COMP%]{color:#1d273d3d}@media (min-width: 601px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:0!important}}@media (max-width: 600px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:10px!important}}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}"],data:{animation:[Pn]}})}return i})();const Am=["fieldComponent"],km=["backdrop"],Sm=["dialog"];function Tm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeDialog())}),e.TgZ(1,"mat-icon"),e._uU(2,"done"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"Form.Buttons.Return.Tip")))}function Fm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveAll(!1))}),e.ALo(1,"async"),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-icon"),e._uU(6,"save"),e.qZA()(),e.TgZ(7,"button",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveAll(!0))}),e.ALo(8,"async"),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"mat-icon"),e._uU(13,"done_all"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("disabled",e.lcZ(1,4,t.saveButtonDisabled$)),e.xp6(3),e.Oqu(e.lcZ(4,6,"Form.Buttons.Save")),e.xp6(4),e.Q6J("disabled",e.lcZ(8,8,t.saveButtonDisabled$)),e.xp6(3),e.Oqu(e.lcZ(11,10,"Form.Buttons.SaveAndClose"))}}function Em(i,o){if(1&i&&(e.TgZ(0,"div",25)(1,"div",26),e._UZ(2,"mat-icon",27),e.TgZ(3,"div",28),e._uU(4),e.qZA()()()),2&i){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.Name)}}function Om(i,o){if(1&i&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t._icon)}}function Lm(i,o){if(1&i&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t._icon)}}function Im(i,o){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Om,2,1,"mat-icon")(2,Lm,2,1,"mat-icon"),e.TgZ(3,"div",28),e._uU(4),e.qZA()()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.um2(1,t._isMaterialIcon?1:-1),e.xp6(1),e.um2(2,t._isMaterialIcon?-1:2),e.xp6(2),e.Oqu(t.Name)}}function Ym(i,o){if(1&i&&(e.TgZ(0,"div",31),e._UZ(1,"img",32),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hYB("alt","",t.Id,":",t.Name,""),e.Q6J("src",t.ThumbnailUrl,e.LSH)}}function Pm(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Im,5,3,"div",29)(2,Ym,2,3,"div",30),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.um2(1,"image"!==t.Type?1:-1),e.xp6(1),e.um2(2,"image"===t.Type?2:-1)}}function Rm(i,o){if(1&i&&e.YNc(0,Em,5,1,"div",25)(1,Pm,3,2,"div"),2&i){const t=o.$implicit;e.um2(0,t.IsFolder?0:-1),e.xp6(1),e.um2(1,t.IsFolder?-1:1)}}const Nm=(i,o,t,n,a)=>({"mat-caption":i,"mat-empty":o,"mat-error":t,color__primary:n,"color__label-disabled":a}),Zm=()=>({enterDuration:360}),$m=(i,o)=>({"c-ew__preview--invalid":i,"c-ew__preview--disabled":o});function zm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"mat-label",17),e._uU(2),e.qZA(),e.TgZ(3,"div",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.expandDialog())}),e.TgZ(4,"div",0)(5,"div",19),e.SjG(6,Rm,2,2,null,null,e.QCX().trackByFn),e.qZA()()(),e.TgZ(8,"div",20)(9,"div",21),e._UZ(10,"app-field-helper-text",22),e.qZA(),e.TgZ(11,"div",23)(12,"span"),e._uU(13),e.ALo(14,"translate"),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"app-feature-icon-text",24),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.qbA(14,Nm,o.itemsNumber>0,0===o.itemsNumber,o.controlStatus.invalid&&!t.config.initialDisabled,!o.controlStatus.invalid&&!t.config.initialDisabled,t.config.initialDisabled)),e.xp6(1),e.AsE(" ",o.label," ",o.required?"*":""," "),e.xp6(1),e.Q6J("matRippleAnimation",e.DdM(20,Zm))("ngClass",e.WLB(21,$m,o.controlStatus.invalid,t.config.initialDisabled)),e.xp6(1),e.Q6J("ngClass",o.controlStatus.value?"c-ew__preview-container":"c-ew__preview-container--empty"),e.xp6(2),e.wJu(o.items),e.xp6(4),e.Q6J("config",t.config)("group",t.group),e.xp6(3),e.hij("",o.showAdamSponsor?e.lcZ(14,10,"Fields.Hyperlink.Default.Sponsor"):e.lcZ(15,12,"Fields.Hyperlink.AdamFileManager.Name")," "),e.xp6(3),e.Q6J("featureNameId","NoSponsoredByToSic")}}const Vm=i=>({"c-ew__dialog-header mat-elevation-z2":i}),Gm=i=>({bottomPixels:i}),Hm=(i,o)=>({value:i,params:o});let Um=(()=>{class i extends Ve{constructor(t,n,a,r,s,d){super(t,n),this.zone=a,this.editRoutingService=r,this.formsStateService=s,this.featuresService=d,this.saveButtonDisabled$=this.formsStateService.saveButtonDisabled$.pipe((0,Yn.B)())}ngOnInit(){super.ngOnInit(),this.open$=this.editRoutingService.isExpanded$(this.config.index,this.config.entityGuid),this.adamItems$=new me.X([]);const t=this.featuresService.isEnabled$(lt.C.NoSponsoredByToSic).pipe((0,I.U)(n=>!n),(0,K.x)());this.viewModel$=(0,J.a)([(0,J.a)([this.controlStatus$,this.label$,this.placeholder$,this.required$]),(0,J.a)([this.adamItems$,t])]).pipe((0,I.U)(([[n,a,r,s],[d,g]])=>({controlStatus:n,label:a,placeholder:r,required:s,items:d.slice(0,9),itemsNumber:d.length,showAdamSponsor:g})))}ngAfterViewInit(){this.dropzoneDraggingHelper=new oe.sq(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement),this.subscription.add(this.config.adam.items$.subscribe(t=>{this.adamItems$.next(t)}))}ngOnDestroy(){this.dropzoneDraggingHelper.detach(),this.adamItems$.complete(),super.ngOnDestroy()}calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}trackByFn(t,n){return n.Id}expandDialog(){this.config.initialDisabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}closeDialog(){this.editRoutingService.expand(!1,this.config.index,this.config.entityGuid)}saveAll(t){this.formsStateService.saveForm$.next(t)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(e.R0b),e.Y36(C.nz),e.Y36(C.i3),e.Y36(wt.k))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-hyperlink-library-expandable-wrapper"]],viewQuery:function(n,a){if(1&n&&(e.Gf(Am,7,e.s_b),e.Gf(km,5),e.Gf(Sm,5)),2&n){let r;e.iGM(r=e.CRH())&&(a.fieldComponent=r.first),e.iGM(r=e.CRH())&&(a.backdropRef=r.first),e.iGM(r=e.CRH())&&(a.dialogRef=r.first)}},features:[e.qOj],decls:28,vars:28,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["backdrop",""],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["dialog",""],["appearance","raised","fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"tippy","click"],["fxLayoutAlign","center center",1,"title","mat-headline-4"],[1,"c-ew__dialog-content","c-ew__dialog-content--empty","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],["fieldComponent",""],[1,"adam"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["class","c-ew__preview-holder"],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"disabled","click"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label","c-ew__color--primary",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"matRippleAnimation","ngClass","click"],["fxLayout","row","fxLayoutAlign","start start","fxLayoutGap","2px",1,"c-ew__preview-content"],["fxLayout","row","fxLayoutAlign","start start",1,"mat-caption","c-ew__preview-hint"],[1,"c__helper-wrapper--left"],[3,"config","group"],["fxHide","","fxShow.gt-xs","",1,"c__helper-wrapper--right","c-ew__preview-hint-text"],[3,"featureNameId"],["fxLayout","row","fxLayoutAlign","start start"],[1,"adam-browse-background-icon"],["svgIcon","folder"],[1,"adam-short-label","mat-caption"],["class","adam-browse-background-icon"],["class","adam-browse-background-image"],[1,"adam-browse-background-image"],["vm-dz-thumbnail","",3,"alt","src"]],template:function(n,a){if(1&n&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.TgZ(2,"div",1,2),e.NdJ("click",function(){return a.closeDialog()}),e.qZA(),e.TgZ(4,"div",3,4)(6,"div",0),e.ALo(7,"async"),e.TgZ(8,"mat-card",5)(9,"button",6),e.NdJ("click",function(){return a.closeDialog()}),e.ALo(10,"translate"),e.TgZ(11,"mat-icon"),e._uU(12,"arrow_back"),e.qZA()(),e.TgZ(13,"span",7),e._uU(14),e.ALo(15,"async"),e.qZA()()(),e.TgZ(16,"div"),e._UZ(17,"div"),e.ALo(18,"async"),e.TgZ(19,"div",8),e.ALo(20,"async"),e.GkF(21,null,9),e.TgZ(23,"extended-fab-speed-dial",10),e.YNc(24,Tm,6,3,"ng-template",11)(25,Fm,14,12,"ng-template",12),e.qZA()()()()(),e.YNc(26,zm,17,24,"div",13),e.ALo(27,"async")),2&n){let r;e.Q6J("ngClass",e.lcZ(1,7,a.open$)?"c-ew__container":"u-display-none"),e.xp6(6),e.Q6J("ngClass",e.VKq(21,Vm,e.lcZ(7,9,a.open$))),e.xp6(3),e.Q6J("tippy",e.lcZ(10,11,"Form.Buttons.Return.Tip")),e.xp6(5),e.Oqu(e.lcZ(15,13,a.label$)),e.xp6(3),e.Q6J("@itemShrinkAnimation",e.lcZ(18,15,a.open$)?"closed":"open"),e.xp6(2),e.Q6J("@contentExpandAnimation",e.WLB(25,Hm,e.lcZ(20,17,a.open$)?"expanded":"closed",e.VKq(23,Gm,a.calculateBottomPixels()))),e.xp6(7),e.um2(26,(r=e.lcZ(27,19,a.viewModel$))?26:-1,r)}},dependencies:[He.$,A.mk,N.RK,ie.hX,Ie.a8,k.Hw,T.wG,ln,jt,Jt,dn,qt,hr,mt,$a,it,Fe.b8,Fe.oO,ot,A.Ov,ge.X$],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 12px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0 0 11px;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0 0 11px;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:37px;max-height:119px;cursor:pointer}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:38px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-26px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#1d273d70}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-content[_ngcontent-%COMP%]{overflow:hidden}.c-ew__preview-hint[_ngcontent-%COMP%]{width:100%}.c-ew__preview-hint-text[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%], .c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-hint-text[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{opacity:.5}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]{height:78px;width:78px;text-align:center;border-radius:4px;border:1px solid rgba(0,0,0,.2);display:flex;flex-direction:column;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{height:78px;width:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:4px}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}.adam-short-label[_ngcontent-%COMP%]{max-width:80%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],data:{animation:[Pn]}})}return i})();function Bm(i,o){1&i&&(e.TgZ(0,"mat-card-subtitle"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"LangMenu.Dialog.NoAutoTranslatableFields")," "))}function qm(i,o){1&i&&(e.TgZ(0,"mat-card-subtitle"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"LangMenu.Dialog.ThisFieldIsNotAutoTranslatable")," "))}let mr=(()=>{class i{constructor(t,n){this.dialogRef=t,this.dialogData=n}ngOnInit(){}closeDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36($e.so),e.Y36($e.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-auto-translate-disabled-warning-dialog"]],decls:11,vars:8,consts:[["align","end"],["mat-button","","color","accent",3,"click"]],template:function(n,a){1&n&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Bm,3,3,"mat-card-subtitle")(6,qm,3,3,"mat-card-subtitle"),e.qZA(),e.TgZ(7,"mat-card-actions",0)(8,"button",1),e.NdJ("click",function(){return a.closeDialog()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()),2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,4,"LangMenu.Dialog.CantAutoTranslate")," "),e.xp6(2),e.um2(5,a.dialogData.isAutoTranslateAll?5:-1),e.xp6(1),e.um2(6,a.dialogData.isAutoTranslateAll?-1:6),e.xp6(3),e.Oqu(e.lcZ(10,6,"Features.Close")))},dependencies:[N.lW,Ie.a8,Ie.hq,Ie.dk,Ie.$j,Ie.n5,ge.X$]})}return i})(),Jm=(()=>{class i{constructor(){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-snack-bar-warning-demo"]],decls:6,vars:10,consts:[[3,"innerHTML"],[1,"snack-bar-warning-demo-white-hyperlink",3,"innerHTML"]],template:function(n,a){1&n&&(e._UZ(0,"h3",0),e.ALo(1,"safeHtml"),e.ALo(2,"translate"),e._UZ(3,"p",1),e.ALo(4,"safeHtml"),e.ALo(5,"translate")),2&n&&(e.Q6J("innerHTML",e.lcZ(1,2,e.lcZ(2,4,"LangMenu.SnackBar.Title")),e.oJD),e.xp6(3),e.Q6J("innerHTML",e.lcZ(4,6,e.lcZ(5,8,"LangMenu.SnackBar.Body")),e.oJD))},dependencies:[Ht.z,ge.X$],styles:[".snack-bar-warning-demo-white-hyperlink a{color:#fff;text-decoration:underline}"]})}return i})();const Yt={NoTranslate:"NoTranslate",FromPrimary:"FromPrimary",FromOther:"FromOther",LinkReadOnly:"LinkReadOnly",LinkShared:"LinkShared"};function _r(i,o,t,n,a,r){return n.filter(d=>d.NameId!==o).map(d=>{const b=r===Re.uU.LinkReadWrite&&!d.IsAllowed||!oe.lC.isEditableTranslationExist(a[i.fieldName],d.NameId,t);return{key:d.NameId,disabled:b}})}function fr(i){switch(i){case Re.uU.Translate:return Yt.FromPrimary;case Re.uU.DontTranslate:return Yt.NoTranslate;case Re.uU.LinkReadOnly:return Yt.LinkReadOnly;case Re.uU.LinkReadWrite:return Yt.LinkShared;case Re.uU.LinkCopyFrom:return Yt.FromOther}}var Qm=p(9818);function Wm(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij("(",e.lcZ(2,1,"LangMenu.Dialog.AutoTranslateAll.NoContent"),") "))}function Km(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij("(",e.lcZ(2,1,"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields"),") "))}function Xm(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&i){const t=e.oxw(4).$implicit,n=e.oxw(2);e.xp6(1),e.lnq("(",e.lcZ(2,3,"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields"),", ",n.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent," ",e.lcZ(3,5,"LangMenu.Dialog.AutoTranslateAll.Empty"),") ")}}function e_(i,o){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,Km,3,3,"span")(2,Xm,4,7,"span"),e.qZA()),2&i){const t=e.oxw(3).$implicit,n=e.oxw(2);e.xp6(1),e.um2(1,n.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent==0?1:-1),e.xp6(1),e.um2(2,n.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent!=0?2:-1)}}function t_(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&i){const t=e.oxw(4).$implicit,n=e.oxw(2);e.xp6(1),e.HOy("(",t.noTranslatableFields," ",e.lcZ(2,4,"LangMenu.Dialog.AutoTranslateAll.Of")," ",n.dialogData.translatableFields.length," ",e.lcZ(3,6,"LangMenu.Dialog.AutoTranslateAll.TranslatableFields"),") ")}}function n_(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA()),2&i){const t=e.oxw(4).$implicit,n=e.oxw(2);e.xp6(1),e.gL8("(",t.noTranslatableFields," ",e.lcZ(2,6,"LangMenu.Dialog.AutoTranslateAll.Of")," ",n.dialogData.translatableFields.length," ",e.lcZ(3,8,"LangMenu.Dialog.AutoTranslateAll.TranslatableFields")," , ",n.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent," ",e.lcZ(4,10,"LangMenu.Dialog.AutoTranslateAll.Empty"),") ")}}function i_(i,o){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,t_,4,8,"span")(2,n_,5,12,"span"),e.qZA()),2&i){const t=e.oxw(3).$implicit,n=e.oxw(2);e.xp6(1),e.um2(1,n.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent==0?1:-1),e.xp6(1),e.um2(2,n.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent!=0?2:-1)}}function a_(i,o){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,e_,3,2,"span")(2,i_,3,2,"span"),e.qZA()),2&i){const t=e.oxw(2).$implicit,n=e.oxw(2);e.xp6(1),e.um2(1,t.noTranslatableFields==n.dialogData.translatableFields.length?1:-1),e.xp6(1),e.um2(2,t.noTranslatableFields!=n.dialogData.translatableFields.length?2:-1)}}function o_(i,o){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,Wm,3,3,"span")(2,a_,3,2,"span"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.um2(1,0==t.noTranslatableFields?1:-1),e.xp6(1),e.um2(2,0!=t.noTranslatableFields?2:-1)}}const r_=(i,o)=>({"eav-list-item__focus":i,"list-item__disabled":o}),s_=i=>({"list-item-icon__disabled":i});function l_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-list-item",5),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.setLanguage(r.key))}),e.TgZ(1,"mat-icon",6),e._uU(2,"language"),e.qZA(),e.TgZ(3,"span",7),e._uU(4),e.YNc(5,o_,3,2,"span"),e.qZA()()}if(2&i){const t=o.$implicit,n=e.oxw(),a=e.oxw();e.Q6J("disabled",t.disabled||!n.isTranslateWithGoogleFeatureEnabled)("ngClass",e.WLB(5,r_,n.translationState.language===t.key,t.disabled||!n.isTranslateWithGoogleFeatureEnabled)),e.xp6(1),e.Q6J("ngClass",e.VKq(8,s_,t.disabled)),e.xp6(3),e.hij("",t.key," "),e.xp6(1),e.um2(5,a.dialogData.isTranslateMany?5:-1)}}function d_(i,o){1&i&&(e.TgZ(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"app-feature-text-info",2)(6,"mat-card-subtitle",3),e.ALo(7,"safeHtml"),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"mat-card-content",4)(10,"mat-action-list"),e.SjG(11,l_,6,10,"mat-list-item",8,e.x6l),e.qZA()()()),2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,3,"LangMenu.Dialog.AutoTranslateAll.Title")," "),e.xp6(2),e.Q6J("featureNameId","EditUiTranslateWithGoogle"),e.xp6(1),e.Q6J("innerHTML",e.lcZ(7,5,e.lcZ(8,7,"LangMenu.Dialog.AutoTranslateAll.Body")),e.oJD),e.xp6(5),e.wJu(o.languages))}let vr=(()=>{class i{constructor(t,n,a,r,s,d,g,b,F){this.dialogRef=t,this.dialogData=n,this.languageService=a,this.languageInstanceService=r,this.itemService=s,this.eavService=d,this.fieldsTranslateService=g,this.snackBar=b,this.featuresService=F,this.TranslationLinks=Re.uU,this.I18nKeys=Yt,this.isTranslateWithGoogleFeatureEnabled$=new me.X(!1),this.subscription=new y.w0,this.dialogRef.keydownEvents().subscribe(D=>{83===D.keyCode&&(navigator.platform.match("Mac")?D.metaKey:D.ctrlKey)&&D.preventDefault()})}ngOnInit(){const t=this.featuresService.isEnabled$(lt.C.EditUiTranslateWithGoogle);this.subscription.add(t.pipe((0,K.x)()).subscribe(this.isTranslateWithGoogleFeatureEnabled$)),this.isTranslateWithGoogleFeatureEnabled$.value&&this.dialogRef.afterClosed().subscribe(()=>{this.snackBar.dismiss()}),this.eavService.settings.Values[pt.hg.GoogleTranslate].IsDemo&&this.snackBar.openFromComponent(Jm),this.translationState$=new me.X(this.dialogData.translationState),this.noLanguageRequired=[Re.uU.Translate,Re.uU.DontTranslate];const a=this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId),r=this.languageInstanceService.getDefaultLanguage$(this.eavService.eavConfig.formId),s=this.itemService.getItemAttributes$(this.dialogData.config.entityGuid),d=(0,J.a)([this.languageService.getLanguages$(),a,r,s,this.translationState$]).pipe((0,I.U)(([g,b,F,D,q])=>this.dialogData.isTranslateMany?function jm(i,o,t,n,a,r){return t.filter(d=>d.NameId!==i).map(d=>{let g=0,b=0,F=!1;return r.forEach(q=>{const X=n[q];g+=oe.lC.noEditableTranslationFields(X,d.NameId,o),b+=oe.lC.noEditableTranslatableFieldsWithContent(X,d.NameId,o),F=a===Re.uU.LinkReadWrite&&!d.IsAllowed||0==g}),{key:d.NameId,disabled:F,noTranslatableFields:g,noTranslatableFieldsThatHaveContent:b}})}(b,F,g,D,q.linkType,this.dialogData.translatableFields):_r(this.dialogData.config,b,F,g,D,q.linkType)));this.viewModel$=(0,J.a)([r,d,this.translationState$,t]).pipe((0,I.U)(([g,b,F,D])=>({defaultLanguage:g,languages:b,translationState:F,showLanguageSelection:!this.noLanguageRequired.includes(F.linkType),i18nRoot:`LangMenu.Dialog.${fr(F.linkType)}`,submitDisabled:""===F.language&&!this.noLanguageRequired.includes(F.linkType),isTranslateWithGoogleFeatureEnabled:D})))}setLanguage(t){const n={...this.translationState$.value,language:t};this.translationState$.next(n),this.dialogData.translationState.language!==n.language?(this.dialogData.isTranslateMany?this.fieldsTranslateService.autoTranslateMany(n.language):this.fieldsTranslateService.autoTranslate([this.dialogData.config.name],n.language),this.closeDialog()):this.closeDialog()}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.translationState$.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36($e.so),e.Y36($e.WI),e.Y36(ne.TS),e.Y36(ne._K),e.Y36(ne.en),e.Y36(C.WV),e.Y36(C.jq),e.Y36(yt.ux),e.Y36(wt.k))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-auto-translate-menu-dialog"]],decls:2,vars:3,consts:[["class","auto-translate-menu-dialog-card u-hide-scrollbar"],[1,"auto-translate-menu-dialog-card","u-hide-scrollbar"],[3,"featureNameId"],[3,"innerHTML"],[1,"eav-card-content__no-padding"],[3,"disabled","ngClass","click"],["matListItemIcon","",3,"ngClass"],["matListItemTitle",""],[3,"disabled","ngClass"]],template:function(n,a){if(1&n&&(e.YNc(0,d_,13,9,"mat-card",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[A.mk,Ie.a8,Ie.dn,Ie.dk,Ie.$j,Ie.n5,k.Hw,et.lT,et.Tg,et.Yt,et.sL,Qm.B,Fe.oO,Ht.z,A.Ov,ge.X$],styles:[".auto-translate-menu-dialog-card[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]{cursor:default;color:#1d273d3d;background:#ffffff}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]   .list-item-icon__disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}return i})();const c_=(i,o)=>({"eav-list-item__focus":i,"list-item__disabled":o}),u_=i=>({"list-item-icon__disabled":i});function p_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-list-item",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.setLanguage(r.key))}),e.TgZ(1,"mat-icon",12),e._uU(2,"language"),e.qZA(),e.TgZ(3,"span",6),e._uU(4),e.qZA()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("disabled",t.disabled)("ngClass",e.WLB(4,c_,n.translationState.language===t.key,t.disabled)),e.xp6(1),e.Q6J("ngClass",e.VKq(7,u_,t.disabled)),e.xp6(3),e.Oqu(t.key)}}function g_(i,o){if(1&i&&(e.TgZ(0,"div")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"mat-action-list"),e.SjG(9,p_,5,9,"mat-list-item",13,e.x6l),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,2,t.i18nRoot+".Subtitle")," "),e.xp6(3),e.hij(" ",e.lcZ(7,4,"LangMenu.Dialog.PickLanguageIntro")," "),e.xp6(3),e.wJu(t.languages)}}const h_=i=>({name:i}),cn=i=>({"eav-list-item__focus":i}),Mt=i=>({primary:i});function m_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"mat-card-content",2)(9,"mat-nav-list",3)(10,"mat-list-item",4),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setLinkType(a.TranslationLinks.DontTranslate))}),e.TgZ(11,"mat-icon",5),e._uU(12,"lock"),e.qZA(),e.TgZ(13,"span",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"span",7),e._uU(17),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"mat-list-item",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setLinkType(a.TranslationLinks.Translate))}),e.TgZ(20,"mat-icon",5),e._uU(21,"lock_open"),e.qZA(),e.TgZ(22,"span",6),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"mat-list-item",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setLinkType(a.TranslationLinks.LinkCopyFrom))}),e.TgZ(29,"mat-icon",5),e._uU(30,"translate"),e.qZA(),e.TgZ(31,"span",6),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"span"),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"mat-list-item",4),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setLinkType(a.TranslationLinks.LinkReadOnly))}),e.TgZ(38,"mat-icon",5),e._uU(39,"link"),e.qZA(),e.TgZ(40,"span",6),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"span",7),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"mat-list-item",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setLinkType(a.TranslationLinks.LinkReadWrite))}),e.TgZ(47,"mat-icon",5),e._uU(48,"share"),e.qZA(),e.TgZ(49,"span",6),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"span"),e._uU(53),e.ALo(54,"translate"),e.qZA()()(),e.YNc(55,g_,11,6,"div"),e.qZA(),e.TgZ(56,"mat-card-actions",9)(57,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.save())}),e._uU(58,"OK"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.hij(" ",e.xi3(4,19,"LangMenu.Dialog.Title",e.VKq(54,h_,t.dialogData.config.fieldName))," "),e.xp6(3),e.hij(" ",e.lcZ(7,22,"LangMenu.Dialog.Intro")," "),e.xp6(4),e.Q6J("ngClass",e.VKq(56,cn,o.translationState.linkType===t.TranslationLinks.DontTranslate)),e.xp6(4),e.Oqu(e.xi3(15,24,"LangMenu.Dialog."+t.I18nKeys.NoTranslate+".Title",e.VKq(58,Mt,o.defaultLanguage))),e.xp6(3),e.Oqu(e.xi3(18,27,"LangMenu.Dialog."+t.I18nKeys.NoTranslate+".Body",e.VKq(60,Mt,o.defaultLanguage))),e.xp6(2),e.Q6J("ngClass",e.VKq(62,cn,o.translationState.linkType===t.TranslationLinks.Translate)),e.xp6(4),e.Oqu(e.xi3(24,30,"LangMenu.Dialog."+t.I18nKeys.FromPrimary+".Title",e.VKq(64,Mt,o.defaultLanguage))),e.xp6(3),e.Oqu(e.xi3(27,33,"LangMenu.Dialog."+t.I18nKeys.FromPrimary+".Body",e.VKq(66,Mt,o.defaultLanguage))),e.xp6(2),e.Q6J("ngClass",e.VKq(68,cn,o.translationState.linkType===t.TranslationLinks.LinkCopyFrom)),e.xp6(4),e.Oqu(e.xi3(33,36,"LangMenu.Dialog."+t.I18nKeys.FromOther+".Title",e.VKq(70,Mt,o.defaultLanguage))),e.xp6(3),e.Oqu(e.xi3(36,39,"LangMenu.Dialog."+t.I18nKeys.FromOther+".Body",e.VKq(72,Mt,o.defaultLanguage))),e.xp6(2),e.Q6J("ngClass",e.VKq(74,cn,o.translationState.linkType===t.TranslationLinks.LinkReadOnly)),e.xp6(4),e.Oqu(e.xi3(42,42,"LangMenu.Dialog."+t.I18nKeys.LinkReadOnly+".Title",e.VKq(76,Mt,o.defaultLanguage))),e.xp6(3),e.Oqu(e.xi3(45,45,"LangMenu.Dialog."+t.I18nKeys.LinkReadOnly+".Body",e.VKq(78,Mt,o.defaultLanguage))),e.xp6(2),e.Q6J("ngClass",e.VKq(80,cn,o.translationState.linkType===t.TranslationLinks.LinkReadWrite)),e.xp6(4),e.Oqu(e.xi3(51,48,"LangMenu.Dialog."+t.I18nKeys.LinkShared+".Title",e.VKq(82,Mt,o.defaultLanguage))),e.xp6(3),e.Oqu(e.xi3(54,51,"LangMenu.Dialog."+t.I18nKeys.LinkShared+".Body",e.VKq(84,Mt,o.defaultLanguage))),e.xp6(2),e.um2(55,o.showLanguageSelection?55:-1),e.xp6(2),e.Q6J("disabled",o.submitDisabled)}}let __=(()=>{class i{constructor(t,n,a,r,s,d,g){this.dialogRef=t,this.dialogData=n,this.languageService=a,this.languageInstanceService=r,this.itemService=s,this.eavService=d,this.fieldsTranslateService=g,this.TranslationLinks=Re.uU,this.I18nKeys=Yt,this.dialogRef.keydownEvents().subscribe(b=>{83===b.keyCode&&(navigator.platform.match("Mac")?b.metaKey:b.ctrlKey)&&b.preventDefault()})}ngOnInit(){this.translationState$=new me.X(this.dialogData.translationState),this.noLanguageRequired=[Re.uU.Translate,Re.uU.DontTranslate];const t=this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId),n=this.languageInstanceService.getDefaultLanguage$(this.eavService.eavConfig.formId),a=this.itemService.getItemAttributes$(this.dialogData.config.entityGuid),r=(0,J.a)([this.languageService.getLanguages$(),t,n,a,this.translationState$]).pipe((0,I.U)(([s,d,g,b,F])=>_r(this.dialogData.config,d,g,s,b,F.linkType)));this.viewModel$=(0,J.a)([n,r,this.translationState$]).pipe((0,I.U)(([s,d,g])=>({defaultLanguage:s,languages:d,translationState:g,showLanguageSelection:!this.noLanguageRequired.includes(g.linkType),i18nRoot:`LangMenu.Dialog.${fr(g.linkType)}`,submitDisabled:""===g.language&&!this.noLanguageRequired.includes(g.linkType)})))}ngOnDestroy(){this.translationState$.complete()}setLinkType(t){const n={linkType:t,language:this.noLanguageRequired.includes(t)?"":this.translationState$.value.language};this.translationState$.next(n)}setLanguage(t){const n={...this.translationState$.value,language:t};this.translationState$.next(n)}save(){const t=this.translationState$.value,n=this.dialogData.translationState;if(n.linkType!==t.linkType||n.language!==t.language){switch(t.linkType){case Re.uU.Translate:this.fieldsTranslateService.translate(this.dialogData.config.name);break;case Re.uU.DontTranslate:this.fieldsTranslateService.dontTranslate(this.dialogData.config.name);break;case Re.uU.LinkReadOnly:this.fieldsTranslateService.linkReadOnly(this.dialogData.config.name,t.language);break;case Re.uU.LinkReadWrite:this.fieldsTranslateService.linkReadWrite(this.dialogData.config.name,t.language);break;case Re.uU.LinkCopyFrom:this.fieldsTranslateService.copyFrom(this.dialogData.config.name,t.language)}this.closeDialog()}else this.closeDialog()}closeDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36($e.so),e.Y36($e.WI),e.Y36(ne.TS),e.Y36(ne._K),e.Y36(ne.en),e.Y36(C.WV),e.Y36(C.jq))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-translate-menu-dialog"]],decls:2,vars:3,consts:[["class","translate-menu-dialog-card u-hide-scrollbar"],[1,"translate-menu-dialog-card","u-hide-scrollbar"],[1,"eav-card-content__no-padding"],["toggle","","focus",""],[3,"ngClass","click"],["matListItemIcon","","color","accent"],["matListItemTitle",""],["matListItemLine",""],["lines","3",3,"ngClass","click"],["align","end"],["mat-button","","color","accent",3,"disabled","click"],[3,"disabled","ngClass","click"],["matListItemIcon","",3,"ngClass"],[3,"disabled","ngClass"]],template:function(n,a){if(1&n&&(e.YNc(0,m_,59,86,"mat-card",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[A.mk,N.lW,Ie.a8,Ie.hq,Ie.dn,Ie.dk,Ie.$j,Ie.n5,k.Hw,et.lT,et.Hk,et.Tg,et.Yt,et.WW,et.sL,Fe.oO,A.Ov,ge.X$],styles:[".translate-menu-dialog-card[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]{cursor:default;color:#1d273d3d;background:#ffffff}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]   .list-item-icon__disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}return i})();var f_=p(6685),yr=p(425);const Rn=i=>({"menu-item-selected":i});function v_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.translate())}),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2),r=e.oxw();return e.KtG(r.openAutoTranslateMenuDialog(a.translationState))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"app-feature-icon-indicator",8),e.qZA(),e.TgZ(7,"button",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.dontTranslate())}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2),r=e.oxw();return e.KtG(r.openTranslateMenuDialog(a.translationState))}),e._uU(11),e.ALo(12,"translate"),e.qZA()}if(2&i){const t=e.oxw(2),n=e.oxw();e.Q6J("ngClass",e.VKq(17,Rn,t.translationState.linkType===n.TranslationLinks.Translate)),e.xp6(1),e.hij(" ",e.lcZ(2,9,"LangMenu.Translate")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,Rn,t.translationState.linkType===n.TranslationLinks.Translate)),e.xp6(1),e.hij(" ",e.lcZ(5,11,"LangMenu.AutoTranslate")," "),e.xp6(2),e.Q6J("featureNameId","EditUiTranslateWithGoogle"),e.xp6(1),e.Q6J("ngClass",e.VKq(21,Rn,t.translationState.linkType===n.TranslationLinks.DontTranslate)),e.xp6(1),e.hij(" ",e.lcZ(9,13,"LangMenu.NoTranslate")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(23,Rn,""!==t.translationState.language)),e.xp6(1),e.hij(" ",e.lcZ(12,15,"LangMenu.Link")," ")}}const y_=i=>({"shared-languages--disabled":i}),x_=i=>({languages:i});function C_(i,o){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",3)(6,"mat-icon",4),e._uU(7,"translate"),e.qZA()()(),e.TgZ(8,"mat-menu",null,5),e.YNc(10,v_,13,25,"ng-template",6),e.qZA()()),2&i){const t=e.MAs(9),n=e.oxw();e.xp6(1),e.Q6J("ngClass",n.translationStateClass),e.xp6(1),e.Q6J("ngClass",e.VKq(8,y_,n.disabled)),e.xp6(1),e.hij(" ",n.translationState.infoLabel?e.xi3(4,5,n.translationState.infoLabel,e.VKq(10,x_,n.translationState.infoMessage)):""," "),e.xp6(2),e.Q6J("matMenuTriggerFor",t)("disabled",n.readOnly||n.disableTranslation)}}function b_(i,o){1&i&&e.YNc(0,C_,11,12,"div",0),2&i&&e.um2(0,o.currentLanguage!==o.defaultLanguage?0:-1)}let xr=(()=>{class i{constructor(t,n,a,r,s,d,g){this.dialog=t,this.viewContainerRef=n,this.languageInstanceService=a,this.eavService=r,this.fieldsSettingsService=s,this.fieldsTranslateService=d,this.formsStateService=g,this.TranslationLinks=Re.uU}ngOnInit(){const t=this.formsStateService.readOnly$,n=this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId),a=this.languageInstanceService.getDefaultLanguage$(this.eavService.eavConfig.formId),r=this.fieldsSettingsService.getTranslationState$(this.config.fieldName),s=this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).pipe((0,I.U)(F=>F.DisableTranslation),(0,K.x)()),d=this.fieldsSettingsService.getFieldSettings$(this.config.fieldName).pipe((0,I.U)(F=>F.DisableAutoTranslation),(0,K.x)()),g=this.group.controls[this.config.fieldName],b=g.valueChanges.pipe((0,I.U)(()=>g.disabled),(0,M.O)(g.disabled),(0,K.x)());this.viewModel$=(0,J.a)([t,n,a,r,s,d,b]).pipe((0,I.U)(([F,D,q,X,se,le,Oe])=>({readOnly:F.isReadOnly,currentLanguage:D,defaultLanguage:q,translationState:X,translationStateClass:f_.U.getTranslationStateClass(X.linkType),disableTranslation:se,disableAutoTranslation:le,disabled:Oe})))}translate(){this.fieldsTranslateService.translate(this.config.name)}dontTranslate(){this.fieldsTranslateService.dontTranslate(this.config.name)}openTranslateMenuDialog(t){this.openDialog(t,__)}openAutoTranslateMenuDialog(t){this.fieldsSettingsService.getFieldSettings(this.config.fieldName).DisableAutoTranslation?this.dialog.open(mr,{autoFocus:!1,data:{isAutoTranslateAll:!1},viewContainerRef:this.viewContainerRef,width:"350px"}):this.openDialog(t,vr)}openDialog(t,n){this.dialog.open(n,{autoFocus:!1,data:{config:this.config,translationState:{language:t.language,linkType:t.linkType}},viewContainerRef:this.viewContainerRef,width:"400px"})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36($e.uw),e.Y36(e.s_b),e.Y36(ne._K),e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.jq),e.Y36(C.i3))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-translate-menu"]],inputs:{config:"config",group:"group"},decls:2,vars:3,consts:[["fxLayoutAlign","end center"],["fxLayoutAlign","end center",1,"shared-languages-container",3,"ngClass"],[1,"shared-languages","mat-caption",3,"ngClass"],["mat-icon-button","",3,"matMenuTriggerFor","disabled"],[1,"translate-icon"],["menu","matMenu"],["matMenuContent",""],["mat-menu-item","",3,"ngClass","click"],[3,"featureNameId"]],template:function(n,a){if(1&n&&(e.YNc(0,b_,1,1),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[A.mk,N.RK,k.Hw,Ge.VK,Ge.OP,Ge.KA,Ge.p6,yr.F,it,Fe.oO,A.Ov,ge.X$],styles:[".menu-item-selected[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}.localization-lock-open[_ngcontent-%COMP%]{color:green}.localization-missing-default-lang-value[_ngcontent-%COMP%]{color:red}.localization-translate[_ngcontent-%COMP%]{color:green}.localization-link-read-only[_ngcontent-%COMP%], .localization-link-read-write[_ngcontent-%COMP%]{color:#00f}.shared-languages[_ngcontent-%COMP%]{position:relative;left:-6px;top:-1px;padding:0 4px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px;cursor:default;color:#1d273d70}.shared-languages--disabled[_ngcontent-%COMP%]{color:#1d273d3d}.translate-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;line-height:20px}"]})}return i})();const D_=["fieldComponent"],w_=i=>({"language-wrap__field-short":i}),M_=i=>({"language-wrap__translate--hidden":i});let A_=(()=>{class i extends Ve{constructor(t,n,a,r,s){super(t,n),this.languageInstanceService=a,this.editRoutingService=r,this.formsStateService=s}ngOnInit(){super.ngOnInit(),this.currentLanguage$=this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId),this.defaultLanguage$=this.languageInstanceService.getDefaultLanguage$(this.eavService.eavConfig.formId)}ngOnDestroy(){super.ngOnDestroy()}translate(){this.formsStateService.readOnly$.value.isReadOnly||this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId)===this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId)||!this.control.disabled||this.editRoutingService.isExpanded(this.config.index,this.config.entityGuid)||this.translateMenu.translate()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(ne._K),e.Y36(C.nz),e.Y36(C.i3))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-localization-wrapper"]],viewQuery:function(n,a){if(1&n&&(e.Gf(D_,7,e.s_b),e.Gf(xr,5)),2&n){let r;e.iGM(r=e.CRH())&&(a.fieldComponent=r.first),e.iGM(r=e.CRH())&&(a.translateMenu=r.first)}},features:[e.qOj],decls:9,vars:16,consts:[[1,"language-wrap"],[1,"language-wrap__field",3,"ngClass","dblclick"],["fieldComponent",""],[1,"language-wrap__translate",3,"ngClass","config","group"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("dblclick",function(){return a.translate()}),e.ALo(2,"async"),e.ALo(3,"async"),e.GkF(4,null,2),e.qZA(),e._UZ(6,"app-translate-menu",3),e.ALo(7,"async"),e.ALo(8,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngClass",e.VKq(12,w_,e.lcZ(2,4,a.currentLanguage$)!==e.lcZ(3,6,a.defaultLanguage$))),e.xp6(5),e.Q6J("ngClass",e.VKq(14,M_,e.lcZ(7,8,a.currentLanguage$)===e.lcZ(8,10,a.defaultLanguage$)))("config",a.config)("group",a.group))},dependencies:[A.mk,Fe.oO,xr,A.Ov],styles:[".language-wrap[_ngcontent-%COMP%]{display:flex;padding-left:16px;padding-right:16px}.language-wrap__field[_ngcontent-%COMP%]{width:100%;height:100%}.language-wrap__field-short[_ngcontent-%COMP%]{width:calc(100% - 48px)}.language-wrap__translate[_ngcontent-%COMP%]{width:48px;position:relative}.language-wrap__translate--hidden[_ngcontent-%COMP%]{width:0}"]})}return i})();const k_=["fieldComponent"],S_=["previewComponent"];function T_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeDialog())}),e.TgZ(1,"mat-icon"),e._uU(2,"done"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"Form.Buttons.Return.Tip")))}function F_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveAll(!1))}),e.ALo(1,"async"),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-icon"),e._uU(6,"save"),e.qZA()(),e.TgZ(7,"button",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveAll(!0))}),e.ALo(8,"async"),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"mat-icon"),e._uU(13,"done_all"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("disabled",e.lcZ(1,4,t.saveButtonDisabled$)),e.xp6(3),e.Oqu(e.lcZ(4,6,"Form.Buttons.Save")),e.xp6(4),e.Q6J("disabled",e.lcZ(8,8,t.saveButtonDisabled$)),e.xp6(3),e.Oqu(e.lcZ(11,10,"Form.Buttons.SaveAndClose"))}}const E_=i=>({"c-ew__dialog-header mat-elevation-z2":i}),O_=i=>({bottomPixels:i}),L_=(i,o)=>({value:i,params:o});let I_=(()=>{class i extends Ve{constructor(t,n,a,r){super(t,n),this.editRoutingService=a,this.formsStateService=r,this.saveButtonDisabled$=this.formsStateService.saveButtonDisabled$.pipe((0,Yn.B)())}ngOnInit(){super.ngOnInit(),this.dialogIsOpen$=this.editRoutingService.isExpanded$(this.config.index,this.config.entityGuid),this.dialogIsOpen$.pipe((0,K.x)()).subscribe(t=>{this.fieldsSettingsService.updateSetting(this.config.fieldName,{_isDialog:t})})}ngOnDestroy(){super.ngOnDestroy()}calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}closeDialog(){this.editRoutingService.expand(!1,this.config.index,this.config.entityGuid)}saveAll(t){this.formsStateService.saveForm$.next(t)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.nz),e.Y36(C.i3))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-picker-expandable-wrapper"]],viewQuery:function(n,a){if(1&n&&(e.Gf(k_,7,e.s_b),e.Gf(S_,7,e.s_b)),2&n){let r;e.iGM(r=e.CRH())&&(a.fieldComponent=r.first),e.iGM(r=e.CRH())&&(a.previewComponent=r.first)}},features:[e.qOj],decls:29,vars:25,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"tippy","click"],["fxLayoutAlign","center center",1,"title","mat-headline-4"],["cdkScrollable","",1,"c-ew__dialog-content","u-add-scrollbar","u-hide-scrollbar"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],[1,"eav-card","eav-layout-grid__cell--span-12","u-border-radius","shadow-bottom-z-1"],["fieldComponent",""],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["previewComponent",""],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"disabled","click"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.NdJ("click",function(){return a.closeDialog()}),e.qZA(),e.TgZ(3,"div",2)(4,"div",0),e.ALo(5,"async"),e.TgZ(6,"mat-card",3)(7,"button",4),e.NdJ("click",function(){return a.closeDialog()}),e.ALo(8,"translate"),e.TgZ(9,"mat-icon"),e._uU(10,"arrow_back"),e.qZA()(),e.TgZ(11,"span",5),e._uU(12),e.ALo(13,"async"),e.qZA()()(),e.TgZ(14,"div"),e._UZ(15,"div"),e.ALo(16,"async"),e.TgZ(17,"div",6),e.ALo(18,"async"),e.TgZ(19,"div",7)(20,"div",8)(21,"mat-card",9),e.GkF(22,null,10),e.qZA()()()(),e.TgZ(24,"extended-fab-speed-dial"),e.YNc(25,T_,6,3,"ng-template",11)(26,F_,14,12,"ng-template",12),e.qZA()()()(),e.GkF(27,null,13)),2&n&&(e.Q6J("ngClass",e.lcZ(1,6,a.dialogIsOpen$)?"c-ew__container":"u-display-none"),e.xp6(4),e.Q6J("ngClass",e.VKq(18,E_,e.lcZ(5,8,a.dialogIsOpen$))),e.xp6(3),e.Q6J("tippy",e.lcZ(8,10,"Form.Buttons.Return.Tip")),e.xp6(5),e.Oqu(e.lcZ(13,12,a.label$)),e.xp6(3),e.Q6J("@itemShrinkAnimation",e.lcZ(16,14,a.dialogIsOpen$)?"closed":"open"),e.xp6(2),e.Q6J("@contentExpandAnimation",e.WLB(22,L_,e.lcZ(18,16,a.dialogIsOpen$)?"expanded":"closed",e.VKq(20,O_,a.calculateBottomPixels()))))},dependencies:[He.$,A.mk,N.RK,ve.PQ,Ie.a8,k.Hw,T.wG,ln,jt,Jt,dn,qt,mt,it,Fe.oO,A.Ov,ge.X$],styles:[".eav-card[_ngcontent-%COMP%]{padding:16px}"],data:{animation:[Pn]}})}return i})();class Cr extends Se.M{constructor(){super(...arguments),this.name=_e.v.WIPEntityPicker}update(o,t,n){let a=[],r=[];const s={...o};if(s.EntityType??="",s.AllowMultiValue??=!1,s.EnableEdit??=!0,s.EnableCreate??=!0,s.EnableAddExisting??=!0,s.EnableRemove??=!0,s.EnableDelete??=!1,s.Information??="",s.Tooltip??="",s.Label??="",n.eavConfig.overrideEditRestrictions&&n.debug&&(console.log("SystemAdmin + Debug: Overriding edit restrictions for field '"+o.Name+"' (EntityType: '"+o.EntityType+"')."),s.EnableEdit=!0,s.EnableCreate=!0,s.EnableAddExisting=!0,s.EnableRemove=!0,s.EnableDelete=!0),s.DataSources?.length>0&&(a=n.contentTypeItemService.getContentTypeItems(s.DataSources)),"UiPickerSourceQuery"===a[0]?.Type.Name){s.DataSourceType="UiPickerSourceQuery";const d=n.entityReader.flatten(a[0]);s.Query=d.Query??"",s.StreamName=d.StreamName??"Default",s.UrlParameters=d.QueryParameters??"",s.Value=d.Value??"",s.Label=d.Label??"",s.EntityType=d.CreateTypes??"",s.MoreFields=d.MoreFields??""}if("UiPickerSourceEntity"===a[0]?.Type.Name){s.DataSourceType="UiPickerSourceEntity";const d=n.entityReader.flatten(a[0]);s.EntityType=d.ContentTypeNames??""}if(s.AllowMultiValue?s.EnableReselect??=!1:s.EnableReselect=!1,s.AllowMultiValue?(s.AllowMultiMin??=0,s.AllowMultiMax??=0):(s.AllowMultiMin=0,s.AllowMultiMax=0),s.PickerDisplayMode??="list",s.PickerDisplayConfiguration??=[],s.PickerDisplayConfiguration?.length>0&&(r=n.contentTypeItemService.getContentTypeItems(s.PickerDisplayConfiguration)),"UiPickerModeTree"===r[0]?.Type.Name){const d=n.entityReader.flatten(r[0]);s.PickerTreeConfiguration={Title:d.Title??"",ConfigModel:"UiPickerModeTree",TreeRelationship:d.TreeRelationship??"parent-child",TreeBranchesStream:d.TreeBranchesStream??"Default",TreeLeavesStream:d.TreeLeavesStream??"Default",TreeParentIdField:d.TreeParentIdField??"Id",TreeChildIdField:d.TreeChildIdField??"Id",TreeParentChildRefField:d.TreeParentChildRefField??"Children",TreeChildParentRefField:d.TreeChildParentRefField??"Parent",TreeShowRoot:d.TreeShowRoot??!0,TreeDepthMax:d.TreeDepthMax??10,TreeAllowSelectRoot:d.TreeAllowSelectRoot??!0,TreeAllowSelectBranch:d.TreeAllowSelectBranch??!0,TreeAllowSelectLeaf:d.TreeAllowSelectLeaf??!0}}return s}}function Y_(i,o){if(1&i&&e._UZ(0,"app-picker-preview",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function P_(i,o){if(1&i&&e._UZ(0,"app-picker-dialog",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function R_(i,o){1&i&&e.YNc(0,Y_,1,4,"app-picker-preview",0)(1,P_,1,4,"app-picker-dialog",0),2&i&&(e.um2(0,o.showPreview?0:-1),e.xp6(1),e.um2(1,o.showPreview?-1:1))}Se.M.add(Cr);let Hi=class va extends Bt{constructor(o,t,n,a,r,s,d,g,b){super(o,t,n,a,r,s,d),this.sourceFactory=g,this.stateFactory=b,Cr.importMe()}ngOnInit(){super.ngOnInit(),this.createPickerAdapters(),this.createViewModel()}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}createPickerAdapters(){let o;const t=this.stateFactory.createPickerEntityStateAdapter(this.control,this.config,this.settings$,this.editRoutingService,this.controlStatus$,this.label$,this.placeholder$,this.required$,()=>this.focusOnSearchComponent);"UiPickerSourceEntity"===this.settings$.value.DataSourceType?o=this.sourceFactory.createPickerEntitySourceAdapter(t.disableAddNew$,this.fieldsSettingsService,t.control,this.config,t.settings$,this.editRoutingService,this.group,n=>t.doAfterDelete(n)):"UiPickerSourceQuery"===this.settings$.value.DataSourceType&&(o=this.sourceFactory.createPickerQuerySourceAdapter(t.error$,t.disableAddNew$,this.fieldsSettingsService,!1,t.control,this.config,t.settings$,this.editRoutingService,this.group,n=>t.doAfterDelete(n))),t.init(),o.init(),this.pickerData=new It(t,o,this.translate)}static#e=this.\u0275fac=function(t){return new(t||va)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.c4),e.Y36(ge.sK),e.Y36(C.nz),e.Y36(ne.r6),e.Y36(ne.uQ),e.Y36(rt),e.Y36(st))};static#t=this.\u0275cmp=e.Xpm({type:va,selectors:[["entity-picker"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"pickerData","config","group","controlConfig"]],template:function(t,n){if(1&t&&(e.YNc(0,R_,2,2),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[Et,Ot,A.Ov]})};Hi=(0,Me.gn)([Ue({}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,C.c4,ge.sK,C.nz,ne.r6,ne.uQ,rt,st])],Hi);class br extends Se.M{constructor(){super(...arguments),this.name=_e.v.WIPStringPicker}update(o,t,n){let a=[];const s=sn.e.singleton().get(_e.v.WIPEntityPicker).update(o,t,n);if(s.EnableTextEntry??=!1,s.Separator??="\n","\\n"==s.Separator&&(s.Separator="\n"),s.DataSources?.length>0&&(a=n.contentTypeItemService.getContentTypeItems(s.DataSources)),"UiPickerSourceCustomList"===a[0]?.Type.Name){s.DataSourceType="UiPickerSourceCustomList";const d=n.entityReader.flatten(a[0]);s.DropdownValuesFormat="value-label",s.DropdownValues=d.Values??"",s._options=Ko(t,"string",s.DropdownValuesFormat,s.DropdownValues)??[]}return s}}function N_(i,o){if(1&i&&e._UZ(0,"app-picker-preview",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function Z_(i,o){if(1&i&&e._UZ(0,"app-picker-dialog",0),2&i){const t=e.oxw(2);e.Q6J("pickerData",t.pickerData)("config",t.config)("group",t.group)("controlConfig",t.controlConfig)}}function $_(i,o){1&i&&e.YNc(0,N_,1,4,"app-picker-preview",0)(1,Z_,1,4,"app-picker-dialog",0),2&i&&(e.um2(0,o.showPreview?0:-1),e.xp6(1),e.um2(1,o.showPreview?-1:1))}Se.M.add(br);let Ui=class ya extends Bt{constructor(o,t,n,a,r,s,d,g,b){super(o,t,n,a,r,s,d),this.sourceFactory=g,this.stateFactory=b,br.importMe()}ngOnInit(){super.ngOnInit(),this.createPickerAdapters(),this.createViewModel()}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}createPickerAdapters(){let o;const t=this.stateFactory.createPickerStringStateAdapter(this.control,this.config,this.settings$,this.editRoutingService,this.controlStatus$,this.label$,this.placeholder$,this.required$,()=>this.focusOnSearchComponent);"UiPickerSourceCustomList"===this.settings$.value.DataSourceType?o=this.sourceFactory.createPickerStringSourceAdapter(t.disableAddNew$,this.fieldsSettingsService,t.control,this.config,t.settings$,this.editRoutingService,this.group,n=>t.doAfterDelete(n)):"UiPickerSourceQuery"===this.settings$.value.DataSourceType?o=this.sourceFactory.createPickerQuerySourceAdapter(t.error$,t.disableAddNew$,this.fieldsSettingsService,!0,t.control,this.config,t.settings$,this.editRoutingService,this.group,n=>t.doAfterDelete(n)):"UiPickerSourceEntity"===this.settings$.value.DataSourceType&&(o=this.sourceFactory.createPickerEntitySourceAdapter(t.disableAddNew$,this.fieldsSettingsService,t.control,this.config,t.settings$,this.editRoutingService,this.group,n=>t.doAfterDelete(n))),t.init(),o.init(),this.pickerData=new It(t,o,this.translate)}static#e=this.\u0275fac=function(t){return new(t||ya)(e.Y36(C.WV),e.Y36(C.GQ),e.Y36(C.c4),e.Y36(ge.sK),e.Y36(C.nz),e.Y36(ne.r6),e.Y36(ne.uQ),e.Y36(rt),e.Y36(st))};static#t=this.\u0275cmp=e.Xpm({type:ya,selectors:[["string-picker"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"pickerData","config","group","controlConfig"]],template:function(t,n){if(1&t&&(e.YNc(0,$_,2,2),e.ALo(1,"async")),2&t){let a;e.um2(0,(a=e.lcZ(1,1,n.viewModel$))?0:-1,a)}},dependencies:[Et,Ot,A.Ov]})};Ui=(0,Me.gn)([Ue({}),(0,Me.w6)("design:paramtypes",[C.WV,C.GQ,C.c4,ge.sK,C.nz,ne.r6,ne.uQ,rt,st])],Ui);let z_=(()=>{class i{constructor(t,n){this.mainContainerRef=t,this.fieldsSettingsService=n,this.fieldConfigs=[],this.components={[Re.eb.AdamWrapper]:Sh,[Re.eb.CollapsibleWrapper]:Oh,[Re.eb.DropzoneWrapper]:Yh,[Re.eb.PickerExpandableWrapper]:I_,[Re.eb.ExpandableWrapper]:Kh,[Re.eb.HiddenWrapper]:em,[Re.eb.HyperlinkDefaultExpandableWrapper]:Mm,[Re.eb.HyperlinkLibraryExpandableWrapper]:Um,[Re.eb.LocalizationWrapper]:A_,[_e.v.BooleanDefault]:_i,[_e.v.BooleanTristate]:fi,[_e.v.CustomDefault]:wn,[_e.v.CustomJsonEditor]:Mn,[_e.v.DatetimeDefault]:bi,[_e.v.EmptyDefault]:Mu,[_e.v.EmptyMessage]:wi,[_e.v.EntityContentBlocks]:Fi,[_e.v.EntityDefault]:Oi,[_e.v.EntityQuery]:On,[_e.v.ExternalWebComponent]:yi,[_e.v.HyperlinkDefault]:Ii,[_e.v.HyperlinkLibrary]:Yi,[_e.v.NumberDefault]:Ri,[_e.v.NumberDropdown]:Ln,[_e.v.StringDefault]:Ni,[_e.v.StringDropdown]:$i,[_e.v.StringDropdownQuery]:Zi,[_e.v.StringFontIconPicker]:zi,[_e.v.StringJson]:Mn,[_e.v.StringTemplatePicker]:Vi,[_e.v.StringUrlPath]:Gi,[_e.v.WIPEntityPicker]:Hi,[_e.v.WIPStringPicker]:Ui,[_e.v.WIPNumberPicker]:Ln}}ngOnInit(){this.mainContainerRef.clear();let t=this.mainContainerRef;const n=this.fieldsSettingsService.getFieldsProps();for(const[a,r]of Object.entries(n)){const s={...r.constants,name:a,focused$:new me.X(!1)};this.fieldConfigs.push(s);const d=r.calculatedInputType.inputType;Dn.z.isGroupStart(d)?t=this.createGroup(this.mainContainerRef,r,s):Dn.z.isGroupEnd(d)?t=this.mainContainerRef:this.createComponent(t,r,s)}}ngOnDestroy(){for(const t of this.fieldConfigs)t.focused$.complete()}createGroup(t,n,a){let r=new Nn(null,t);return n.wrappers&&(r=this.createWrappers(r.contentsRef,n.wrappers,a)),r.contentsRef}createComponent(t,n,a){let r=new Nn(null,t);n.wrappers&&(r=this.createWrappers(r.contentsRef,n.wrappers,a));const s=this.readComponentType(n.calculatedInputType.isExternal?_e.v.ExternalWebComponent:n.calculatedInputType.inputType),d=Reflect.getMetadata(Re.XF,s);if(null!=d&&(d.wrappers&&(r=this.createWrappers(r.contentsRef,d.wrappers,a)),this.generateAndAttachField(s,r.contentsRef,a,!1),r.wrapperRef?.instance?.previewComponent)){const g=this.readComponentType(n.calculatedInputType.inputType);this.generateAndAttachField(g,r.wrapperRef?.instance?.previewComponent,a,!0)}}generateAndAttachField(t,n,a,r){const s=n.createComponent(t);Object.assign(s.instance,{config:a,controlConfig:{isPreview:r},group:this.group})}createWrappers(t,n,a){let r=new Nn(null,t);for(const s of n)r=this.createWrapper(r.contentsRef,s,a);return r}createWrapper(t,n,a){const r=this.readComponentType(n),s=t.createComponent(r);return Object.assign(s.instance,{config:a,group:this.group}),new Nn(s,s.instance.fieldComponent)}readComponentType(t){return this.components[t]??(console.error(`Missing component class for: ${t}`),wn)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.s_b),e.Y36(C.GQ))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","appFieldsBuilder",""]],inputs:{group:"group"}})}return i})();class Nn{constructor(o,t){this.wrapperRef=o,this.contentsRef=t}}function V_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.translateMany())}),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.autoTranslateMany())}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"app-feature-icon-indicator",6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.dontTranslateMany())}),e._uU(8),e.ALo(9,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,4,"LangMenu.TranslateAll")),e.xp6(3),e.hij(" ",e.lcZ(5,6,"LangMenu.AutoTranslateAll")," "),e.xp6(2),e.Q6J("featureNameId","EditUiTranslateWithGoogle"),e.xp6(2),e.Oqu(e.lcZ(9,8,"LangMenu.NoTranslateAll")))}function G_(i,o){if(1&i&&(e.TgZ(0,"div",0)(1,"button",1)(2,"span",0),e._uU(3),e.ALo(4,"uppercase"),e.ALo(5,"translate"),e.TgZ(6,"mat-icon",2),e._uU(7,"translate"),e.qZA()()(),e.TgZ(8,"mat-menu",null,3),e.YNc(10,V_,10,10,"ng-template",4),e.qZA()()),2&i){const t=e.MAs(9),n=e.oxw();e.xp6(1),e.Q6J("disabled",n.readOnly||n.slotIsEmpty)("matMenuTriggerFor",t),e.xp6(2),e.hij(" ",e.lcZ(4,3,e.lcZ(5,5,"LangMenu.Translate"))," \xa0\xa0 ")}}function H_(i,o){1&i&&e.YNc(0,G_,11,7,"div",0),2&i&&e.um2(0,o.currentLanguage!==o.defaultLanguage?0:-1)}let U_=(()=>{class i{constructor(t,n,a,r,s,d,g,b){this.dialog=t,this.languageInstanceService=n,this.itemService=a,this.eavService=r,this.fieldsTranslateService=s,this.formsStateService=d,this.viewContainerRef=g,this.fieldsSettingsService=b}ngOnInit(){const t=this.formsStateService.readOnly$,n=this.itemService.getItemHeader$(this.entityGuid).pipe((0,I.U)(s=>!!s.IsEmptyAllowed&&s.IsEmpty)),a=this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId),r=this.languageInstanceService.getDefaultLanguage$(this.eavService.eavConfig.formId);this.viewModel$=(0,J.a)([t,n,a,r]).pipe((0,I.U)(([s,d,g,b])=>({readOnly:s.isReadOnly,slotIsEmpty:d,currentLanguage:g,defaultLanguage:b}))),this.autoTranslatableFields=this.fieldsTranslateService.findAutoTranslatableFields(),this.autoTranslatableFields.length>0&&(this.subscription=this.fieldsSettingsService.getTranslationState$(this.autoTranslatableFields[0]).subscribe(s=>this.translationState=s))}translateMany(){this.fieldsTranslateService.translateMany()}autoTranslateMany(){this.autoTranslatableFields.length>0?this.dialog.open(vr,{autoFocus:!1,data:{config:{entityGuid:this.entityGuid,fieldName:this.autoTranslatableFields[0],name:"",focused$:void 0},translationState:{language:this.translationState.language,linkType:this.translationState.linkType},isTranslateMany:!0,translatableFields:this.autoTranslatableFields},viewContainerRef:this.viewContainerRef,width:"400px"}):this.dialog.open(mr,{autoFocus:!1,data:{isAutoTranslateAll:!0},viewContainerRef:this.viewContainerRef,width:"400px"})}dontTranslateMany(){this.fieldsTranslateService.dontTranslateMany()}ngOnDestroy(){this.autoTranslatableFields.length>0&&this.subscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36($e.uw),e.Y36(ne._K),e.Y36(ne.en),e.Y36(C.WV),e.Y36(C.jq),e.Y36(C.i3),e.Y36(e.s_b),e.Y36(C.GQ))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-entity-translate-menu"]],inputs:{entityGuid:"entityGuid"},decls:2,vars:3,consts:[["fxLayoutAlign","end center"],["mat-button","","fxLayoutAlign","end center",3,"disabled","matMenuTriggerFor"],[1,"translate-icon"],["menu","matMenu"],["matMenuContent",""],["mat-menu-item","",3,"click"],[3,"featureNameId"]],template:function(n,a){if(1&n&&(e.YNc(0,H_,1,1),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[N.lW,k.Hw,Ge.VK,Ge.OP,Ge.KA,Ge.p6,yr.F,it,A.Ov,A.gd,ge.X$],styles:[".translate-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;line-height:20px}"]})}return i})();const B_=["noteTrigger"],q_=["noteTemplate"];function J_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",19,20),e.NdJ("pointerenter",function(a){e.CHM(t);const r=e.oxw(),s=e.oxw();return e.KtG(r.noteProps.note?s.toggleNote(a):null)})("pointerleave",function(a){e.CHM(t);const r=e.oxw(),s=e.oxw();return e.KtG(r.noteProps.note?s.toggleNote(a):null)})("click",function(a){e.CHM(t);const r=e.oxw(),s=e.oxw();return e.KtG(r.noteProps.note?s.toggleNote(a):s.editNote())}),e.ALo(2,"translate"),e.TgZ(3,"mat-icon"),e._uU(4),e.qZA()()}if(2&i){const t=e.oxw();e.Gre("eav-note ",t.noteProps.triggerClass,""),e.Q6J("disabled",t.readOnly)("tippy",e.lcZ(2,8,t.noteProps.tooltip))("tippyDisabled",t.readOnly||!t.noteProps.tooltip)("disableRipple",t.noteProps.itemNotSaved),e.xp6(4),e.Oqu(t.noteProps.iconName)}}function j_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",21),e.NdJ("pointerdown",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.noteTouched=!0)}),e.TgZ(1,"div",22)(2,"button",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),r=e.oxw();return e.KtG(r.editNote(a.noteProps.note))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()(),e.TgZ(5,"button",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),r=e.oxw();return e.KtG(r.deleteNote(a.noteProps.note))}),e.TgZ(6,"mat-icon"),e._uU(7,"delete"),e.qZA()(),e.TgZ(8,"button",23),e.NdJ("click",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleNote(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"close"),e.qZA()()(),e._UZ(11,"div",24),e.ALo(12,"safeHtml"),e.qZA()}if(2&i){const t=e.oxw();e.Gre("eav-note-wrapper ",t.noteProps.noteClass,""),e.xp6(11),e.Q6J("innerHtml",e.lcZ(12,4,t.noteProps.noteHtml),e.oJD)}}function Q_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",25),e.NdJ("change",function(){e.CHM(t);const a=e.oxw(),r=e.oxw();return e.KtG(r.toggleSlotIsEmpty(a.header))}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("checked",!t.slotIsEmpty)("disabled",t.readOnly||t.currentLanguage!==t.defaultLanguage)("tippy",e.lcZ(1,4,t.slotIsEmpty?"ItemCard.SlotUsedFalse":"ItemCard.SlotUsedTrue"))("tippyDisabled",t.readOnly||t.currentLanguage!==t.defaultLanguage)}}function W_(i,o){if(1&i&&(e.TgZ(0,"div",26)(1,"mat-icon"),e._uU(2,"local_offer"),e.qZA()()),2&i){const t=e.oxw();e.Q6J("tippy",t.itemForTooltip)}}function K_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openHistory())}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"history"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("tippy",e.lcZ(1,2,"Form.Buttons.History.Tip"))("disabled",t.readOnly)}}function X_(i,o){if(1&i&&(e.TgZ(0,"div",28),e._UZ(1,"div",29),e.ALo(2,"safeHtml"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("innerHtml",e.lcZ(2,1,t.editInstructions),e.oJD)}}function ef(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",1)(1,"div",2)(2,"div",3),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleCollapse())}),e.TgZ(3,"div",4)(4,"mat-icon",5),e._uU(5),e.qZA(),e.TgZ(6,"span",6),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.YNc(9,J_,5,10,"button",7)(10,j_,13,6,"ng-template",null,8,e.W1O)(12,Q_,2,6,"mat-slide-toggle",9)(13,W_,3,1,"div",10)(14,K_,4,4,"button",11),e._UZ(15,"app-entity-translate-menu",12),e.qZA(),e.TgZ(16,"mat-card-content",13)(17,"div",14)(18,"div",15),e.YNc(19,X_,3,3,"div",16),e.TgZ(20,"div",17),e.GkF(21,18),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.hij(" ",t.collapse?"keyboard_arrow_down":"keyboard_arrow_up"," "),e.xp6(2),e.hij(" ",o.itemTitle||e.lcZ(8,11,"ItemCard.DefaultTitle")," "),e.xp6(2),e.um2(9,o.showNotes?9:-1),e.xp6(3),e.um2(12,o.slotCanBeEmpty?12:-1),e.xp6(1),e.um2(13,o.showMetadataFor&&o.itemForTooltip?13:-1),e.xp6(1),e.um2(14,t.eavService.eavConfig.enableHistory?14:-1),e.xp6(1),e.Q6J("entityGuid",t.entityGuid),e.xp6(1),e.Udp("display",t.collapse?"none":"block"),e.xp6(3),e.um2(19,o.editInstructions?19:-1),e.xp6(2),e.Q6J("group",t.group)}}let tf=(()=>{class i extends _t.f{constructor(t,n,a,r,s,d,g,b,F,D,q,X,se){super(),this.languageInstanceService=t,this.itemService=n,this.router=a,this.route=r,this.fieldsSettingsService=s,this.eavService=d,this.translate=g,this.formsStateService=b,this.editRoutingService=F,this.entityService=D,this.dialog=q,this.viewContainerRef=X,this.featuresService=se,this.collapse=!1,this.noteTouched=!1}ngAfterViewChecked(){this.noteRef?._containerInstance?._changeDetectorRef?.detectChanges()}ngOnInit(){const t=this.formsStateService.readOnly$,n=this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId),a=this.languageInstanceService.getDefaultLanguage$(this.eavService.eavConfig.formId),r=this.itemService.getItemFor$(this.entityGuid).pipe((0,I.U)(X=>function Nc(i,o){if(i)return o.instant("Form.Buttons.Metadata.Tip")+`\nTarget: ${i.Target}\nTargetType: ${i.TargetType}`+(i.Number?`\nNumber: ${i.Number}`:"")+(i.String?`\nString: ${i.String}`:"")+(i.Guid?`\nGuid: ${i.Guid}`:"")+(i.Title?`\nTitle: ${i.Title}`:"")}(X,this.translate))),s=this.itemService.getItemHeader$(this.entityGuid),d=this.fieldsSettingsService.getContentTypeSettings$().pipe((0,I.U)(X=>({_itemTitle:X._itemTitle,_slotCanBeEmpty:X._slotCanBeEmpty,_slotIsEmpty:X._slotIsEmpty,EditInstructions:X.EditInstructions,Features:X.Features})),(0,K.x)(oe.iX.objectsEqual)),g=this.itemService.getItemNote$(this.entityGuid),b=this.itemService.getItem$(this.entityGuid).pipe((0,I.U)(X=>0===X.Entity.Id),(0,K.x)()),F=(0,J.a)([g,n,a,b]).pipe((0,I.U)(([X,se,le,Oe])=>function Zc(i,o,t,n){const a={note:i,tooltip:n?"Form.Buttons.Note.ItemNotSaved":"Form.Buttons.Note.Add",triggerClass:"no-note "+(n?"item-not-saved":""),iconName:"sticky_note_2",noteClass:"",noteHtml:void 0,itemNotSaved:n};if(!i)return a;a.tooltip=void 0,a.noteHtml=oe.lC.translate(o,t,i.Attributes.Note,null);const r=oe.lC.translate(o,t,i.Attributes.NoteType,null);return"note"===r?a.triggerClass="has-note":"warning"===r&&(a.triggerClass="has-warning",a.iconName="warning",a.noteClass="warning"),a}(X,se,le,Oe))),D=(0,J.a)([this.featuresService.isEnabled$(lt.C.EditUiShowNotes),d.pipe((0,I.U)(X=>Mo(X.Features)))]).pipe((0,I.U)(([X,se])=>se[lt.C.EditUiShowNotes]??X),(0,K.x)()),q=(0,J.a)([this.featuresService.isEnabled$(lt.C.EditUiShowMetadataFor),d.pipe((0,I.U)(X=>Mo(X.Features)))]).pipe((0,I.U)(([X,se])=>se[lt.C.EditUiShowMetadataFor]??X),(0,K.x)());this.viewModel$=(0,J.a)([(0,J.a)([t,n,a,D,q]),(0,J.a)([r,s,d,F])]).pipe((0,I.U)(([[X,se,le,Oe,xe],[Ze,be,ze,Be]])=>({readOnly:X.isReadOnly,currentLanguage:se,defaultLanguage:le,header:be,itemTitle:ze._itemTitle,slotCanBeEmpty:ze._slotCanBeEmpty,slotIsEmpty:ze._slotIsEmpty,editInstructions:ze.EditInstructions,itemForTooltip:Ze,noteProps:Be,showNotes:Oe,showMetadataFor:xe}))),this.refreshOnChildClosed()}ngOnDestroy(){this.noteRef?.close(),super.ngOnDestroy()}toggleCollapse(){this.collapse=!this.collapse}toggleSlotIsEmpty(t){const n={...t,IsEmpty:!t.IsEmpty};this.itemService.updateItemHeader(this.entityGuid,n)}openHistory(){const t=this.itemService.getItem(this.entityGuid);this.router.navigate([`versions/${t.Entity.Id}`],{relativeTo:this.route})}toggleNote(t){const n=0===this.noteRef?.getState();"pointerenter"===t.type&&0==this.noteTouched?this.openNote():"pointerleave"===t.type&&0==this.noteTouched?this.noteRef?.close():"click"===t.type&&n&&(0==this.noteTouched?this.noteTouched=!0:(this.noteRef?.close(),this.noteTouched=!1))}openNote(){const t=this.noteTriggerRef.nativeElement.getBoundingClientRect();this.noteRef=this.dialog.open(this.noteTemplateRef,{autoFocus:!1,hasBackdrop:!1,disableClose:!0,restoreFocus:!1,closeOnNavigation:!1,position:{top:`${t.bottom}px`,left:`${t.left}px`},viewContainerRef:this.viewContainerRef,panelClass:"note-dialog"})}editNote(t){0!==this.itemService.getItem(this.entityGuid).Entity.Id&&this.editRoutingService.open(null,null,{items:[null==t?{ContentTypeName:pt.Zy.contentTypes.notes,For:{Target:pt.Zy.metadata.entity.target,TargetType:pt.Zy.metadata.entity.targetType,Guid:this.entityGuid,Singleton:!0}}:{EntityId:t.Id}]})}deleteNote(t){const n=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),a=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId),r=oe.lC.translate(n,a,t.Attributes.Title,null);confirm(this.translate.instant("Data.Delete.Question",{title:r,id:t.Id}))&&this.entityService.delete(pt.Zy.contentTypes.notes,t.Id,!1).subscribe(()=>{this.noteRef?.close(),this.fetchNote()})}fetchNote(){const t=this.itemService.getItem(this.entityGuid);0!==t.Entity.Id&&this.eavService.fetchFormData(JSON.stringify([{EntityId:t.Entity.Id}])).subscribe(a=>{const r=a.Items.map(s=>Rc.$.convert(s));this.itemService.updateItemMetadata(this.entityGuid,r[0].Entity.Metadata)})}refreshOnChildClosed(){this.subscription.add(this.editRoutingService.childFormClosed().subscribe(()=>{this.fetchNote()}))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(ne._K),e.Y36(ne.en),e.Y36(Gt.F0),e.Y36(Gt.gz),e.Y36(C.GQ),e.Y36(C.WV),e.Y36(ge.sK),e.Y36(C.i3),e.Y36(C.nz),e.Y36(C.c4),e.Y36($e.uw),e.Y36(e.s_b),e.Y36(wt.k))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-entity-wrapper"]],viewQuery:function(n,a){if(1&n&&(e.Gf(B_,5,e.SBq),e.Gf(q_,5)),2&n){let r;e.iGM(r=e.CRH())&&(a.noteTriggerRef=r.first),e.iGM(r=e.CRH())&&(a.noteTemplateRef=r.first)}},inputs:{entityGuid:"entityGuid",group:"group"},features:[e.qOj],decls:2,vars:3,consts:[["appearance","raised","class","eav-card-group-parent shadow-bottom-z-1"],["appearance","raised",1,"eav-card-group-parent","shadow-bottom-z-1"],["fxLayout","row","fxLayoutAlign","start center",1,"eav-card-header-group-parent"],["fxFlex","auto","fxLayoutAlign","start center",3,"click"],["fxLayoutAlign","start center",1,"eav-card-title-group","mat-headline-4"],[1,"title-arrow"],[1,"title"],["type","button","mat-icon-button","",3,"class","disabled","tippy","tippyDisabled","disableRipple"],["noteTemplate",""],["class","empty-slot-toggle",3,"checked","disabled","tippy","tippyDisabled"],["class","icon-box",3,"tippy"],["type","button","mat-icon-button","",3,"tippy","disabled"],["fxLayoutAlign","end center",3,"entityGuid"],[1,"eav-card-content-group-parent"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["class","eav-layout-grid__cell--span-12 mat-body-2","align","start"],[1,"eav-layout-grid__cell--span-12"],["appFieldsBuilder","",3,"group"],["type","button","mat-icon-button","",3,"disabled","tippy","tippyDisabled","disableRipple","pointerenter","pointerleave","click"],["noteTrigger",""],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary","body",3,"pointerdown"],["cdkDragHandle","",1,"eav-note-actions"],["mat-icon-button","","appMousedownStopPropagation","",3,"click"],[1,"eav-note-content","eav-hide-scrollbar",3,"innerHtml"],[1,"empty-slot-toggle",3,"checked","disabled","tippy","tippyDisabled","change"],[1,"icon-box",3,"tippy"],["type","button","mat-icon-button","",3,"tippy","disabled","click"],["align","start",1,"eav-layout-grid__cell--span-12","mat-body-2"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(n,a){if(1&n&&(e.YNc(0,ef,22,13,"mat-card",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[Ao.d,He.$,N.RK,Ie.a8,Ie.dn,k.Hw,an.Rr,Lt.Zt,Lt.Bh,mt,it,fn,z_,mi,U_,Ht.z,A.Ov,ge.X$],styles:[".eav-card-group-parent[_ngcontent-%COMP%]{padding:0;margin:0;border-radius:8px}@media (max-width: 600px){.eav-card-group-parent[_ngcontent-%COMP%]{border-radius:4px}}.eav-card-header-group-parent[_ngcontent-%COMP%]{padding:24px 32px;border-radius:8px;height:68px}.eav-card-header-group-parent[_ngcontent-%COMP%]   .title-arrow[_ngcontent-%COMP%]{margin-right:6px}.eav-card-header-group-parent[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.eav-card-header-group-parent[_ngcontent-%COMP%]:not(:hover)   .no-note[_ngcontent-%COMP%]{display:none}.eav-card-content-group-parent[_ngcontent-%COMP%]{border-radius:8px;padding:0}.eav-card-content-group-parent[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px;margin-top:-14px;margin-bottom:14px}.eav-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#002753}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}.empty-slot-toggle[_ngcontent-%COMP%]{padding-top:0}.icon-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.eav-note.item-not-saved[_ngcontent-%COMP%]{cursor:default}.eav-note[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#d9ca1f}.eav-note.has-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#e90000}.eav-note-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px;width:300px;min-height:300px;max-height:400px;box-sizing:border-box;overflow:hidden;background-color:#fff79f}.eav-note-wrapper.warning[_ngcontent-%COMP%]{background-color:#ffdede}.eav-note-content[_ngcontent-%COMP%]{flex-shrink:1;overflow:auto}.eav-note-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:flex-end;cursor:move;margin-top:-16px;margin-left:-16px;margin-right:-16px;padding-top:8px;padding-left:8px;padding-right:8px}"]})}return i})(),Dr=(()=>{class i extends _t.f{constructor(t,n,a,r,s,d,g,b){super(),this.fieldsSettingsService=t,this.fieldsTranslateService=n,this.formBuilder=a,this.eavService=r,this.formsStateService=s,this.itemService=d,this.languageInstanceService=g,this.adamCacheService=b}ngOnInit(){this.fieldsSettingsService.init(this.entityGuid),this.fieldsTranslateService.init(this.entityGuid),this.form=new Z.nJ({}),this.subscription.add(this.fieldsSettingsService.getFieldsProps$().subscribe(a=>{for(const[g,b]of Object.entries(a)){const F=b.calculatedInputType.inputType;if(Dn.z.isEmptyInputType(F)||this.form.controls.hasOwnProperty(g))continue;if(F===_e.v.StringWysiwyg&&""!=b.value&&null!=b.value&&null!=b.value){const le=sn.e.singleton().get(_e.v.StringWysiwyg),Oe=this.adamCacheService.getAdamSnapshot(this.entityGuid,g);b.value=le.processValueOnLoad(b.value,Oe)}const D=b.value,q=b.settings.Disabled||b.settings.ForcedDisabled,X=oe.Pp.getValidators(g,F,this.fieldsSettingsService),se=this.formBuilder.control({disabled:q,value:D},X);this.form.addControl(g,se),oe.Pp.ensureWarning(this.form.controls[g])}const r=this.form.getRawValue(),s={};for(const[g,b]of Object.entries(a))this.form.controls.hasOwnProperty(g)&&(s[g]=b.value);const d=oe.iX.getFormChanges(r,s);null!=d&&this.form.patchValue(d);for(const[g,b]of Object.entries(a))this.form.controls.hasOwnProperty(g)&&oe.iX.disableControl(this.form.controls[g],b.settings.Disabled||b.settings.ForcedDisabled);for(const[g,b]of Object.entries(a))this.form.controls.hasOwnProperty(g)&&this.form.controls[g].updateValueAndValidity()}));const t=this.form.valueChanges.pipe((0,I.U)(()=>!this.form.invalid),(0,M.O)(!this.form.invalid),(0,K.x)()),n=this.itemService.getItemHeader$(this.entityGuid);this.subscription.add((0,J.a)([t,n]).pipe((0,I.U)(([a,r])=>!!r.IsEmpty||a),(0,K.x)()).subscribe(a=>{this.formsStateService.setFormValid(this.entityGuid,a)})),this.subscription.add(this.form.valueChanges.pipe((0,I.U)(()=>this.form.dirty),(0,M.O)(this.form.dirty)).subscribe(a=>{this.formsStateService.setFormDirty(this.entityGuid,a)})),this.subscription.add(this.form.valueChanges.pipe((0,I.U)(()=>this.form.getRawValue()),(0,K.x)((a,r)=>null==oe.iX.getFormChanges(a,r))).subscribe(a=>{const r=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),s=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId);this.itemService.updateItemAttributesValues(this.entityGuid,a,r,s)}))}ngOnDestroy(){Object.values(this.form.controls).forEach(t=>{t._warning$.complete()}),super.ngOnDestroy()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.GQ),e.Y36(C.jq),e.Y36(Z.QS),e.Y36(C.WV),e.Y36(C.i3),e.Y36(ne.en),e.Y36(ne._K),e.Y36(ne.ap))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-form-builder"]],inputs:{entityGuid:"entityGuid"},features:[e._Bn([C.GQ,C.jq,Pc.S,Ic.L,Yc.C]),e.qOj],decls:2,vars:3,consts:[[1,"dynamic-form",3,"formGroup"],[3,"entityGuid","group"]],template:function(n,a){1&n&&(e.TgZ(0,"form",0),e._UZ(1,"app-entity-wrapper",1),e.qZA()),2&n&&(e.Q6J("formGroup",a.form),e.xp6(1),e.Q6J("entityGuid",a.entityGuid)("group",a.form))},dependencies:[Z._Y,Z.JL,Z.sg,tf],styles:[".dynamic-form[_ngcontent-%COMP%]{margin-bottom:8px}"]})}return i})();var Bi=p(2985);class nf{static valuesToDto(o){const t={};for(const n of o.Values)t[n.Dimensions.map(r=>r.Value).join()]=n.Value;return t}}class af{static attributesToDto(o){const t={};for(const[n,a]of Object.entries(o)){const r=a.Type;null==t[r]&&(t[r]={}),t[r][n]=nf.valuesToDto(a)}return t}}class qi{static entityToDto(o){const t=af.attributesToDto(o.Attributes),n=this.entitiesToDto(o.Metadata);return{Attributes:t,Guid:o.Guid,Id:o.Id,Owner:o.Owner,Type:o.Type,Version:o.Version,For:o.For,Metadata:n}}static entitiesToDto(o){return null==o?null:o.map(n=>qi.entityToDto(n))}}class rf{static bundleToDto(o){return{Entity:qi.entityToDto(o.Entity),Header:o.Header}}}function sf(i,o){if(1&i&&(e.TgZ(0,"div")(1,"span"),e._uU(2),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.field),e.xp6(2),e.hij(": ",e.lcZ(5,2,t.message),"")}}let lf=(()=>{class i{constructor(t){this.snackBarData=t}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(yt.qD))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-snack-bar-save-errors"]],decls:7,vars:3,consts:[[1,"save-errors-container"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"br"),e.SjG(5,sf,6,4,"div",null,e.x6l),e.qZA()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Errors.SaveErrors")),e.xp6(3),e.wJu(a.snackBarData.fieldErrors))},dependencies:[ge.X$],styles:[".save-errors-container[_ngcontent-%COMP%]{font-size:14px}"]})}return i})(),df=(()=>{class i{constructor(t,n){this.snackRef=t,this.snackBarData=n}saveChanges(t){this.snackBarData.save=t,this.snackRef.dismissWithAction()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(yt.OX),e.Y36(yt.qD))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-snack-bar-unsaved-changes"]],decls:12,vars:13,consts:[[1,"error-message"],["fxLayoutAlign","end end"],["mat-button","","color","primary",3,"click"]],template:function(n,a){1&n&&(e.TgZ(0,"span",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div",1)(4,"button",2),e.NdJ("click",function(){return a.saveChanges(!1)}),e._uU(5),e.ALo(6,"uppercase"),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",2),e.NdJ("click",function(){return a.saveChanges(!0)}),e._uU(9),e.ALo(10,"uppercase"),e.ALo(11,"translate"),e.qZA()()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,3,"Errors.UnsavedChanges")),e.xp6(4),e.hij(" ",e.lcZ(6,5,e.lcZ(7,7,"General.Buttons.NotSave"))," "),e.xp6(4),e.hij(" ",e.lcZ(10,9,e.lcZ(11,11,"General.Buttons.Save"))," "))},dependencies:[N.lW,it,A.gd,ge.X$],styles:[".error-message[_ngcontent-%COMP%]{font-size:14px}"]})}return i})();var cf=p(40);const Ji=i=>({"eav-list-item__focus":i});function uf(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"mat-card-content",0)(9,"mat-nav-list",1)(10,"mat-list-item",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setPublishMode(a.PublishModes.Show))}),e.TgZ(11,"mat-icon",3),e._uU(12,"visibility"),e.qZA(),e.TgZ(13,"span",4),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"mat-list-item",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setPublishMode(a.PublishModes.Hide))}),e.TgZ(20,"mat-icon",3),e._uU(21,"visibility_off"),e.qZA(),e.TgZ(22,"span",4),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"mat-list-item",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setPublishMode(a.PublishModes.Branch))}),e._UZ(29,"mat-icon",5),e.TgZ(30,"span",4),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"span"),e._uU(34),e.ALo(35,"translate"),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,14,"PublishStatus.Dialog.Title")),e.xp6(3),e.Oqu(e.lcZ(7,16,"PublishStatus.Dialog.Intro")),e.xp6(4),e.Q6J("disabled",!0!==o.options[t.PublishModes.Show])("ngClass",e.VKq(30,Ji,o.publishMode===t.PublishModes.Show)),e.xp6(4),e.Oqu(e.lcZ(15,18,"PublishStatus.Dialog.Show.Title")),e.xp6(3),e.Oqu(e.lcZ(18,20,"PublishStatus.Dialog.Show.Body")),e.xp6(2),e.Q6J("disabled",!0!==o.options[t.PublishModes.Hide])("ngClass",e.VKq(32,Ji,o.publishMode===t.PublishModes.Hide)),e.xp6(4),e.Oqu(e.lcZ(24,22,"PublishStatus.Dialog.Hide.Title")),e.xp6(3),e.Oqu(e.lcZ(27,24,"PublishStatus.Dialog.Hide.Body")),e.xp6(2),e.Q6J("disabled",!0!==o.options[t.PublishModes.Branch])("ngClass",e.VKq(34,Ji,o.publishMode===t.PublishModes.Branch)),e.xp6(3),e.Oqu(e.lcZ(32,26,"PublishStatus.Dialog.Branch.Title")),e.xp6(3),e.Oqu(e.lcZ(35,28,"PublishStatus.Dialog.Branch.Body"))}}let pf=(()=>{class i{constructor(t,n,a){this.dialogRef=t,this.publishStatusService=n,this.eavService=a,this.PublishModes=rn.eu,this.dialogRef.keydownEvents().subscribe(r=>{83===r.keyCode&&(navigator.platform.match("Mac")?r.metaKey:r.ctrlKey)&&r.preventDefault()})}ngOnInit(){const t=this.publishStatusService.getPublishMode$(this.eavService.eavConfig.formId);this.viewModel$=(0,J.a)([t]).pipe((0,I.U)(([n])=>({publishMode:n,options:this.eavService.eavConfig.versioningOptions})))}setPublishMode(t){this.publishStatusService.setPublishMode(t,this.eavService.eavConfig.formId,this.eavService),this.closeDialog()}closeDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36($e.so),e.Y36(ne.Vn),e.Y36(C.WV))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-publish-status-dialog"]],decls:2,vars:3,consts:[[1,"eav-card-content__no-padding"],["toggle",""],["lines","3",3,"disabled","ngClass","click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemIcon","","svgIcon","draft-branch"]],template:function(n,a){if(1&n&&(e.YNc(0,uf,36,36,"mat-card"),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[A.mk,Ie.a8,Ie.dn,Ie.dk,Ie.$j,Ie.n5,k.Hw,et.Hk,et.Tg,et.Yt,et.sL,Fe.oO,A.Ov,ge.X$],styles:[".eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}"]})}return i})();class gf{constructor(o,t){this.ngZone=o,this.header=t,this.moveThreshold=2,this.stopClick=!1,this.eventListeners=[],this.ngZone.runOutsideAngular(()=>{const n=a=>{this.checkIfMouseMoved(a)};document.addEventListener("mouseup",n,{passive:!0}),this.eventListeners.push({element:document,type:"mouseup",listener:n})})}lngButtonDown(o){this.ngZone.runOutsideAngular(()=>{this.saveInitialPosition(o)})}lngButtonClick(o){this.ngZone.runOutsideAngular(()=>{this.doMove(o)})}stopClickIfMouseMoved(){return this.stopClick}destroy(){this.ngZone.runOutsideAngular(()=>{this.eventListeners.forEach(({element:o,type:t,listener:n})=>{o.removeEventListener(t,n)}),this.eventListeners=null})}saveInitialPosition(o){this.stopClick=!1,this.positionX=o.pageX,this.positionY=o.pageY}checkIfMouseMoved(o){this.positionX&&this.positionY?(this.stopClick=Math.abs(this.positionX+this.positionY-(o.pageX+o.pageY))>this.moveThreshold,this.positionX=null,this.positionY=null):this.stopClick=!1}doMove(o){if(this.stopClick)return;const t=o.target,n=t.getBoundingClientRect().left,a=t.getBoundingClientRect().width,r=this.header.getBoundingClientRect().left,s=this.header.getBoundingClientRect().width;this.header.scrollLeft+=n+a/2-(r+s/2)}}function wr(i){return i.substring(0,i.includes("(")?i.indexOf("(")-1:100).toLocaleUpperCase()}class mf{constructor(o,t,n){this.ngZone=o,this.header=t,this.areButtonsDisabled=n,this.eventListeners=[],this.ngZone.runOutsideAngular(()=>{const a=this.registerScroll.bind(this);this.header.addEventListener("pointerdown",a,{passive:!0}),this.headerDownListener={element:this.header,type:"pointerdown",listener:a}})}destroy(){this.ngZone.runOutsideAngular(()=>{this.headerDownListener.element.removeEventListener(this.headerDownListener.type,this.headerDownListener.listener),this.headerDownListener=null,this.eventListeners.forEach(({element:o,type:t,listener:n})=>{o.removeEventListener(t,n)}),this.eventListeners=null}),this.ngZone=null,this.header=null,this.areButtonsDisabled=null}registerScroll(o){if(this.areButtonsDisabled()||0!==o.button)return;window.getSelection().removeAllRanges(),this.oldScrollBehavior=getComputedStyle(this.header).getPropertyValue("scroll-behavior"),this.header.style.scrollBehavior="auto",this.positionX=o.pageX;const n=r=>{this.doScroll(r)},a=()=>{this.removeScroll()};document.addEventListener("pointermove",n,{passive:!0}),document.addEventListener("pointerup",a,{passive:!0}),document.addEventListener("pointerleave",a,{passive:!0}),this.eventListeners.push({element:document,type:"pointermove",listener:n},{element:document,type:"pointerup",listener:a},{element:document,type:"pointerleave",listener:a})}removeScroll(){this.header.style.scrollBehavior=this.oldScrollBehavior,this.eventListeners.forEach(({element:o,type:t,listener:n})=>{o.removeEventListener(t,n)}),this.eventListeners.splice(0,this.eventListeners.length)}doScroll(o){const t=o.pageX;t<this.positionX?this.header.scrollLeft+=this.positionX-t:t>this.positionX&&(this.header.scrollLeft+=-(t-this.positionX)),this.positionX=t}}class _f{constructor(o,t,n,a){this.ngZone=o,this.header=t,this.leftShadow=n,this.rightShadow=a,this.hidden="hidden",this.eventListeners=[],this.ngZone.runOutsideAngular(()=>{this.calculateShadows();const r=()=>{this.calculateShadows()};this.header.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",r,{passive:!0}),this.eventListeners.push({element:this.header,type:"scroll",listener:r},{element:window,type:"resize",listener:r})})}destroy(){this.ngZone.runOutsideAngular(()=>{this.eventListeners.forEach(({element:o,type:t,listener:n})=>{o.removeEventListener(t,n)}),this.eventListeners=null}),this.ngZone=null,this.header=null,this.leftShadow=null,this.rightShadow=null}calculateShadows(){this.maxScrollLeft=this.header.scrollWidth-this.header.clientWidth,0===this.maxScrollLeft?this.hideBoth():0===this.header.scrollLeft?this.hideLeft():this.header.scrollLeft===this.maxScrollLeft?this.hideRight():this.showBoth()}hideBoth(){this.leftShadow.classList.add(this.hidden),this.rightShadow.classList.add(this.hidden)}hideLeft(){this.leftShadow.classList.add(this.hidden),this.rightShadow.classList.remove(this.hidden)}hideRight(){this.leftShadow.classList.remove(this.hidden),this.rightShadow.classList.add(this.hidden)}showBoth(){this.leftShadow.classList.remove(this.hidden),this.rightShadow.classList.remove(this.hidden)}}const ff=["scrollable"],vf=["leftShadow"],yf=["rightShadow"];function xf(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("mousedown",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.lngButtonMouseDown(a))})("click",function(a){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.lngButtonClick(a,s))}),e._uU(1),e.qZA()}if(2&i){const t=o.$implicit,n=e.oxw(),a=e.oxw();e.Q6J("disabled",a.disabled&&n.currentLanguage!==t.NameId)("color",n.currentLanguage===t.NameId?"accent":"white")("tippy",t.Culture)("tippyDisabled",a.disabled),e.xp6(1),e.hij(" ",t.buttonText," ")}}function Cf(i,o){if(1&i&&(e.TgZ(0,"div",1),e._UZ(1,"div",2,3)(3,"div",4,5),e.TgZ(5,"div",6,7),e.ALo(7,"translate"),e.SjG(8,xf,2,5,"button",9,e.x6l),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("tippy",e.lcZ(7,2,"Message.CantSwitchLanguage"))("tippyDisabled",!t.disabled),e.xp6(3),e.wJu(o.languageButtons)}}let bf=(()=>{class i{constructor(t,n,a,r){this.languageService=t,this.languageInstanceService=n,this.ngZone=a,this.eavService=r}ngOnInit(){const t=this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId),n=this.languageService.getLanguages$().pipe((0,I.U)(a=>function hf(i){const o=[],t={};return i.forEach(n=>{const a=wr(n.Culture);t[a]?t[a]++:t[a]=1}),i.forEach(n=>{const a=wr(n.Culture);o.push({...n,buttonText:t[a]>1?`${a} (${n.NameId})`:a})}),o}(a)));this.viewModel$=(0,J.a)([t,n]).pipe((0,I.U)(([a,r])=>({currentLanguage:a,languageButtons:r})))}ngAfterViewInit(){this.showShadowsHelper=new _f(this.ngZone,this.headerRef.nativeElement,this.leftShadowRef.nativeElement,this.rightShadowRef.nativeElement),this.mouseScrollHelper=new mf(this.ngZone,this.headerRef.nativeElement,this.areButtonsDisabled.bind(this)),this.centerSelectedHelper=new gf(this.ngZone,this.headerRef.nativeElement)}ngOnDestroy(){this.centerSelectedHelper.destroy(),this.mouseScrollHelper.destroy(),this.showShadowsHelper.destroy()}lngButtonMouseDown(t){this.centerSelectedHelper.lngButtonDown(t)}lngButtonClick(t,n){this.disabled||(this.centerSelectedHelper.lngButtonClick(t),this.centerSelectedHelper.stopClickIfMouseMoved()||this.languageInstanceService.setCurrentLanguage(this.eavService.eavConfig.formId,n.NameId))}areButtonsDisabled(){return this.disabled}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(ne.TS),e.Y36(ne._K),e.Y36(e.R0b),e.Y36(C.WV))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-language-switcher"]],viewQuery:function(n,a){if(1&n&&(e.Gf(ff,5),e.Gf(vf,5),e.Gf(yf,5)),2&n){let r;e.iGM(r=e.CRH())&&(a.headerRef=r.first),e.iGM(r=e.CRH())&&(a.leftShadowRef=r.first),e.iGM(r=e.CRH())&&(a.rightShadowRef=r.first)}},inputs:{disabled:"disabled"},decls:2,vars:3,consts:[["class","scrollable__overlay"],[1,"scrollable__overlay"],[1,"scrollable__overlay--left-shadow"],["leftShadow",""],[1,"scrollable__overlay--right-shadow"],["rightShadow",""],[1,"scrollable","lang-switch",3,"tippy","tippyDisabled"],["scrollable",""],["mat-flat-button","",1,"lang-switch__button",3,"disabled","color","tippy","tippyDisabled","mousedown","click"],["mat-flat-button","","class","lang-switch__button",3,"disabled","color","tippy","tippyDisabled"]],template:function(n,a){if(1&n&&(e.YNc(0,Cf,10,4,"div",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[He.$,N.lW,A.Ov,ge.X$],styles:['.scrollable__overlay[_ngcontent-%COMP%]{position:relative;height:100%}.scrollable__overlay--left-shadow[_ngcontent-%COMP%], .scrollable__overlay--right-shadow[_ngcontent-%COMP%]{content:"";position:absolute;top:0;display:block;z-index:1;pointer-events:none;height:100%;width:80px;background-image:linear-gradient(90deg,white 8px,rgba(255,255,255,0))}@media (max-width: 600px){.scrollable__overlay--left-shadow[_ngcontent-%COMP%], .scrollable__overlay--right-shadow[_ngcontent-%COMP%]{width:24px}}.scrollable__overlay--right-shadow[_ngcontent-%COMP%]{right:0;background-image:linear-gradient(270deg,white 8px,rgba(255,255,255,0))}.scrollable[_ngcontent-%COMP%]{overflow:hidden;scroll-behavior:smooth;height:100%;touch-action:none}.lang-switch[_ngcontent-%COMP%]{display:flex}.lang-switch__button[_ngcontent-%COMP%]{height:100%;flex-shrink:0;border-radius:0;margin-left:0!important;color:#0006;border-bottom:none;font-size:12px;line-height:54px;padding:0 6px;background-color:#fff!important}.lang-switch__button.mat-accent[_ngcontent-%COMP%]{color:#002753;border-bottom:2px solid #002753;background-color:inherit}.hidden[_ngcontent-%COMP%]{visibility:hidden}']})}return i})();function Df(i,o){if(1&i&&e._UZ(0,"app-language-switcher",5),2&i){const t=e.oxw(2);e.Q6J("disabled",t.disabled)}}function wf(i,o){if(1&i&&(e.TgZ(0,"mat-icon",10),e.ALo(1,"translate"),e._uU(2," lock "),e.qZA()),2&i){const t=e.oxw();e.Q6J("tippy",e.lcZ(1,2,"General.ReadOnlyHint."+t.readOnlyReason))("tippyDisabled",!t.readOnlyReason)}}function Mf(i,o){1&i&&(e.TgZ(0,"mat-icon",11),e.ALo(1,"translate"),e._uU(2," file_copy "),e.qZA()),2&i&&e.Q6J("tippy",e.lcZ(1,1,"General.CopyHint"))}function Af(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",1)(1,"button",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.ALo(2,"translate"),e.TgZ(3,"mat-icon",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,Df,1,1,"app-language-switcher",5),e.qZA(),e.YNc(7,wf,3,4,"mat-icon",6)(8,Mf,3,3,"mat-icon",7),e.TgZ(9,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openPublishStatusDialog())}),e.ALo(10,"translate"),e.TgZ(11,"span",9),e._uU(12),e.ALo(13,"translate"),e.TgZ(14,"b"),e._uU(15),e.ALo(16,"uppercase"),e.ALo(17,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("tippy",e.lcZ(2,9,t.eavService.eavConfig.isParentDialog?"Form.Buttons.Exit.Tip":"Form.Buttons.Return.Tip")),e.xp6(3),e.Oqu(t.eavService.eavConfig.isParentDialog?"clear":"arrow_back"),e.xp6(2),e.um2(6,o.hasLanguages?6:-1),e.xp6(1),e.um2(7,o.readOnly?7:-1),e.xp6(1),e.um2(8,t.eavService.eavConfig.isCopy?8:-1),e.xp6(1),e.Q6J("disabled",o.readOnly)("tippy",e.lcZ(10,11,"PublishStatus."+o.publishMode+".Tip")),e.xp6(3),e.hij(" ",e.lcZ(13,13,"PublishStatus.Label")," "),e.xp6(3),e.Oqu(e.lcZ(16,15,e.lcZ(17,17,"PublishStatus."+o.publishMode)))}}let kf=(()=>{class i{constructor(t,n,a,r,s,d){this.dialog=t,this.viewContainerRef=n,this.languageService=a,this.publishStatusService=r,this.eavService=s,this.formsStateService=d,this.closeDialog=new e.vpe}ngOnInit(){const t=this.formsStateService.readOnly$,n=this.languageService.getLanguages$().pipe((0,I.U)(r=>r.length>0)),a=this.publishStatusService.getPublishMode$(this.eavService.eavConfig.formId);this.viewModel$=(0,J.a)([t,n,a]).pipe((0,I.U)(([r,s,d])=>({readOnly:r.isReadOnly,readOnlyReason:r.reason,hasLanguages:s,publishMode:d})))}close(){this.closeDialog.emit()}openPublishStatusDialog(){this.dialog.open(pf,{autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"350px"})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36($e.uw),e.Y36(e.s_b),e.Y36(ne.TS),e.Y36(ne.Vn),e.Y36(C.WV),e.Y36(C.i3))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-dialog-header"]],inputs:{disabled:"disabled"},outputs:{closeDialog:"closeDialog"},decls:2,vars:3,consts:[["class","eav-header"],[1,"eav-header"],["mat-icon-button","",1,"eav-exit-button",3,"tippy","click"],[1,"eav-icon"],[1,"eav-languages"],[3,"disabled"],["class","eav-hint-icon",3,"tippy","tippyDisabled"],["class","eav-hint-icon",3,"tippy"],["mat-button","",1,"eav-publish-button",3,"disabled","tippy","click"],[1,"eav-publish-mode"],[1,"eav-hint-icon",3,"tippy","tippyDisabled"],[1,"eav-hint-icon",3,"tippy"]],template:function(n,a){if(1&n&&(e.YNc(0,Af,18,19,"mat-card",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[He.$,N.lW,N.RK,Ie.a8,k.Hw,bf,A.Ov,A.gd,ge.X$],styles:[".eav-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:0 16px;border-bottom-left-radius:0;border-bottom-right-radius:0;height:52px;z-index:1;box-shadow:0 2px 5px #00000042}@media (max-width: 600px){.eav-header[_ngcontent-%COMP%]{border-radius:0}}.eav-header[_ngcontent-%COMP%]   .eav-exit-button[_ngcontent-%COMP%]   .eav-icon[_ngcontent-%COMP%]{scale:.6666666667}.eav-header[_ngcontent-%COMP%]   .eav-languages[_ngcontent-%COMP%]{margin-left:12px;flex-grow:1;overflow:hidden;height:100%}.eav-header[_ngcontent-%COMP%]   .eav-hint-icon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-header[_ngcontent-%COMP%]   .eav-publish-button[_ngcontent-%COMP%]{margin-right:-6px;padding:0 10px;height:30px;line-height:32px;flex-shrink:0}.eav-header[_ngcontent-%COMP%]   .eav-publish-mode[_ngcontent-%COMP%]{font-weight:400}"]})}return i})();const Sf={Data:"data",Formulas:"formulas",Logs:"logs"};function Tf(i,o){1&i&&(e.TgZ(0,"textarea",1),e._uU(1),e.ALo(2,"json"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,o.items)))}let Ff=(()=>{class i{constructor(t,n){this.itemService=t,this.eavService=n}ngOnInit(){const t=this.itemService.getItems$(this.eavService.eavConfig.itemGuids);this.viewModel$=(0,J.a)([t]).pipe((0,I.U)(([n])=>({items:n})))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(ne.en),e.Y36(C.WV))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-data-dump"]],decls:2,vars:3,consts:[["readonly","","class","fancy-scrollbar-light"],["readonly","",1,"fancy-scrollbar-light"]],template:function(n,a){if(1&n&&(e.YNc(0,Tf,3,3,"textarea",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[A.Ov,A.Ts],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex}textarea[_ngcontent-%COMP%]{flex:1 1 auto;margin:0;padding:10px 0 10px 10px;border:0px;box-sizing:border-box;resize:none;outline:none;background-color:#1d273d0a}"]})}return i})();var ji=p(1891),Ef=p(4472),Mr=p(3336),Qi=p(1283),Ar=p(6500);const Zn={Entity:"entityGuid",Field:"fieldValue",Target:"formulaTarget"};let Of=(()=>{class i{constructor(){this.maxLength=24}transform(t){return t.length<=this.maxLength?t:`\u2026${t.substring(t.length-this.maxLength)}`}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275pipe=e.Yjl({name:"snippetLabelSize",type:i,pure:!0})}return i})();const Wi=i=>({"has-formula":i});function Lf(i,o){if(1&i&&(e.TgZ(0,"mat-option",25)(1,"span",26),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.Q6J("value",t.entityGuid),e.xp6(1),e.Q6J("ngClass",e.VKq(3,Wi,t.hasFormula)),e.xp6(1),e.hij(" ",t.label," ")}}function If(i,o){if(1&i&&(e.TgZ(0,"mat-option",25)(1,"span",26),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.Q6J("value",t.fieldName),e.xp6(1),e.Q6J("ngClass",e.VKq(3,Wi,t.hasFormula)),e.xp6(1),e.hij(" ",t.fieldName," ")}}function Yf(i,o){if(1&i&&(e.TgZ(0,"mat-option",25)(1,"span",26),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.Q6J("value",t.target),e.xp6(1),e.Q6J("ngClass",e.VKq(3,Wi,t.hasFormula)),e.xp6(1),e.hij(" ",t.label," ")}}function Pf(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-select",3),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(3);return e.KtG(r.selectedChanged(r.SelectTargets.Target,a))}),e.SjG(1,Yf,3,5,"mat-option",25,e.x6l),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.designer.target)("disabled",null==t.designer.entityGuid||null==t.designer.fieldName),e.xp6(1),e.wJu(t.targetOptions)}}function Rf(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(3);return e.KtG(r.selectedChanged(r.SelectTargets.Target,a))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.designer.target)("disabled",null==t.designer.entityGuid||null==t.designer.fieldName)}}function Nf(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.copyToClipboard(r.code))}),e._uU(1),e.ALo(2,"snippetLabelSize"),e.qZA()}if(2&i){const t=o.$implicit;e.Q6J("title",t.code),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.label)," ")}}function Zf(i,o){1&i&&e._UZ(0,"div",29)}function $f(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.copyToClipboard(r.code))}),e._uU(1),e.ALo(2,"snippetLabelSize"),e.qZA()}if(2&i){const t=o.$implicit;e.Q6J("title",t.code),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.label)," ")}}function zf(i,o){1&i&&(e.TgZ(0,"span",32),e._uU(1,"undefined"),e.qZA())}function Vf(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"promise(\u{1f91e}\u{1f3fd})"),e.qZA())}function Gf(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,t.result))}}function Hf(i,o){if(1&i&&e.YNc(0,zf,2,0,"span",31)(1,Vf,2,0,"span")(2,Gf,3,3,"span"),2&i){const t=e.oxw(2);e.um2(0,void 0!==t.result||t.resultIsOnlyPromise?-1:0),e.xp6(1),e.um2(1,void 0===t.result&&t.resultIsOnlyPromise?1:-1),e.xp6(1),e.um2(2,void 0!==t.result?2:-1)}}function Uf(i,o){1&i&&(e.TgZ(0,"span",33),e._uU(1," Calculation failed. Please check logs for more info "),e.qZA())}function Bf(i,o){if(1&i&&e.YNc(0,Hf,3,3)(1,Uf,2,0,"span",30),2&i){const t=e.oxw();e.um2(0,t.resultIsError?-1:0),e.xp6(1),e.um2(1,t.resultIsError?1:-1)}}function qf(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.save())}),e.TgZ(1,"mat-icon"),e._uU(2,"save"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("tippyDisabled",!t.designer.editMode||!(null!=t.formula&&t.formula.source))("disabled",!t.designer.editMode||!(null!=t.formula&&t.formula.source)||t.saving)}}const Jf=(i,o)=>({disabled:i,focused:o}),jf=i=>({disabled:i});function Qf(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"Entity"),e.qZA(),e.TgZ(4,"mat-select",2),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectedChanged(r.SelectTargets.Entity,a))}),e.SjG(5,Lf,3,5,"mat-option",25,e.QCX().trackEntityOptions),e.qZA()(),e.TgZ(7,"mat-form-field",1)(8,"mat-label"),e._uU(9,"Attribute"),e.qZA(),e.TgZ(10,"mat-select",3),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectedChanged(r.SelectTargets.Field,a))}),e.SjG(11,If,3,5,"mat-option",25,e.QCX().trackFieldOptions),e.qZA()(),e.TgZ(13,"mat-form-field",1)(14,"mat-label"),e._uU(15,"Target"),e.qZA(),e.YNc(16,Pf,3,2,"mat-select",4)(17,Rf,1,2,"input",5),e.qZA(),e.TgZ(18,"button",6),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleFreeText())}),e.TgZ(19,"mat-icon"),e._uU(20,"text_fields"),e.qZA()(),e._UZ(21,"div",7),e.TgZ(22,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openFormulasHelp())}),e.TgZ(23,"mat-icon"),e._uU(24,"help"),e.qZA()()(),e.TgZ(25,"div",9)(26,"div",10)(27,"mat-label",11),e._uU(28,"Function"),e.qZA(),e.TgZ(29,"app-monaco-editor",12),e.NdJ("valueChanged",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.formulaChanged(a))})("focused",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onFocused())})("blurred",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onBlurred())}),e.qZA()(),e.TgZ(30,"div",13),e.SjG(31,Nf,3,4,"div",35,e.QCX().trackSnippets),e.YNc(33,Zf,1,0,"div",14),e.SjG(34,$f,3,4,"div",35,e.QCX().trackSnippets),e.qZA()(),e.TgZ(36,"div",15)(37,"div",16)(38,"span",11),e._uU(39,"Result:\xa0"),e.qZA(),e.YNc(40,Bf,2,2),e.qZA(),e.TgZ(41,"div",17)(42,"button",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleEdit())}),e.TgZ(43,"mat-icon"),e._uU(44,"edit"),e.qZA()(),e.TgZ(45,"button",19)(46,"mat-icon"),e._uU(47,"more_vert"),e.qZA()(),e.TgZ(48,"mat-menu",null,20)(50,"button",21),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.deleteFormula())}),e.TgZ(51,"mat-icon"),e._uU(52,"delete"),e.qZA(),e.TgZ(53,"span"),e._uU(54,"Delete"),e.qZA()(),e.TgZ(55,"button",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.reset())}),e.TgZ(56,"mat-icon"),e._uU(57,"history"),e.qZA(),e.TgZ(58,"span"),e._uU(59,"Reset"),e.qZA()()(),e.YNc(60,qf,3,2,"button",23),e.TgZ(61,"button",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.run())}),e.TgZ(62,"mat-icon"),e._uU(63,"play_arrow"),e.qZA()()()()}if(2&i){const t=e.MAs(49),n=e.oxw(2);let a;e.xp6(4),e.Q6J("ngModel",o.designer.entityGuid),e.xp6(1),e.wJu(o.entityOptions),e.xp6(5),e.Q6J("ngModel",o.designer.fieldName)("disabled",null==o.designer.entityGuid),e.xp6(1),e.wJu(o.fieldOptions),e.xp6(5),e.um2(16,n.freeTextTarget?-1:16),e.xp6(1),e.um2(17,n.freeTextTarget?17:-1),e.xp6(1),e.Q6J("disabled",null==o.designer.entityGuid||null==o.designer.fieldName),e.xp6(8),e.Q6J("ngClass",e.WLB(18,Jf,!o.designer.editMode||null==o.designer.entityGuid||null==o.designer.fieldName||null==o.designer.target,n.focused)),e.xp6(3),e.Q6J("filename",n.filename)("value",null!==(a=null==o.formula?null:o.formula.source)&&void 0!==a?a:n.placeholder)("jsTypings",o.typings)("options",n.monacoOptions),e.xp6(1),e.Q6J("ngClass",e.VKq(21,jf,!o.designer.editMode)),e.xp6(1),e.wJu(o.dataSnippets),e.xp6(2),e.um2(33,null!=o.dataSnippets&&o.dataSnippets.length&&null!=o.contextSnippets&&o.contextSnippets.length?33:-1),e.xp6(1),e.wJu(o.contextSnippets),e.xp6(6),e.um2(40,o.resultExists?40:-1),e.xp6(5),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("disabled",!(null!=o.formula&&o.formula.sourceId)),e.xp6(10),e.um2(60,n.allowSaveFormula?60:-1),e.xp6(1),e.Q6J("disabled",!o.designer.editMode||!(null!=o.formula&&o.formula.source))}}function Wf(i,o){if(1&i&&(e.YNc(0,Qf,64,23),e.ALo(1,"async")),2&i){const t=e.oxw();let n;e.um2(0,(n=e.lcZ(1,1,t.viewModel$))?0:-1,n)}}let Kf=(()=>{class i{constructor(t,n,a,r,s,d,g){this.formulaDesignerService=t,this.snackBar=n,this.eavService=a,this.entitiesService=r,this.itemService=s,this.contentTypeService=d,this.translate=g,this.SelectTargets=Zn,this.loadError=!1,this.freeTextTarget=!1,this.allowSaveFormula=this.eavService.eavConfig.enableFormulaSave,this.isDeleted$=new me.X(!1),this.saving$=new me.X(!1),this.monacoOptions={minimap:{enabled:!1},lineHeight:19,lineNumbers:"off",lineDecorationsWidth:0,folding:!1,scrollBeyondLastLine:!1,tabSize:2,fixedOverflowWidgets:!0},this.filename=`formula${this.eavService.eavConfig.formId}.js`,this.placeholder=Mr.FD,this.focused=!1}ngOnInit(){this.loadError=!1,null!=this.formBuilderRefs?(this.formulaDesignerService.setDesignerOpen(!0),this.buildViewModel()):this.loadError=!0}ngOnDestroy(){this.formulaDesignerService.setDesignerOpen(!1),this.saving$.complete()}trackEntityOptions(t,n){return n.entityGuid}trackFieldOptions(t,n){return n.fieldName}trackSnippets(t,n){return n.code}selectedChanged(t,n){const a={...this.formulaDesignerService.getDesignerState(),editMode:!1};switch(t){case Zn.Entity:a.entityGuid=n;const r=this.formBuilderRefs.find(s=>s.entityGuid===a.entityGuid);a.fieldName=Object.keys(r.fieldsSettingsService.getFieldsProps())[0];break;case Zn.Field:a.fieldName=n;break;case Zn.Target:a.target=n}this.formulaDesignerService.setDesignerState(a)}toggleFreeText(){this.freeTextTarget=!this.freeTextTarget}formulaChanged(t){const n=this.formulaDesignerService.getDesignerState();this.formulaDesignerService.updateFormulaFromEditor(n.entityGuid,n.fieldName,n.target,t,!1)}onFocused(){this.focused=!0}onBlurred(){this.focused=!1}copyToClipboard(t){(0,Ef.v)(t),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}toggleEdit(){const t=this.formulaDesignerService.getDesignerState(),n={...t,editMode:!t.editMode};this.formulaDesignerService.setDesignerState(n),n.editMode&&null==this.formulaDesignerService.getFormula(n.entityGuid,n.fieldName,n.target,!0)&&this.formulaDesignerService.updateFormulaFromEditor(n.entityGuid,n.fieldName,n.target,Mr.FD,!1)}reset(){const t={...this.formulaDesignerService.getDesignerState(),editMode:!1};this.formulaDesignerService.setDesignerState(t),this.formulaDesignerService.resetFormula(t.entityGuid,t.fieldName,t.target),this.formBuilderRefs.find(n=>n.entityGuid===t.entityGuid).fieldsSettingsService.retriggerFormulas()}run(){const t=this.formulaDesignerService.getDesignerState(),n=this.formulaDesignerService.getFormula(t.entityGuid,t.fieldName,t.target,!0);this.formulaDesignerService.updateFormulaFromEditor(t.entityGuid,t.fieldName,t.target,n.source,!0),this.formBuilderRefs.find(a=>a.entityGuid===t.entityGuid).fieldsSettingsService.retriggerFormulas(),this.isDeleted$.next(!1)}save(){this.saving$.next(!0);const t=this.formulaDesignerService.getDesignerState(),n=this.formulaDesignerService.getFormula(t.entityGuid,t.fieldName,t.target,!0);if(null==n.sourceId){const a=this.itemService.getItem(n.entityGuid),r=oe.YB.getContentTypeId(a),g=this.contentTypeService.getContentType(r).Attributes.find(b=>b.Name===n.fieldName).Metadata.find(b=>"@All"===b.Type.Id);return g?void this.entitiesService.create(pt.Zy.contentTypes.formulas,{Title:n.target,Target:n.target,Formula:n.source,Enabled:!0,ParentRelationship:{Add:null,EntityId:null,Field:"Formulas",Index:0,Parent:g.Guid}}).subscribe(b=>{this.formulaDesignerService.updateSaved(n.entityGuid,n.fieldName,n.target,n.source,b.Guid,b.Id),this.snackBar.open("Formula saved",null,{duration:2e3}),this.saving$.next(!1)}):(this.snackBar.open("Field configuration is missing. Please create formula in Administration",void 0,{duration:3e3}),void this.saving$.next(!1))}this.entitiesService.update(pt.Zy.contentTypes.formulas,n.sourceId,{Formula:n.source}).subscribe(()=>{this.formulaDesignerService.updateSaved(n.entityGuid,n.fieldName,n.target,n.source,n.sourceGuid,n.sourceId),this.snackBar.open("Formula saved",null,{duration:2e3}),this.saving$.next(!1)})}deleteFormula(){const t=this.formulaDesignerService.getDesignerState(),n=this.formulaDesignerService.getFormula(t.entityGuid,t.fieldName,t.target,!0);confirm(this.translate.instant("Data.Delete.Question",{title:n.fieldName+" - "+n.target,id:n.sourceId}))&&this.entitiesService.delete(pt.Zy.contentTypes.formulas,n.sourceId,!0).subscribe({next:()=>{this.formulaDesignerService.delete(n.entityGuid,n.fieldName,n.target),this.snackBar.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.isDeleted$.next(!0),t.editMode&&this.toggleEdit()},error:d=>{this.snackBar.open(this.translate.instant("Message.DeleteError"),null,{duration:2e3})}})}openFormulasHelp(){window.open("https://go.2sxc.org/formulas","_blank")}buildViewModel(){const t=this.formulaDesignerService.getDesignerState();if(null==t.entityGuid&&null==t.fieldName&&null==t.target){const D=this.formBuilderRefs.first.entityGuid,q=this.formBuilderRefs.first.fieldsSettingsService.getFieldsProps(),X=Object.keys(q)[0],se=null!=X?Ar.C4.Value:null,le={...t,entityGuid:D,fieldName:X,target:se};this.formulaDesignerService.setDesignerState(le)}const n=this.formulaDesignerService.getDesignerState$(),a=(0,J.a)([n,this.formulaDesignerService.getFormulas$()]).pipe((0,I.U)(([D,q])=>{const X=this.formBuilderRefs.map(xe=>({entityGuid:xe.entityGuid,hasFormula:q.some(be=>be.entityGuid===xe.entityGuid),label:xe.fieldsSettingsService.getContentTypeSettings()._itemTitle})),se=[];if(null!=D.entityGuid){const Ze=this.formBuilderRefs.find(be=>be.entityGuid===D.entityGuid).fieldsSettingsService.getFieldsProps();for(const be of Object.keys(Ze)){const ze={fieldName:be,hasFormula:q.some(Be=>Be.entityGuid===D.entityGuid&&Be.fieldName===be),label:be};se.push(ze)}}const le=[];if(null!=D.entityGuid&&null!=D.fieldName){for(const Ye of Object.values(Ar.C4)){const vt={hasFormula:q.some(dt=>dt.entityGuid===D.entityGuid&&dt.fieldName===D.fieldName&&dt.target===Ye),label:Ye.substring(Ye.lastIndexOf(".")+1),target:Ye};le.push(vt)}const xe=this.itemService.getItem(D.entityGuid),Ze=oe.YB.getContentTypeId(xe),Be=this.contentTypeService.getContentType(Ze).Attributes.find(Ye=>Ye.Name===D.fieldName).InputType;if(Dn.z.isGroupStart(Be))for(const Ye of["Field.Settings.Collapsed"]){const vt={hasFormula:q.some(dt=>dt.entityGuid===D.entityGuid&&dt.fieldName===D.fieldName&&dt.target===Ye),label:Ye.substring(Ye.lastIndexOf(".")+1),target:Ye};le.push(vt)}if(Be===_e.v.StringDropdown||Be===_e.v.NumberDropdown)for(const Ye of["Field.Settings.DropdownValues"]){const vt={hasFormula:q.some(dt=>dt.entityGuid===D.entityGuid&&dt.fieldName===D.fieldName&&dt.target===Ye),label:Ye.substring(Ye.lastIndexOf(".")+1),target:Ye};le.push(vt)}const Pt=q.filter(Ye=>Ye.entityGuid===D.entityGuid&&Ye.fieldName===D.fieldName);for(const Ye of Pt){if(le.some(Rt=>Rt.target===Ye.target))continue;const dt={hasFormula:!0,label:Ye.target.substring(Ye.target.lastIndexOf(".")+1),target:Ye.target};le.push(dt)}if(!le.some(Ye=>Ye.target===D.target)){const Ye={hasFormula:q.some(vt=>vt.entityGuid===D.entityGuid&&vt.fieldName===D.fieldName&&vt.target===D.target),label:D.target.substring(D.target.lastIndexOf(".")+1),target:D.target};le.push(Ye)}}return{entityOptions:X,fieldOptions:se,targetOptions:le}})),r=n.pipe((0,ji.w)(D=>this.formulaDesignerService.getFormula$(D.entityGuid,D.fieldName,D.target,!0))),s=n.pipe((0,I.U)(D=>D.entityGuid),(0,K.x)(),(0,ji.w)(D=>this.itemService.getItemHeader$(D))),d=(0,J.a)([a,r,s]).pipe((0,I.U)(([D,q,X])=>null!=q&&null!=X?Qi.u.buildDesignerSnippetsData(q,D.fieldOptions,X.Prefill):[])),g=(0,J.a)([r]).pipe((0,I.U)(([D])=>null!=D?Qi.u.buildDesignerSnippetsContext(D):[])),b=(0,J.a)([a,r,s]).pipe((0,I.U)(([D,q,X])=>null!=q&&null!=X?Qi.u.buildFormulaTypings(q,D.fieldOptions,X.Prefill):"")),F=n.pipe((0,ji.w)(D=>this.formulaDesignerService.getFormulaResult$(D.entityGuid,D.fieldName,D.target)));this.viewModel$=(0,J.a)([(0,J.a)([a,r,d,g,b,n]),(0,J.a)([F,this.saving$,this.isDeleted$])]).pipe((0,I.U)(([[D,q,X,se,le,Oe],[xe,Ze,be]])=>({entityOptions:D.entityOptions,fieldOptions:D.fieldOptions,targetOptions:D.targetOptions,formula:q,designer:Oe,dataSnippets:X,contextSnippets:se,typings:le,result:xe?.value,resultExists:null!=xe&&!be,resultIsError:xe?.isError??!1,resultIsOnlyPromise:xe?.isOnlyPromise??!1,saving:Ze})))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(Bi.k),e.Y36(yt.ux),e.Y36(C.WV),e.Y36(Co.g),e.Y36(ne.en),e.Y36(ne.h1),e.Y36(ge.sK))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-formula-designer"]],inputs:{formBuilderRefs:"formBuilderRefs"},decls:1,vars:1,consts:[[1,"formula-context-box"],["color","accent",1,"eav-form-field"],[3,"ngModel","ngModelChange"],[3,"ngModel","disabled","ngModelChange"],[3,"ngModel","disabled"],["matInput","",3,"ngModel","disabled"],["mat-icon-button","","tippy","FreeText Target",1,"eav-formula-button",3,"disabled","click"],[1,"spacer"],["mat-icon-button","","tippy","Help",1,"eav-formula-button",3,"click"],[1,"formula-box"],[1,"formula-field",3,"ngClass"],[1,"label"],[1,"editor",3,"filename","value","jsTypings","options","valueChanged","focused","blurred"],[1,"formula-snippets","fancy-scrollbar-light",3,"ngClass"],["class","separator"],[1,"formula-footer-box"],[1,"formula-result-box","hide-scrollbar"],[1,"formula-actions-box"],["mat-icon-button","","tippy","Edit",1,"eav-formula-action-button",3,"click"],["mat-icon-button","","tippy","Menu",1,"eav-formula-action-button",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"click"],["mat-icon-button","","tippy","Save","class","eav-formula-action-button",3,"tippyDisabled","disabled"],["mat-icon-button","","tippy","Run",1,"eav-formula-action-button",3,"disabled","click"],[3,"value"],[3,"ngClass"],["matInput","",3,"ngModel","disabled","ngModelChange"],[1,"snippet",3,"title","click"],[1,"separator"],["class","result-error"],["class","result-undefined"],[1,"result-undefined"],[1,"result-error"],["mat-icon-button","","tippy","Save",1,"eav-formula-action-button",3,"tippyDisabled","disabled","click"],["class","snippet",3,"title"]],template:function(n,a){1&n&&e.YNc(0,Wf,2,3),2&n&&e.um2(0,a.loadError?-1:0)},dependencies:[He.$,A.mk,N.RK,De.Nt,ie.KE,ie.hX,nn.gD,T.ey,Z.Fj,Z.JJ,k.Hw,Ge.VK,Ge.OP,Ge.p6,Z.On,Fo.T,Fe.oO,A.Ov,A.Ts,Of],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;box-sizing:border-box;overflow:hidden;border-top:1px solid lightgray;padding-top:8px}.formula-context-box[_ngcontent-%COMP%]{display:flex;align-items:center}.formula-context-box[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px}.formula-context-box[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]:not(:first-of-type){margin-left:8px}.has-formula[_ngcontent-%COMP%]{font-weight:700}.formula-box[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;overflow:hidden}.formula-box[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{flex:0 1 auto;font-size:14px;width:100%}.formula-box[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:monospace}.formula-box[_ngcontent-%COMP%]   .formula-field[_ngcontent-%COMP%]{flex:0 1 auto;width:100%;overflow:hidden;margin-bottom:6px}.formula-box[_ngcontent-%COMP%]   .formula-snippets[_ngcontent-%COMP%]{flex:0 0 auto;max-width:200px;max-height:194px;overflow:hidden auto;padding-left:2px}.formula-box[_ngcontent-%COMP%]   .formula-snippets.disabled[_ngcontent-%COMP%]   .snippet[_ngcontent-%COMP%]{pointer-events:none;color:#1d273d70}.formula-box[_ngcontent-%COMP%]   .formula-snippets[_ngcontent-%COMP%]   .snippet[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;white-space:nowrap;padding-top:1px;padding-bottom:1px}.formula-box[_ngcontent-%COMP%]   .formula-snippets[_ngcontent-%COMP%]   .snippet[_ngcontent-%COMP%]:first-of-type{padding-top:0}.formula-box[_ngcontent-%COMP%]   .formula-snippets[_ngcontent-%COMP%]   .snippet[_ngcontent-%COMP%]:last-of-type{padding-bottom:0}.formula-box[_ngcontent-%COMP%]   .formula-snippets[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin-top:.5em;margin-bottom:.5em;border-bottom:1px solid rgba(29,39,61,.44)}.formula-footer-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;overflow:hidden;height:min-content}.formula-footer-box[_ngcontent-%COMP%]   .formula-result-box[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;height:-moz-fit-content;height:fit-content}.formula-footer-box[_ngcontent-%COMP%]   .formula-result-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500}.formula-footer-box[_ngcontent-%COMP%]   .formula-result-box[_ngcontent-%COMP%]   .result-undefined[_ngcontent-%COMP%], .formula-footer-box[_ngcontent-%COMP%]   .formula-result-box[_ngcontent-%COMP%]   .result-error[_ngcontent-%COMP%]{color:red}.formula-footer-box[_ngcontent-%COMP%]   .formula-actions-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;height:-moz-fit-content;height:fit-content}.formula-footer-box[_ngcontent-%COMP%]   .formula-actions-box[_ngcontent-%COMP%]   .mdc-icon-button[_ngcontent-%COMP%]{margin-left:0;width:30px;height:30px;line-height:30px;padding:0;flex-shrink:0}.formula-footer-box[_ngcontent-%COMP%]   .formula-actions-box[_ngcontent-%COMP%]   .mdc-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-top:5px;font-size:20px;width:20px;height:20px;line-height:20px!important}.formula-field[_ngcontent-%COMP%]{padding-top:28px;border-bottom:1px solid rgba(0,0,0,.2);padding-bottom:12px;position:relative}.formula-field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#0009;cursor:default;font-size:12px;transition:none;position:absolute;left:0;top:0;-webkit-user-select:none;user-select:none}.formula-field[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     .monaco-editor .scroll-decoration{display:none}.formula-field[_ngcontent-%COMP%]:hover{border-bottom:2px solid rgba(0,0,0,.4);padding-bottom:11px}.formula-field.focused[_ngcontent-%COMP%]{border-bottom:2px solid #002753;padding-bottom:11px}.formula-field.focused[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#002753}.formula-field.error[_ngcontent-%COMP%]{border-bottom:2px solid #b00030;padding-bottom:11px}.formula-field.error[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#b00030}.formula-field.disabled[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.formula-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]{pointer-events:none}.formula-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     *{color:#00000061}"]})}return i})();function Xf(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Logs are empty"),e.qZA())}const ev=(i,o)=>({"log-error":i,"log-warn":o});function tv(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"span",3),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e.TgZ(6,"span",5),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.logToConsole(r))}),e._uU(7," console "),e.qZA()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("ngClass",e.WLB(6,ev,t.severity===n.LogSeverities.Error,t.severity===n.LogSeverities.Warn)),e.xp6(2),e.hij("",e.xi3(3,3,t.time,"HH:mm:ss"),":"),e.xp6(3),e.Oqu(t.label)}}function nv(i,o){1&i&&(e.TgZ(0,"div",1),e.YNc(1,Xf,2,0,"div"),e.SjG(2,tv,8,9,"div",6,e.x6l),e.qZA()),2&i&&(e.xp6(1),e.um2(1,0===o.logs.length?1:-1),e.xp6(1),e.wJu(o.logs))}let iv=(()=>{class i{constructor(t){this.loggingService=t,this.LogSeverities=rn.GW}ngOnInit(){const t=this.loggingService.getLogs$();this.viewModel$=(0,J.a)([t]).pipe((0,I.U)(([n])=>({logs:n})))}logToConsole(t){switch(t.severity){case rn.GW.Log:console.log(t.label,t.error);break;case rn.GW.Warn:console.warn(t.label,t.error);break;case rn.GW.Error:console.error(t.label,t.error)}}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C.ed))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-logs-dump"]],decls:2,vars:3,consts:[["class","logs-box fancy-scrollbar-light"],[1,"logs-box","fancy-scrollbar-light"],[1,"log-entry",3,"ngClass"],[1,"log-entry-part","log-entry-time"],[1,"log-entry-part","log-entry-label"],["tippy","Log to console",1,"log-entry-part","log-entry-show",3,"click"],["class","log-entry",3,"ngClass"]],template:function(n,a){if(1&n&&(e.YNc(0,nv,4,1,"div",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[He.$,A.mk,Fe.oO,A.Ov,A.uU],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex}.logs-box[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto;font-size:14px}.log-entry[_ngcontent-%COMP%]{display:flex;align-items:center;box-sizing:border-box;border-bottom:1px solid rgb(240,240,240);padding-top:2px;padding-bottom:2px}.log-entry[_ngcontent-%COMP%]   .log-entry-part[_ngcontent-%COMP%]:not(:first-of-type){margin-left:8px}.log-error[_ngcontent-%COMP%]{color:red;border-color:#ffd6d6;background-color:#fff0f0}.log-warn[_ngcontent-%COMP%]{color:#5c3c00;border-color:#fff5c2;background-color:#fffbe5}.log-entry-time[_ngcontent-%COMP%]{flex:0 0 auto}.log-entry-label[_ngcontent-%COMP%]{flex:1 1 auto}.log-entry-show[_ngcontent-%COMP%]{flex:0 0 auto;color:#06599a;font-size:12px;text-decoration:underline;cursor:pointer}"]})}return i})();function av(i,o){1&i&&e._UZ(0,"app-data-dump")}function ov(i,o){if(1&i&&e._UZ(0,"app-formula-designer",9),2&i){const t=e.oxw(2);e.Q6J("formBuilderRefs",t.formBuilderRefs)}}function rv(i,o){1&i&&e._UZ(0,"app-logs-dump")}function sv(i,o){if(1&i&&(e.TgZ(0,"div",8),e.YNc(1,av,1,0,"app-data-dump")(2,ov,1,1,"app-formula-designer",9)(3,rv,1,0,"app-logs-dump"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.um2(1,t.activeDebug===t.DebugTypes.Data?1:-1),e.xp6(1),e.um2(2,t.activeDebug===t.DebugTypes.Formulas?2:-1),e.xp6(1),e.um2(3,t.activeDebug===t.DebugTypes.Logs?3:-1)}}const lv=i=>({"debug-enabled":i});let dv=(()=>{class i{constructor(){this.debugInfoOpened=new e.vpe,this.DebugTypes=Sf,this.sxcVer=window.sxcVersion.substring(0,window.sxcVersion.lastIndexOf("."))}ngOnInit(){}toggleDebugType(t){this.activeDebug=t!==this.activeDebug?t:null,this.debugInfoOpened.emit(null!=this.activeDebug)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-dialog-footer"]],inputs:{formBuilderRefs:"formBuilderRefs"},outputs:{debugInfoOpened:"debugInfoOpened"},decls:21,vars:5,consts:[["appearance","raised",1,"mat-elevation-z4",3,"ngClass"],[1,"debug-buttons-container"],["mat-button","","tippy","Show Data JSON",3,"click"],["mat-button","","tippy","Show Formula Designer",3,"click"],["mat-button","","tippy","Show Logs",3,"click"],[1,"spacer"],[1,"sxc-version"],["class","debug-info-container"],[1,"debug-info-container"],[3,"formBuilderRefs"]],template:function(n,a){1&n&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return a.toggleDebugType(a.DebugTypes.Data)}),e.TgZ(3,"mat-icon"),e._uU(4,"offline_bolt"),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Data"),e.qZA()(),e.TgZ(7,"button",3),e.NdJ("click",function(){return a.toggleDebugType(a.DebugTypes.Formulas)}),e.TgZ(8,"mat-icon"),e._uU(9,"functions"),e.qZA(),e.TgZ(10,"span"),e._uU(11,"Formulas"),e.qZA()(),e.TgZ(12,"button",4),e.NdJ("click",function(){return a.toggleDebugType(a.DebugTypes.Logs)}),e.TgZ(13,"mat-icon"),e._uU(14,"speed"),e.qZA(),e.TgZ(15,"span"),e._uU(16,"Logs"),e.qZA()(),e._UZ(17,"div",5),e.TgZ(18,"div",6),e._uU(19),e.qZA()(),e.YNc(20,sv,4,3,"div",7),e.qZA()),2&n&&(e.Q6J("ngClass",e.VKq(3,lv,null!=a.activeDebug)),e.xp6(19),e.hij("2sxc ",a.sxcVer,""),e.xp6(1),e.um2(20,null!=a.activeDebug?20:-1))},dependencies:[He.$,A.mk,N.lW,Ie.a8,k.Hw,Fe.oO,Ff,Kf,iv],styles:[".mat-mdc-card[_ngcontent-%COMP%]{padding:0;margin:0;border-top-left-radius:0;border-top-right-radius:0;height:52px;z-index:1;width:100%;display:flex;flex-direction:column;box-sizing:border-box}@media (max-width: 600px){.mat-mdc-card[_ngcontent-%COMP%]{border-radius:0}}.mat-mdc-card.debug-enabled[_ngcontent-%COMP%]{height:auto}.debug-buttons-container[_ngcontent-%COMP%]{padding:17px 16px 15px;height:52px;width:100%;display:flex;box-sizing:border-box;align-items:center}.debug-buttons-container[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]{margin-left:0}.debug-buttons-container[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:4px}.debug-buttons-container[_ngcontent-%COMP%]   .sxc-version[_ngcontent-%COMP%]{cursor:default}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.debug-info-container[_ngcontent-%COMP%]{margin:0 16px 16px!important;width:calc(100% - 32px);height:300px;box-sizing:border-box;position:relative;overflow:auto}"]})}return i})();var cv=p(9422);let uv=(()=>{class i extends _t.f{constructor(t,n,a,r){super(),this.elementRef=t,this.languageInstanceService=n,this.languageService=a,this.eavService=r}ngOnInit(){this.subscription.add((0,l.T)(this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId).pipe((0,cv.G)(),(0,I.U)(([t,n])=>{const a=this.languageService.getLanguages();return a.findIndex(g=>g.NameId===t)>a.findIndex(g=>g.NameId===n)?"previous":"next"})),(0,hi.R)(this.elementRef.nativeElement,"animationend").pipe((0,Y.h)(t=>"move-next"===t.animationName||"move-previous"===t.animationName),(0,I.U)(()=>""),(0,Do.g)(0))).subscribe(t=>{""===t?(this.elementRef.nativeElement.classList.remove("previous"),this.elementRef.nativeElement.classList.remove("next")):this.elementRef.nativeElement.classList.add(t)}))}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(ne._K),e.Y36(ne.TS),e.Y36(C.WV))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","appFormSlide",""]],features:[e.qOj]})}return i})();function pv(i,o){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-form-builder",12),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("entityGuid",t.Entity.Guid)}}function gv(i,o){if(1&i&&(e.TgZ(0,"div",11),e.SjG(1,pv,2,1,"div",null,e.QCX().trackByFn),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.wJu(t.items)}}function hv(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.saveAll(!0))}),e.TgZ(1,"mat-icon",16),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2),r=e.oxw();return e.KtG(a.saveButtonDisabled&&r.saveAll(!1))}),e._uU(2,"done"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("disabled",t.saveButtonDisabled),e.xp6(4),e.Oqu(e.lcZ(5,2,"Form.Buttons.SaveAndClose"))}}function mv(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.saveAll(!1))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"save"),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("disabled",t.saveButtonDisabled),e.xp6(2),e.Oqu(e.lcZ(3,2,"Form.Buttons.Save"))}}function _v(i,o){if(1&i&&(e.TgZ(0,"extended-fab-speed-dial",9),e.YNc(1,hv,6,4,"ng-template",13)(2,mv,6,4,"ng-template",14),e.qZA()),2&i){const t=e.oxw();e.Q6J("disabled",t.saveButtonDisabled)}}function fv(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-edit-dialog-footer",18),e.NdJ("debugInfoOpened",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.debugInfoOpened(a))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formBuilderRefs",t.formBuilderRefs)}}const vv=i=>({"u-display-none":i}),yv=(i,o,t)=>({"debug-enabled":i,"debug-info-is-open":o,"hide-header-height-fix":t});function xv(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"app-edit-dialog-header",3),e.NdJ("closeDialog",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeDialog())}),e.qZA()(),e.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),e.YNc(7,gv,3,0,"div",8),e.qZA()()(),e.YNc(8,_v,3,1,"extended-fab-speed-dial",9),e.qZA(),e.YNc(9,fv,1,1,"app-edit-dialog-footer",10),e.qZA()}2&i&&(e.xp6(1),e.Q6J("ngClass",e.VKq(6,vv,o.hideHeader)),e.xp6(1),e.Q6J("disabled",!o.formsValid),e.xp6(2),e.Q6J("ngClass",e.kEZ(8,yv,o.debugEnabled,o.debugInfoIsOpen,o.hideHeader)),e.xp6(3),e.um2(7,o.delayForm?-1:7),e.xp6(1),e.um2(8,o.viewInitiated?8:-1),e.xp6(1),e.um2(9,o.debugEnabled?9:-1))}let Cv=(()=>{class i extends _t.f{constructor(t,n,a,r,s,d,g,b,F,D,q,X,se,le,Oe,xe,Ze,be,ze,Be){super(),this.dialogRef=t,this.contentTypeItemService=n,this.contentTypeService=a,this.globalConfigService=r,this.eavService=s,this.inputTypeService=d,this.itemService=g,this.languageService=b,this.languageInstanceService=F,this.snackBar=D,this.translate=q,this.loadIconsService=X,this.editRoutingService=se,this.publishStatusService=le,this.formsStateService=Oe,this.entityCacheService=xe,this.adamCacheService=Ze,this.linkCacheService=be,this.stringQueryCacheService=ze,this.formulaDesignerService=Be,this.dialogRef.disableClose=!0}ngOnInit(){this.viewInitiated$=new me.X(!1),this.debugInfoIsOpen$=new me.X(!1),this.editRoutingService.init(),this.loadIconsService.load(),this.formsStateService.init(),this.formulaDesignerService.init();const t=(0,zt.of)(!1).pipe((0,Do.g)(0),(0,M.O)(!0)),n=this.itemService.getItems$(this.eavService.eavConfig.itemGuids),a=this.languageInstanceService.getHideHeader$(this.eavService.eavConfig.formId),r=this.formsStateService.formsValid$,s=this.formsStateService.saveButtonDisabled$,d=this.globalConfigService.getDebugEnabled$().pipe((0,wo.b)(g=>{this.debugInfoIsOpen$.value&&!g&&this.debugInfoIsOpen$.next(!1)}));this.viewModel$=(0,J.a)([(0,J.a)([n,r,t,this.viewInitiated$]),(0,J.a)([d,this.debugInfoIsOpen$,a,s])]).pipe((0,I.U)(([[g,b,F,D],[q,X,se,le]])=>({items:g,formsValid:b,delayForm:F,viewInitiated:D,debugEnabled:q,debugInfoIsOpen:X,hideHeader:se,saveButtonDisabled:le}))),this.startSubscriptions()}ngAfterViewInit(){setTimeout(()=>{this.viewInitiated$.next(!0)})}ngOnDestroy(){this.viewInitiated$.complete(),this.debugInfoIsOpen$.complete(),this.languageInstanceService.removeLanguageInstance(this.eavService.eavConfig.formId),this.publishStatusService.removePublishStatus(this.eavService.eavConfig.formId),this.eavService.eavConfig.isParentDialog&&(this.languageInstanceService.clearCache(),this.languageService.clearCache(),this.itemService.clearCache(),this.inputTypeService.clearCache(),this.contentTypeItemService.clearCache(),this.contentTypeService.clearCache(),this.publishStatusService.clearCache(),this.entityCacheService.clearCache(),this.adamCacheService.clearCache(),this.linkCacheService.clearCache(),this.stringQueryCacheService.clearCache()),super.ngOnDestroy()}closeDialog(t){t?this.dialogRef.close(this.eavService.eavConfig.createMode?this.saveResult:void 0):!this.formsStateService.readOnly$.value.isReadOnly&&this.formsStateService.formsDirty$.value?this.snackBarYouHaveUnsavedChanges():this.dialogRef.close(this.eavService.eavConfig.createMode?this.saveResult:void 0)}trackByFn(t,n){return n.Entity.Guid}saveAll(t){if(this.formsStateService.formsValid$.value){const n=this.formBuilderRefs.map(s=>{const d=this.itemService.getItem(s.entityGuid);if(!this.formsStateService.getFormValid(d.Entity.Guid))return;const b=Object.keys(d.Entity.Attributes).length>0,F=oe.YB.getContentTypeId(d),q=this.contentTypeService.getContentType(F).Metadata.some(se=>se.Type.Name===Re.Jw.SaveEmptyDecorator);return b||q?rf.bundleToDto(d):void 0}).filter(s=>null!=s),a=this.publishStatusService.getPublishStatus(this.eavService.eavConfig.formId),r={Items:n,IsPublished:a.IsPublished,DraftShouldBranch:a.DraftShouldBranch};(0,ft.P)("SAVE FORM DATA:",r),this.snackBar.open(this.translate.instant("Message.Saving"),null,{duration:2e3}),this.eavService.saveFormData(r,this.eavService.eavConfig.partOfPage).subscribe({next:s=>{(0,ft.P)("SAVED!, result:",s,"close:",t),this.itemService.updateItemId(s),this.snackBar.open(this.translate.instant("Message.Saved"),null,{duration:2e3}),this.formsStateService.formsDirty$.next(!1),this.saveResult=s,t&&this.closeDialog()},error:s=>{(0,ft.P)("SAVE FAILED:",s),this.snackBar.open("Error",null,{duration:2e3})}})}else{if(null==this.formBuilderRefs)return;const n=[];this.formBuilderRefs.forEach(s=>{s.form.invalid&&n.push(oe.fD.validateForm(s.form))});const a=[];n.forEach(s=>{Object.keys(s).forEach(d=>{a.push({field:d,message:s[d]})})}),this.snackBar.openFromComponent(lf,{data:{fieldErrors:a},duration:5e3})}}debugInfoOpened(t){this.debugInfoIsOpen$.next(t)}startSubscriptions(){this.subscription.add((0,hi.R)(window,"beforeunload").subscribe(t=>{this.formsStateService.readOnly$.value.isReadOnly||!this.formsStateService.formsDirty$.value||(t.preventDefault(),t.returnValue="",this.snackBarYouHaveUnsavedChanges())})),this.subscription.add(this.formsStateService.saveForm$.subscribe(t=>this.saveAll(t))),this.dialogRef.backdropClick().subscribe(t=>{this.closeDialog()}),this.dialogRef.keydownEvents().subscribe(t=>{if(27!==t.keyCode)return(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&83===t.keyCode?(t.preventDefault(),void(this.formsStateService.readOnly$.value.isReadOnly||this.saveAll(!1))):void 0;this.closeDialog()})}snackBarYouHaveUnsavedChanges(){const n=this.snackBar.openFromComponent(df,{data:{save:!1},duration:5e3});n.onAction().subscribe(()=>{n.containerInstance.snackBarConfig.data.save?this.saveAll(!0):this.closeDialog(!0)})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36($e.so),e.Y36(ne.mr),e.Y36(ne.h1),e.Y36(ne.bE),e.Y36(C.WV),e.Y36(ne.si),e.Y36(ne.en),e.Y36(ne.TS),e.Y36(ne._K),e.Y36(yt.ux),e.Y36(ge.sK),e.Y36(C.ef),e.Y36(C.nz),e.Y36(ne.Vn),e.Y36(C.i3),e.Y36(ne.r6),e.Y36(ne.ap),e.Y36(ne.f3),e.Y36(ne.uQ),e.Y36(Bi.k))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-dialog-main"]],viewQuery:function(n,a){if(1&n&&e.Gf(Dr,5),2&n){let r;e.iGM(r=e.CRH())&&(a.formBuilderRefs=r)}},features:[e._Bn([C.nz,C.i3,Bi.k]),e.qOj],decls:2,vars:3,consts:[["style","position: relative","mat-dialog__container","","appToggleDebug",""],["mat-dialog__container","","appToggleDebug","",2,"position","relative"],["mat-dialog-actions","",1,"form-header-container",3,"ngClass"],[1,"multi-item-edit-form-header",3,"disabled","closeDialog"],[2,"position","relative"],["mat-mdc-dialog-content","","cdkScrollable","",1,"eav-dialog-content","u-hide-scrollbar",3,"ngClass"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["class","eav-layout-grid__cell--span-12","appFormSlide",""],[3,"disabled"],["mat-dialog-actions","",3,"formBuilderRefs"],["appFormSlide","",1,"eav-layout-grid__cell--span-12"],[3,"entityGuid"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["extended-fab-speed-dial-trigger","","matRipple","",3,"disabled","click"],[3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"disabled","click"],["mat-dialog-actions","",3,"formBuilderRefs","debugInfoOpened"]],template:function(n,a){if(1&n&&(e.YNc(0,xv,10,12,"div",0),e.ALo(1,"async")),2&n){let r;e.um2(0,(r=e.lcZ(1,1,a.viewModel$))?0:-1,r)}},dependencies:[cf.D,A.mk,ve.PQ,k.Hw,$e.H8,T.wG,ln,jt,Jt,dn,qt,Fe.oO,kf,dv,uv,Dr,A.Ov,ge.X$],styles:["@keyframes _ngcontent-%COMP%_move-next{0%{transform:translate(0)}49%{transform:translate(-800px);animation-timing-function:step-end}50%{transform:translate(800px);animation-timing-function:ease-out}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_move-previous{0%{transform:translate(0)}49%{transform:translate(800px);animation-timing-function:step-end}50%{transform:translate(-800px);animation-timing-function:ease-out}to{transform:translate(0)}}.next[_ngcontent-%COMP%]{animation:.2s ease-in _ngcontent-%COMP%_move-next}.previous[_ngcontent-%COMP%]{animation:.2s ease-in _ngcontent-%COMP%_move-previous}.multi-item-edit-form-header[_ngcontent-%COMP%]{width:100%}.eav-dialog-content[_ngcontent-%COMP%]{margin:0;padding:0;max-height:calc(100vh - 100px);background-color:#0000000f}@media (max-width: 600px){.eav-dialog-content[_ngcontent-%COMP%]{max-height:calc(100vh - 52px)}}.eav-dialog-content.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 48px)!important}@media (max-width: 600px){.eav-dialog-content.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh + 0px)!important}}.eav-dialog-content.debug-enabled[_ngcontent-%COMP%]{max-height:calc(100vh - 152px)}@media (max-width: 600px){.eav-dialog-content.debug-enabled[_ngcontent-%COMP%]{max-height:calc(100vh - 104px)}}.eav-dialog-content.debug-enabled.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 100px)!important}@media (max-width: 600px){.eav-dialog-content.debug-enabled.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 52px)!important}}.eav-dialog-content.debug-enabled.debug-info-is-open[_ngcontent-%COMP%]{max-height:calc(100vh - 468px)}@media (max-width: 600px){.eav-dialog-content.debug-enabled.debug-info-is-open[_ngcontent-%COMP%]{max-height:calc(100vh - 420px)}}.eav-dialog-content.debug-enabled.debug-info-is-open.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 416px)!important}@media (max-width: 600px){.eav-dialog-content.debug-enabled.debug-info-is-open.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 368px)!important}}.mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;z-index:1}.eav-layout-grid[_ngcontent-%COMP%]{padding:16px}@media (max-width: 600px){.eav-layout-grid[_ngcontent-%COMP%]{padding:8px 0 0}}"]})}return i})();var bv=p(891),Dv=p(1670);const wv={name:"ITEMS_EDIT_DIALOG",initContext:!0,panelSize:"custom",panelClass:["c-multi-item-dialog"],getComponent:()=>(0,Dv.Z)(function*(){const{EditEntryComponent:i}=yield Promise.resolve().then(p.bind(p,9955));return i})()};var kr=p(8226);const Mv=[{path:"",component:bv.r,data:{dialog:wv},children:[{matcher:kr.eP,loadChildren:()=>Promise.resolve().then(p.bind(p,152)).then(i=>i.EditModule)},{matcher:kr.lZ,loadChildren:()=>p.e("projects_eav-ui_src_app_edit_refresh-edit_module_ts").then(p.bind(p,9703)).then(i=>i.RefreshEditModule)},{path:"versions/:itemId",loadChildren:()=>Promise.all([p.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),p.e("default-projects_eav-ui_src_app_item-history_item-history_module_ts")]).then(p.bind(p,7837)).then(i=>i.ItemHistoryModule)}]}];let Av=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[Gt.Bz.forChild(Mv),Gt.Bz]})}return i})(),kv=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({providers:[Tc._,C.WV,C._q,C.c4,C._7,kn,{provide:Ci,useValue:{useUtc:!0}},Tn,{provide:Sn,useValue:{useUtc:!0}},C.ef,gi.t,C.W5,Co.g,{provide:ie.o2,useValue:{subscriptSizing:"dynamic"}},{provide:nn.PG,useValue:{hideSingleSelectionIndicator:!0}},{provide:an.HT,useValue:{hideIcon:!0}},rt,st,Ai],imports:[Av,Fc.q,A.ez,ge.aw.forChild((0,Ec.f)(Oc.W)),Gt.Bz,N.ot,De.c,nn.LD,Z.UX,dc,Zo,mu,zo,vu,Ie.QW,k.Ps,Ge.Tx,yt.ZX,$e.Is,uo.t,Wa.g,yc,Z.u5,ie.lN,an.rP,Lt._t,Mc,Xt.Bb,et.ie,po.Cq,ts,T.si,ve.Cl,kc.n,bo.qH,Sc,Ac.S,bd]})}return i})();e.B6R(Lc.EditEntryComponent,function(){return[Gt.lC,Cv]},function(){return[A.Ov]})},425:(B,te,p)=>{"use strict";p.d(te,{F:()=>R});var w=p(8968),e=p(9039),L=p(6861),y=p(7648),l=p(6515),T=p(9498),m=p(6575),x=p(1916);function M(G,Y){1&G&&(e.TgZ(0,"mat-icon",0),e.ALo(1,"translate"),e._uU(2,"diamond"),e.qZA()),2&G&&e.Q6J("tippy",e.lcZ(1,1,"Features.NotActivated"))}let R=(()=>{class G extends w.B{constructor(V,A,ae,N){super(V,A,N,ae)}static#e=this.\u0275fac=function(A){return new(A||G)(e.Y36(L.uw),e.Y36(e.s_b),e.Y36(y.k),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:G,selectors:[["app-feature-icon-indicator"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"tippy"]],template:function(A,ae){1&A&&(e.YNc(0,M,3,3,"mat-icon",0),e.ALo(1,"async")),2&A&&e.um2(0,e.lcZ(1,1,ae.show$)?0:-1)},dependencies:[l.Hw,T.$,m.Ov,x.X$]})}return G})()},5331:(B,te,p)=>{"use strict";p.d(te,{C:()=>w});const w={AppSyncWithSiteFiles:"AppSyncWithSiteFiles",WysiwygPasteFormatted:"WysiwygPasteFormatted",PasteImageFromClipboard:"PasteImageFromClipboard",EditUiShowNotes:"EditUiShowNotes",EditUiShowMetadataFor:"EditUiShowMetadataFor",NoSponsoredByToSic:"NoSponsoredByToSic",EditUiTranslateWithGoogle:"EditUiTranslateWithGoogle",LightSpeed:"LightSpeedOutputCache",ContentSecurityPolicy:"ContentSecurityPolicy",PermissionsByLanguage:"PermissionsByLanguage",FieldShareConfigManagement:"FieldShareConfigManagement"}},9818:(B,te,p)=>{"use strict";p.d(te,{B:()=>N});var w=p(8968),e=p(8071),L=p(3839),y=p(9736),l=p(9039),T=p(6861),m=p(7648),x=p(6515),M=p(9498),R=p(6575),G=p(1916);function Y(Ce,we){if(1&Ce){const ve=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(ve);const Z=l.oxw(2);return l.KtG(Z.openDialog())}),l.ALo(1,"translate"),l.TgZ(2,"mat-icon"),l._uU(3),l.qZA(),l.TgZ(4,"div",3)(5,"div",4),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.TgZ(8,"div",5),l._uU(9),l.ALo(10,"translate"),l.qZA()()()}if(2&Ce){const ve=l.oxw();l.Q6J("tippy",l.xi3(1,7,"Features.Tooltip",ve.feature)),l.xp6(2),l.Gre("icon icon-",ve.icon,""),l.xp6(1),l.Oqu(ve.icon),l.xp6(3),l.Oqu(l.lcZ(7,10,"Features.FeatureNotActivated")),l.xp6(3),l.Oqu(l.lcZ(10,12,"Features.ClickToFindOutMore"))}}function V(Ce,we){1&Ce&&l.YNc(0,Y,11,14,"div",1),2&Ce&&l.um2(0,we.show?0:-1)}function A(Ce,we){1&Ce&&(l.TgZ(0,"div"),l._uU(1,"loading..."),l.qZA())}function ae(Ce,we){1&Ce&&(l.TgZ(0,"div"),l._uU(1,"loading..."),l.qZA())}let N=(()=>{class Ce extends w.B{set asInfo(ve){this.asInfo$.next(ve)}constructor(ve,pe,Z,ie){super(ve,pe,ie,Z),this.asInfo$=new e.X(!1),this.viewModel$=(0,L.a)([this.feature$,this.asInfo$,this.show$]).pipe((0,y.U)(([z,De,k])=>({feature:z,icon:De?"info":"warning",show:k})))}static#e=this.\u0275fac=function(pe){return new(pe||Ce)(l.Y36(T.uw),l.Y36(l.s_b),l.Y36(m.k),l.Y36(l.sBO))};static#t=this.\u0275cmp=l.Xpm({type:Ce,selectors:[["app-feature-text-info"]],inputs:{asInfo:"asInfo"},features:[l.qOj],decls:5,vars:3,consts:[["loading",""],["class","feature-text-info",3,"tippy"],[1,"feature-text-info",3,"tippy","click"],[1,"feature-text-info-content"],[1,"feature-text-info-title"],[1,"feature-text-info-subtitle"]],template:function(pe,Z){if(1&pe&&(l.YNc(0,V,1,1),l.ALo(1,"async"),l.YNc(2,A,2,0)(3,ae,2,0,"ng-template",null,0,l.W1O)),2&pe){let ie;l.um2(0,(ie=l.lcZ(1,1,Z.viewModel$))?0:2,ie)}},dependencies:[x.Hw,M.$,R.Ov,G.X$],styles:[".feature-text-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;cursor:pointer;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;padding:5px;margin-bottom:10px}.feature-text-info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-left:10px}.feature-text-info-title[_ngcontent-%COMP%]{font-size:large}.feature-text-info-subtitle[_ngcontent-%COMP%]{font-size:medium}.icon[_ngcontent-%COMP%]{font-size:45px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.icon-warning[_ngcontent-%COMP%]{color:red}"]})}return Ce})()},8968:(B,te,p)=>{"use strict";p.d(te,{B:()=>ie});var w=p(6861),e=p(3839),L=p(9736),y=p(4472),l=p(9039),T=p(9409),m=p(8737),x=p(895),M=p(6515),R=p(8497),G=p(9498),Y=p(6575),V=p(6537),A=p(1916);function ae(z,De){if(1&z){const k=l.EpF();l.TgZ(0,"div",1)(1,"div",2),l._uU(2,"ID:"),l.qZA(),l.TgZ(3,"div",8)(4,"span",9),l.NdJ("click",function(){const v=l.CHM(k),u=l.oxw(2);return l.KtG(u.copyToClipboard(v))}),l._uU(5),l.qZA()()()}2&z&&(l.xp6(4),l.Q6J("tippy",De),l.xp6(1),l.Oqu(De))}function N(z,De){if(1&z){const k=l.EpF();l.TgZ(0,"button",10),l.NdJ("click",function(){const v=l.CHM(k),u=l.oxw(2);return l.KtG(u.findOutMore(v))}),l.TgZ(1,"mat-icon"),l._uU(2,"open_in_new"),l.qZA(),l._uU(3),l.ALo(4,"translate"),l.qZA()}2&z&&(l.xp6(3),l.hij(" ",l.lcZ(4,1,"Features.FindOutMore")," "))}function Ce(z,De){if(1&z){const k=l.EpF();l.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA()(),l.TgZ(4,"mat-card-content"),l._UZ(5,"p",0),l.ALo(6,"safeHtml"),l.TgZ(7,"div",1)(8,"div",2),l._uU(9),l.ALo(10,"translate"),l.qZA(),l.TgZ(11,"div",3)(12,"span"),l._uU(13),l.ALo(14,"translate"),l.qZA()()(),l.YNc(15,ae,6,2,"div",4),l.qZA(),l.TgZ(16,"mat-card-actions",5),l.YNc(17,N,5,3,"button",6),l.TgZ(18,"button",7),l.NdJ("click",function(){l.CHM(k);const f=l.oxw();return l.KtG(f.closeDialog())}),l._uU(19),l.ALo(20,"translate"),l.qZA()()()}if(2&z){let k;l.xp6(3),l.Oqu(De.feature.Name),l.xp6(2),l.Q6J("innerHtml",l.lcZ(6,7,De.feature.Description),l.oJD),l.xp6(4),l.hij("",l.lcZ(10,9,"Features.Status"),":"),l.xp6(4),l.Oqu(l.lcZ(14,11,De.feature.IsEnabled?"Features.Active":"Features.NotActive")),l.xp6(2),l.um2(15,(k=De.feature.NameId)?15:-1,k),l.xp6(2),l.um2(17,(k=De.feature.Link)?17:-1,k),l.xp6(2),l.hij(" ",l.lcZ(20,13,"Features.Close")," ")}}let we=(()=>{class z{constructor(k,O,f,v){this.dialogData=k,this.dialogRef=O,this.snackBar=f,this.featureDetailService=v}ngOnInit(){this.viewModel$=(0,e.a)([this.featureDetailService.getFeatureDetails(this.dialogData)]).pipe((0,L.U)(([k])=>({feature:k})))}copyToClipboard(k){(0,y.v)(k),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}findOutMore(k){window.open(k,"_blank")}closeDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(O){return new(O||z)(l.Y36(w.WI),l.Y36(w.so),l.Y36(T.ux),l.Y36(m.f))};static#t=this.\u0275cmp=l.Xpm({type:z,selectors:[["app-feature-info-dialog"]],decls:2,vars:3,consts:[[3,"innerHtml"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],["class","eav-info-row"],["align","end"],["mat-raised-button","","color","accent","class","eav-card-action-button"],["mat-raised-button","",1,"eav-card-action-button",3,"click"],[1,"eav-info-row__value","eav_click"],[3,"tippy","click"],["mat-raised-button","","color","accent",1,"eav-card-action-button",3,"click"]],template:function(O,f){if(1&O&&(l.YNc(0,Ce,21,15,"mat-card"),l.ALo(1,"async")),2&O){let v;l.um2(0,(v=l.lcZ(1,1,f.viewModel$))?0:-1,v)}},dependencies:[x.lW,M.Hw,R.a8,R.hq,R.dn,R.dk,R.n5,G.$,Y.Ov,V.z,A.X$]})}return z})();var ve=p(8071),pe=p(1891),Z=p(7648);let ie=(()=>{class z{set featureNameId(k){this.featureNameId$.next(k)}set showIf(k){this.showIf$.next(1==k)}constructor(k,O,f,v){this.dialog=k,this.viewContainerRef=O,this.changeDetectorRef=f,this.featuresService=v,this.featureNameId$=new ve.X(null),this.showIf$=new ve.X(!1),this.feature$=this.featureNameId$.pipe((0,pe.w)(u=>this.featuresService.get$(u))),this.show$=(0,e.a)([this.feature$,this.showIf$]).pipe((0,L.U)(([u,c])=>c==(u?.IsEnabled??!1)))}openDialog(){z.openDialog(this.dialog,this.featureNameId$.value,this.viewContainerRef,this.changeDetectorRef)}static openDialog(k,O,f,v){k.open(we,{autoFocus:!1,data:O,viewContainerRef:f,width:"400px"}),v.markForCheck()}static#e=this.\u0275fac=function(O){return new(O||z)(l.Y36(w.uw),l.Y36(l.s_b),l.Y36(l.sBO),l.Y36(Z.k))};static#t=this.\u0275dir=l.lG2({type:z,inputs:{featureNameId:"featureNameId",showIf:"showIf"}})}return z})()},2380:(B,te,p)=>{"use strict";p.d(te,{T:()=>w.T,n:()=>y});var w=p(9424),e=p(6575),L=p(9039);let y=(()=>{class l{static#e=this.\u0275fac=function(x){return new(x||l)};static#t=this.\u0275mod=L.oAB({type:l});static#n=this.\u0275inj=L.cJS({imports:[e.ez]})}return l})()},9424:(B,te,p)=>{"use strict";p.d(te,{T:()=>T});var w=p(9039);const L="area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr".split(",").map(m=>m.trim().toLocaleLowerCase());class y{constructor(x,M,R,G,Y,V,A){this.monaco=x,this.filename=M,this.snippets=V,this.tooltips=A,this.globalCache=this.createGlobalCache(x),this.defineThemes(this.globalCache,this.monaco),this.cachedValue=R,this.editorInstance=this.createInstance(this.monaco,M,R,G,Y),this.completionItemProviders=this.addSnippets(this.monaco,this.editorInstance),this.resizeObserver=this.createResizeObserver(G,this.editorInstance),this.restoreState(this.globalCache,this.editorInstance),this.addEvents(this.editorInstance)}destroy(){this.saveState(this.globalCache,this.editorInstance),this.resizeObserver.disconnect(),this.completionItemProviders.forEach(x=>x.dispose()),this.jsTypingsLib?.dispose(),this.editorInstance.getModel().dispose(),this.editorInstance.dispose()}updateValue(x){this.cachedValue!==x&&(this.cachedValue=x,this.editorInstance.getModel().setValue(x))}focus(){this.editorInstance.focus()}onValueChange(x){this.valueChangedCallback=x}onFocus(x){this.focusedCallback=x}onBlur(x){this.blurredCallback=x}insertSnippet(x){this.editorInstance.getContribution("snippetController2").insert(x)}setSnippets(x){this.snippets=x}setTooltips(x){this.tooltips=x}setJsonSchema(x){const M=this.editorInstance.getModel().uri.toString(),R=this.monaco.languages.json.jsonDefaults.diagnosticsOptions,G=R.schemas?.some(A=>A.fileMatch[0]===M)??!1,Y="link"===x?.type?{uri:x.value,fileMatch:[M]}:"raw"===x?.type?{uri:M,fileMatch:[M],schema:JSON.parse(x.value)}:void 0;if(!G&&!Y)return;const V={...R,enableSchemaRequest:!0,schemas:G&&!Y?R.schemas.filter(A=>A.fileMatch[0]!==M):G?R.schemas.map(A=>A.fileMatch[0]===M?Y:A):[...R.schemas??[],Y]};this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(V)}setJsonComments(x){if(!x)return;const M={...this.monaco.languages.json.jsonDefaults.diagnosticsOptions,comments:x};this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(M)}setJsDiagnostics(x){if(!x)return;const M={...this.monaco.languages.typescript.javascriptDefaults.getDiagnosticsOptions(),...x};this.monaco.languages.typescript.javascriptDefaults.setDiagnosticsOptions(M)}setJsTypings(x){x?this.jsTypingsLib=this.monaco.languages.typescript.javascriptDefaults.addExtraLib(x,`js-typings-${this.filename}`):this.jsTypingsLib?.dispose()}createGlobalCache(x){return null==x._2sxc&&(x._2sxc={themesAreDefined:!1,savedStates:{}}),x._2sxc}defineThemes(x,M){x.themesAreDefined||(x.themesAreDefined=!0,M.editor.defineTheme("2sxc-dark",{base:"vs-dark",inherit:!0,rules:[{token:"metatag.cs",foreground:"ffff00"}],colors:{}}))}createInstance(x,M,R,G,Y){const V=x.editor.create(G,Y),A=x.Uri.file(M),ae=x.editor.createModel(R,void 0,A);return V.setModel(ae),V}saveState(x,M){const R=M.getModel().uri.toString(),G=JSON.stringify(M.saveViewState());null==x.savedStates[R]?x.savedStates[R]={viewState:G}:x.savedStates[R].viewState=G}restoreState(x,M){const R=M.getModel().uri.toString(),G=x.savedStates[R];if(null==G)return;const Y=JSON.parse(G.viewState);M.restoreViewState(Y)}addSnippets(x,M){return[x.languages.registerCompletionItemProvider(M.getModel().getLanguageId(),{triggerCharacters:[">"],provideCompletionItems:(G,Y)=>{if(M.getModel()!==G)return{suggestions:[]};const V=G.getValueInRange({startLineNumber:Y.lineNumber,startColumn:1,endLineNumber:Y.lineNumber,endColumn:Y.column});if(">"!==V[V.length-1])return{suggestions:[]};const ae=V.lastIndexOf("<");if(-1===ae)return{suggestions:[]};const N=V.substring(ae);let Ce=0;if(Array.from(N).forEach(Z=>{'"'===Z&&Ce++}),Ce%2!=0)return{suggestions:[]};if(N.startsWith("</"))return{suggestions:[]};if(N.indexOf(">")!==N.length-1)return{suggestions:[]};let we=N.indexOf(" ");if(-1===we&&(we=N.indexOf(">")),-1===we)return{suggestions:[]};const ve=N.substring(1,we);return ve?L.includes(ve.toLocaleLowerCase())?{suggestions:[]}:/[a-zA-Z0-9_-]/.test(ve)?{suggestions:[{label:`</${ve}>`,kind:x.languages.CompletionItemKind.Snippet,insertText:`$0</${ve}>`,insertTextRules:x.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:Y.lineNumber,endLineNumber:Y.lineNumber,startColumn:Y.column,endColumn:Y.column}}]}:{suggestions:[]}:{suggestions:[]}}}),x.languages.registerCompletionItemProvider(M.getModel().getLanguageId(),{provideCompletionItems:(G,Y)=>{if(null==this.snippets||M.getModel()!==G)return{suggestions:[]};const V=G.getWordUntilPosition(Y);return{suggestions:this.snippets.map(ae=>ae.content?{label:ae.name,kind:x.languages.CompletionItemKind.Snippet,documentation:`${ae.title??""}\n${ae.help??""}\n${ae.links??""}`,insertText:ae.content,insertTextRules:x.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:Y.lineNumber,endLineNumber:Y.lineNumber,startColumn:V.startColumn,endColumn:V.endColumn}}:void 0).filter(ae=>!!ae)}}}),x.languages.registerHoverProvider(M.getModel().getLanguageId(),{provideHover:(G,Y)=>{if(null==this.tooltips||M.getModel()!==G)return;const V=G.getWordAtPosition(Y);if(!V)return;const A=this.tooltips.find(ae=>ae.Term===V.word);return A?{contents:A.Help.map(ae=>({value:ae})),range:{startLineNumber:Y.lineNumber,endLineNumber:Y.lineNumber,startColumn:V.startColumn,endColumn:V.endColumn}}:void 0}})]}createResizeObserver(x,M){const R=new ResizeObserver(()=>{M.layout()});return R.observe(x),R}addEvents(x){x.getModel().onDidChangeContent(()=>{const M=x.getModel().getValue();M!==this.cachedValue&&(this.cachedValue=M,this.valueChangedCallback?.(M))}),x.onDidFocusEditorWidget(()=>{this.focusedCallback?.()}),x.onDidBlurEditorWidget(()=>{this.blurredCallback?.()})}}const l=["editor"];let T=(()=>{class m{constructor(){this.autoFocus=!1,this.valueChanged=new w.vpe,this.focused=new w.vpe,this.blurred=new w.vpe}ngAfterViewInit(){window.require.config({paths:{vs:["https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs"]}}),window.require(["vs/editor/editor.main"],M=>{this.monaco=M,this.createEditor(this.autoFocus)})}ngOnChanges(M){null!=M.filename&&null!=this.monacoInstance&&(this.monacoInstance.destroy(),this.createEditor(!0)),null!=M.value&&this.monacoInstance?.updateValue(this.value),null!=M.jsonSchema&&this.monacoInstance?.setJsonSchema(this.jsonSchema),null!=M.jsonComments&&this.monacoInstance?.setJsonComments(this.jsonComments),null!=M.snippets&&this.monacoInstance?.setSnippets(this.snippets),null!=M.tooltips&&this.monacoInstance?.setTooltips(this.tooltips),null!=M.jsTypings&&this.monacoInstance?.setJsTypings(this.jsTypings),null!=M.jsDiagnostics&&this.monacoInstance?.setJsDiagnostics(this.jsDiagnostics)}insertSnippet(M){this.monacoInstance?.insertSnippet(M),this.monacoInstance?.focus()}ngOnDestroy(){this.monacoInstance?.destroy()}createEditor(M){this.monacoInstance=new y(this.monaco,this.filename,this.value,this.editorRef.nativeElement,this.options,this.snippets,this.tooltips),this.monacoInstance.setJsonSchema(this.jsonSchema),this.monacoInstance.setJsonComments(this.jsonComments),this.monacoInstance.setJsTypings(this.jsTypings),this.monacoInstance.setJsDiagnostics(this.jsDiagnostics),this.monacoInstance.onValueChange(R=>{this.valueChanged.emit(R)}),this.monacoInstance.onFocus(()=>{this.focused.emit()}),this.monacoInstance.onBlur(()=>{this.blurred.emit()}),M&&this.monacoInstance.focus()}static#e=this.\u0275fac=function(R){return new(R||m)};static#t=this.\u0275cmp=w.Xpm({type:m,selectors:[["app-monaco-editor"]],viewQuery:function(R,G){if(1&R&&w.Gf(l,5),2&R){let Y;w.iGM(Y=w.CRH())&&(G.editorRef=Y.first)}},inputs:{filename:"filename",value:"value",snippets:"snippets",tooltips:"tooltips",options:"options",jsonSchema:"jsonSchema",jsonComments:"jsonComments",jsTypings:"jsTypings",jsDiagnostics:"jsDiagnostics",autoFocus:"autoFocus"},outputs:{valueChanged:"valueChanged",focused:"focused",blurred:"blurred"},features:[w.TTD],decls:2,vars:0,consts:[[1,"editor"],["editor",""]],template:function(R,G){1&R&&w._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:hidden}.editor[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]})}return m})()},40:(B,te,p)=>{"use strict";p.d(te,{D:()=>L});var w=p(716),e=p(9039);let L=(()=>{class y{constructor(T){this.globalConfigService=T}onClick(T){(navigator.platform.match("Mac")?T.metaKey:T.ctrlKey)&&T.shiftKey&&T.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}static#e=this.\u0275fac=function(m){return new(m||y)(e.Y36(w.bE))};static#t=this.\u0275dir=e.lG2({type:y,selectors:[["","appToggleDebug",""]],hostBindings:function(m,x){1&m&&e.NdJ("click",function(R){return x.onClick(R)})}})}return y})()},292:function(B){B.exports=function(){"use strict";var p=6e4,w=36e5,e="millisecond",L="second",y="minute",l="hour",T="day",m="week",x="month",M="quarter",R="year",G="date",Y="Invalid Date",V=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ae={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},N=function(O,f,v){var u=String(O);return!u||u.length>=f?O:""+Array(f+1-u.length).join(v)+O},Ce={s:N,z:function(O){var f=-O.utcOffset(),v=Math.abs(f),u=Math.floor(v/60),c=v%60;return(f<=0?"+":"-")+N(u,2,"0")+":"+N(c,2,"0")},m:function O(f,v){if(f.date()<v.date())return-O(v,f);var u=12*(v.year()-f.year())+(v.month()-f.month()),c=f.clone().add(u,x),h=v-c<0,_=f.clone().add(u+(h?-1:1),x);return+(-(u+(v-c)/(h?c-_:_-c))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:x,y:R,w:m,d:T,D:G,h:l,m:y,s:L,ms:e,Q:M}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return void 0===O}},we="en",ve={};ve[we]=ae;var pe=function(O){return O instanceof De},Z=function O(f,v,u){var c;if(!f)return we;if("string"==typeof f){var h=f.toLowerCase();ve[h]&&(c=h),v&&(ve[h]=v,c=h);var _=f.split("-");if(!c&&_.length>1)return O(_[0])}else{var S=f.name;ve[S]=f,c=S}return!u&&c&&(we=c),c||!u&&we},ie=function(O,f){if(pe(O))return O.clone();var v="object"==typeof f?f:{};return v.date=O,v.args=arguments,new De(v)},z=Ce;z.l=Z,z.i=pe,z.w=function(O,f){return ie(O,{locale:f.$L,utc:f.$u,x:f.$x,$offset:f.$offset})};var De=function(){function O(v){this.$L=Z(v.locale,null,!0),this.parse(v)}var f=O.prototype;return f.parse=function(v){this.$d=function(u){var c=u.date,h=u.utc;if(null===c)return new Date(NaN);if(z.u(c))return new Date;if(c instanceof Date)return new Date(c);if("string"==typeof c&&!/Z$/i.test(c)){var _=c.match(V);if(_){var S=_[2]-1||0,E=(_[7]||"0").substring(0,3);return h?new Date(Date.UTC(_[1],S,_[3]||1,_[4]||0,_[5]||0,_[6]||0,E)):new Date(_[1],S,_[3]||1,_[4]||0,_[5]||0,_[6]||0,E)}}return new Date(c)}(v),this.$x=v.x||{},this.init()},f.init=function(){var v=this.$d;this.$y=v.getFullYear(),this.$M=v.getMonth(),this.$D=v.getDate(),this.$W=v.getDay(),this.$H=v.getHours(),this.$m=v.getMinutes(),this.$s=v.getSeconds(),this.$ms=v.getMilliseconds()},f.$utils=function(){return z},f.isValid=function(){return this.$d.toString()!==Y},f.isSame=function(v,u){var c=ie(v);return this.startOf(u)<=c&&c<=this.endOf(u)},f.isAfter=function(v,u){return ie(v)<this.startOf(u)},f.isBefore=function(v,u){return this.endOf(u)<ie(v)},f.$g=function(v,u,c){return z.u(v)?this[u]:this.set(c,v)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(v,u){var c=this,h=!!z.u(u)||u,_=z.p(v),S=function(he,ce){var Ne=z.w(c.$u?Date.UTC(c.$y,ce,he):new Date(c.$y,ce,he),c);return h?Ne:Ne.endOf(T)},E=function(he,ce){return z.w(c.toDate()[he].apply(c.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(ce)),c)},$=this.$W,H=this.$M,Q=this.$D,re="set"+(this.$u?"UTC":"");switch(_){case R:return h?S(1,0):S(31,11);case x:return h?S(1,H):S(0,H+1);case m:var de=this.$locale().weekStart||0,fe=($<de?$+7:$)-de;return S(h?Q-fe:Q+(6-fe),H);case T:case G:return E(re+"Hours",0);case l:return E(re+"Minutes",1);case y:return E(re+"Seconds",2);case L:return E(re+"Milliseconds",3);default:return this.clone()}},f.endOf=function(v){return this.startOf(v,!1)},f.$set=function(v,u){var c,h=z.p(v),_="set"+(this.$u?"UTC":""),S=(c={},c[T]=_+"Date",c[G]=_+"Date",c[x]=_+"Month",c[R]=_+"FullYear",c[l]=_+"Hours",c[y]=_+"Minutes",c[L]=_+"Seconds",c[e]=_+"Milliseconds",c)[h],E=h===T?this.$D+(u-this.$W):u;if(h===x||h===R){var $=this.clone().set(G,1);$.$d[S](E),$.init(),this.$d=$.set(G,Math.min(this.$D,$.daysInMonth())).$d}else S&&this.$d[S](E);return this.init(),this},f.set=function(v,u){return this.clone().$set(v,u)},f.get=function(v){return this[z.p(v)]()},f.add=function(v,u){var c,h=this;v=Number(v);var _=z.p(u),S=function(H){var Q=ie(h);return z.w(Q.date(Q.date()+Math.round(H*v)),h)};if(_===x)return this.set(x,this.$M+v);if(_===R)return this.set(R,this.$y+v);if(_===T)return S(1);if(_===m)return S(7);var E=(c={},c[y]=p,c[l]=w,c[L]=1e3,c)[_]||1,$=this.$d.getTime()+v*E;return z.w($,this)},f.subtract=function(v,u){return this.add(-1*v,u)},f.format=function(v){var u=this,c=this.$locale();if(!this.isValid())return c.invalidDate||Y;var h=v||"YYYY-MM-DDTHH:mm:ssZ",_=z.z(this),S=this.$H,E=this.$m,$=this.$M,H=c.weekdays,Q=c.months,re=function(ce,Ne,Pe,qe){return ce&&(ce[Ne]||ce(u,h))||Pe[Ne].slice(0,qe)},de=function(ce){return z.s(S%12||12,ce,"0")},fe=c.meridiem||function(ce,Ne,Pe){var qe=ce<12?"AM":"PM";return Pe?qe.toLowerCase():qe},he={YY:String(this.$y).slice(-2),YYYY:this.$y,M:$+1,MM:z.s($+1,2,"0"),MMM:re(c.monthsShort,$,Q,3),MMMM:re(Q,$),D:this.$D,DD:z.s(this.$D,2,"0"),d:String(this.$W),dd:re(c.weekdaysMin,this.$W,H,2),ddd:re(c.weekdaysShort,this.$W,H,3),dddd:H[this.$W],H:String(S),HH:z.s(S,2,"0"),h:de(1),hh:de(2),a:fe(S,E,!0),A:fe(S,E,!1),m:String(E),mm:z.s(E,2,"0"),s:String(this.$s),ss:z.s(this.$s,2,"0"),SSS:z.s(this.$ms,3,"0"),Z:_};return h.replace(A,function(ce,Ne){return Ne||he[ce]||_.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(v,u,c){var h,_=z.p(u),S=ie(v),E=(S.utcOffset()-this.utcOffset())*p,$=this-S,H=z.m(this,S);return H=(h={},h[R]=H/12,h[x]=H,h[M]=H/3,h[m]=($-E)/6048e5,h[T]=($-E)/864e5,h[l]=$/w,h[y]=$/p,h[L]=$/1e3,h)[_]||$,c?H:z.a(H)},f.daysInMonth=function(){return this.endOf(x).$D},f.$locale=function(){return ve[this.$L]},f.locale=function(v,u){if(!v)return this.$L;var c=this.clone(),h=Z(v,u,!0);return h&&(c.$L=h),c},f.clone=function(){return z.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},O}(),k=De.prototype;return ie.prototype=k,[["$ms",e],["$s",L],["$m",y],["$H",l],["$W",T],["$M",x],["$y",R],["$D",G]].forEach(function(O){k[O[1]]=function(f){return this.$g(f,O[0],O[1])}}),ie.extend=function(O,f){return O.$i||(O(f,De,ie),O.$i=!0),ie},ie.locale=Z,ie.isDayjs=pe,ie.unix=function(O){return ie(1e3*O)},ie.en=ve[we],ie.Ls=ve,ie.p={},ie}()},8971:function(B,te,p){B.exports=function(w){"use strict";var L=function e(x){return x&&"object"==typeof x&&"default"in x?x:{default:x}}(w),y="\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),l={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},T={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},m={name:"ar",weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),months:y,monthsShort:y,weekStart:6,relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",m:"\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",yy:"%d \u0623\u0639\u0648\u0627\u0645"},preparse:function(x){return x.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(M){return T[M]}).replace(/\u060c/g,",")},postformat:function(x){return x.replace(/\d/g,function(M){return l[M]}).replace(/,/g,"\u060c")},ordinal:function(x){return x},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return L.default.locale(m,null,!0),m}(p(292))},2:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"bg",weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekStart:1,ordinal:function(l){var T=l%100;if(T>10&&T<20)return l+"-\u0442\u0438";var m=l%10;return 1===m?l+"-\u0432\u0438":2===m?l+"-\u0440\u0438":7===m||8===m?l+"-\u043c\u0438":l+"-\u0442\u0438"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"}};return L.default.locale(y,null,!0),y}(p(292))},4891:function(B,te,p){B.exports=function(w){"use strict";var L=function e(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(w);function y(m){return m>1&&m<5&&1!=~~(m/10)}function l(m,x,M,R){var G=m+" ";switch(M){case"s":return x||R?"p\xe1r sekund":"p\xe1r sekundami";case"m":return x?"minuta":R?"minutu":"minutou";case"mm":return x||R?G+(y(m)?"minuty":"minut"):G+"minutami";case"h":return x?"hodina":R?"hodinu":"hodinou";case"hh":return x||R?G+(y(m)?"hodiny":"hodin"):G+"hodinami";case"d":return x||R?"den":"dnem";case"dd":return x||R?G+(y(m)?"dny":"dn\xed"):G+"dny";case"M":return x||R?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return x||R?G+(y(m)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):G+"m\u011bs\xedci";case"y":return x||R?"rok":"rokem";case"yy":return x||R?G+(y(m)?"roky":"let"):G+"lety"}}var T={name:"cs",weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),months:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),monthsShort:"led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),weekStart:1,yearStart:4,ordinal:function(m){return m+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l}};return L.default.locale(T,null,!0),T}(p(292))},1795:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"da",weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n._man._tirs._ons._tors._fre._l\xf8r.".split("_"),weekdaysMin:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.".split("_"),weekStart:1,ordinal:function(l){return l+"."},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"}};return L.default.locale(y,null,!0),y}(p(292))},823:function(B,te,p){B.exports=function(w){"use strict";var L=function e(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(w),y={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function l(m,x,M){var R=y[M];return Array.isArray(R)&&(R=R[x?0:1]),R.replace("%d",m)}var T={name:"de-at",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(m){return m+"."},weekStart:1,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l}};return L.default.locale(T,null,!0),T}(p(292))},7820:function(B,te,p){B.exports=function(w){"use strict";var L=function e(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(w),y={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function l(m,x,M){var R=y[M];return Array.isArray(R)&&(R=R[x?0:1]),R.replace("%d",m)}var T={name:"de-ch",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(m){return m+"."},weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l}};return L.default.locale(T,null,!0),T}(p(292))},385:function(B,te,p){B.exports=function(w){"use strict";var L=function e(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(w),y={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function l(m,x,M){var R=y[M];return Array.isArray(R)&&(R=R[x?0:1]),R.replace("%d",m)}var T={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(m){return m+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l}};return L.default.locale(T,null,!0),T}(p(292))},1907:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"el",weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),months:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03b9_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0\u03c4_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),ordinal:function(l){return l},weekStart:1,relativeTime:{future:"\u03c3\u03b5 %s",past:"\u03c0\u03c1\u03b9\u03bd %s",s:"\u03bc\u03b5\u03c1\u03b9\u03ba\u03ac \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1 \u03bc\u03ae\u03bd\u03b1",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1 \u03c7\u03c1\u03cc\u03bd\u03bf",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"}};return L.default.locale(y,null,!0),y}(p(292))},2335:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"en-au",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(l){return l},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return L.default.locale(y,null,!0),y}(p(292))},2547:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"en-ca",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(l){return l},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return L.default.locale(y,null,!0),y}(p(292))},4820:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"en-gb",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(l){var T=["th","st","nd","rd"],m=l%100;return"["+l+(T[(m-20)%10]||T[m]||T[0])+"]"}};return L.default.locale(y,null,!0),y}(p(292))},5013:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"en-ie",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(l){return l},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return L.default.locale(y,null,!0),y}(p(292))},4421:function(B){B.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")}}()},7822:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"es-mx",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(l){return l+"\xba"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"}};return L.default.locale(y,null,!0),y}(p(292))},9264:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"es-us",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(l){return l+"\xba"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"}};return L.default.locale(y,null,!0),y}(p(292))},1597:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(l){return l+"\xba"}};return L.default.locale(y,null,!0),y}(p(292))},1488:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"fa",weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekStart:6,months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),ordinal:function(l){return l},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"}};return L.default.locale(y,null,!0),y}(p(292))},9272:function(B,te,p){B.exports=function(w){"use strict";var L=function e(T){return T&&"object"==typeof T&&"default"in T?T:{default:T}}(w);function y(T,m,x,M){var R={s:"muutama sekunti",m:"minuutti",mm:"%d minuuttia",h:"tunti",hh:"%d tuntia",d:"p\xe4iv\xe4",dd:"%d p\xe4iv\xe4\xe4",M:"kuukausi",MM:"%d kuukautta",y:"vuosi",yy:"%d vuotta",numbers:"nolla_yksi_kaksi_kolme_nelj\xe4_viisi_kuusi_seitsem\xe4n_kahdeksan_yhdeks\xe4n".split("_")},G={s:"muutaman sekunnin",m:"minuutin",mm:"%d minuutin",h:"tunnin",hh:"%d tunnin",d:"p\xe4iv\xe4n",dd:"%d p\xe4iv\xe4n",M:"kuukauden",MM:"%d kuukauden",y:"vuoden",yy:"%d vuoden",numbers:"nollan_yhden_kahden_kolmen_nelj\xe4n_viiden_kuuden_seitsem\xe4n_kahdeksan_yhdeks\xe4n".split("_")},Y=M&&!m?G:R;return Y[x].replace("%d",T<10?Y.numbers[T]:T)}var l={name:"fi",weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),ordinal:function(T){return T+"."},weekStart:1,yearStart:4,relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:y,m:y,mm:y,h:y,hh:y,d:y,dd:y,M:y,MM:y,y,yy:y},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM[ta] YYYY",LLL:"D. MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, D. MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [klo] HH.mm",llll:"ddd, D. MMM YYYY, [klo] HH.mm"}};return L.default.locale(l,null,!0),l}(p(292))},7638:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"fr-ch",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),weekStart:1,weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),ordinal:function(l){return l},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}};return L.default.locale(y,null,!0),y}(p(292))},8956:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(l){return l+(1===l?"er":"")}};return L.default.locale(y,null,!0),y}(p(292))},1580:function(B,te,p){B.exports=function(w){"use strict";var L=function e(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(w),y={s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:"%d \u05e9\u05e2\u05d5\u05ea",hh2:"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd",d:"\u05d9\u05d5\u05dd",dd:"%d \u05d9\u05de\u05d9\u05dd",dd2:"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd",M:"\u05d7\u05d5\u05d3\u05e9",MM:"%d \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd",MM2:"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd",y:"\u05e9\u05e0\u05d4",yy:"%d \u05e9\u05e0\u05d9\u05dd",yy2:"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd"};function l(m,x,M){return(y[M+(2===m?"2":"")]||y[M]).replace("%d",m)}var T={name:"he",weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5_\u05e9\u05f3".split("_"),months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5_\u05e4\u05d1\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0_\u05d9\u05d5\u05dc_\u05d0\u05d5\u05d2_\u05e1\u05e4\u05d8_\u05d0\u05d5\u05e7_\u05e0\u05d5\u05d1_\u05d3\u05e6\u05de".split("_"),relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l},ordinal:function(m){return m},format:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"}};return L.default.locale(T,null,!0),T}(p(292))},8871:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"hi",weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),ordinal:function(l){return l},formats:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"}};return L.default.locale(y,null,!0),y}(p(292))},1427:function(B,te,p){B.exports=function(w){"use strict";var L=function e(M){return M&&"object"==typeof M&&"default"in M?M:{default:M}}(w),y="sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),l="sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),T=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/,m=function(M,R){return T.test(R)?y[M.month()]:l[M.month()]};m.s=l,m.f=y;var x={name:"hr",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),months:m,monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"za %s",past:"prije %s",s:"sekunda",m:"minuta",mm:"%d minuta",h:"sat",hh:"%d sati",d:"dan",dd:"%d dana",M:"mjesec",MM:"%d mjeseci",y:"godina",yy:"%d godine"},ordinal:function(M){return M+"."}};return L.default.locale(x,null,!0),x}(p(292))},1957:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"hu",weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),ordinal:function(l){return l+"."},weekStart:1,relativeTime:{future:"%s m\xfalva",past:"%s",s:function(l,T,m,x){return"n\xe9h\xe1ny m\xe1sodperc"+(x||T?"":"e")},m:function(l,T,m,x){return"egy perc"+(x||T?"":"e")},mm:function(l,T,m,x){return l+" perc"+(x||T?"":"e")},h:function(l,T,m,x){return"egy "+(x||T?"\xf3ra":"\xf3r\xe1ja")},hh:function(l,T,m,x){return l+" "+(x||T?"\xf3ra":"\xf3r\xe1ja")},d:function(l,T,m,x){return"egy "+(x||T?"nap":"napja")},dd:function(l,T,m,x){return l+" "+(x||T?"nap":"napja")},M:function(l,T,m,x){return"egy "+(x||T?"h\xf3nap":"h\xf3napja")},MM:function(l,T,m,x){return l+" "+(x||T?"h\xf3nap":"h\xf3napja")},y:function(l,T,m,x){return"egy "+(x||T?"\xe9v":"\xe9ve")},yy:function(l,T,m,x){return l+" "+(x||T?"\xe9v":"\xe9ve")}},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"}};return L.default.locale(y,null,!0),y}(p(292))},3577:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(l){return l+"."}};return L.default.locale(y,null,!0),y}(p(292))},2166:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"it-ch",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),ordinal:function(l){return l},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"}};return L.default.locale(y,null,!0),y}(p(292))},956:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"it",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(l){return l+"\xba"}};return L.default.locale(y,null,!0),y}(p(292))},9278:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"ja",weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(l){return l+"\u65e5"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiem:function(l){return l<12?"\u5348\u524d":"\u5348\u5f8c"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}};return L.default.locale(y,null,!0),y}(p(292))},4175:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"jv",weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),weekStart:1,weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),ordinal:function(l){return l},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"}};return L.default.locale(y,null,!0),y}(p(292))},7944:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"ko",weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),ordinal:function(l){return l},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},meridiem:function(l){return l<12?"\uc624\uc804":"\uc624\ud6c4"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"}};return L.default.locale(y,null,!0),y}(p(292))},8105:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"lb",weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),weekStart:1,weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),ordinal:function(l){return l},formats:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"}};return L.default.locale(y,null,!0),y}(p(292))},308:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"ms-my",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),weekStart:1,weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),ordinal:function(l){return l},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"}};return L.default.locale(y,null,!0),y}(p(292))},6906:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"ms",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH.mm",LLLL:"dddd, D MMMM YYYY HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(l){return l+"."}};return L.default.locale(y,null,!0),y}(p(292))},4058:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"nl-be",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),weekStart:1,weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),ordinal:function(l){return l},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"}};return L.default.locale(y,null,!0),y}(p(292))},2121:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(l){return"["+l+(1===l||8===l||l>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return L.default.locale(y,null,!0),y}(p(292))},2302:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"pa-in",weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),ordinal:function(l){return l},formats:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"}};return L.default.locale(y,null,!0),y}(p(292))},7910:function(B,te,p){B.exports=function(w){"use strict";var L=function e(G){return G&&"object"==typeof G&&"default"in G?G:{default:G}}(w);function y(G){return G%10<5&&G%10>1&&~~(G/10)%10!=1}function l(G,Y,V){var A=G+" ";switch(V){case"m":return Y?"minuta":"minut\u0119";case"mm":return A+(y(G)?"minuty":"minut");case"h":return Y?"godzina":"godzin\u0119";case"hh":return A+(y(G)?"godziny":"godzin");case"MM":return A+(y(G)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return A+(y(G)?"lata":"lat")}}var T="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),m="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),x=/D MMMM/,M=function(G,Y){return x.test(Y)?T[G.month()]:m[G.month()]};M.s=m,M.f=T;var R={name:"pl",weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),months:M,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),ordinal:function(G){return G+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:l,mm:l,h:l,hh:l,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:l,y:"rok",yy:l},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return L.default.locale(R,null,!0),R}(p(292))},9448:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"pt-br",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(l){return l+"\xba"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return L.default.locale(y,null,!0),y}(p(292))},1282:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"pt",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_Sa".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(l){return l+"\xba"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return L.default.locale(y,null,!0),y}(p(292))},89:function(B,te,p){B.exports=function(w){"use strict";var L=function e(V){return V&&"object"==typeof V&&"default"in V?V:{default:V}}(w),y="\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),l="\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),T="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),m="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),x=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function M(V,A,ae){var N,Ce;return"m"===ae?A?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":V+" "+(N=+V,Ce={mm:A?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[ae].split("_"),N%10==1&&N%100!=11?Ce[0]:N%10>=2&&N%10<=4&&(N%100<10||N%100>=20)?Ce[1]:Ce[2])}var R=function(V,A){return x.test(A)?y[V.month()]:l[V.month()]};R.s=l,R.f=y;var G=function(V,A){return x.test(A)?T[V.month()]:m[V.month()]};G.s=m,G.f=T;var Y={name:"ru",weekdays:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u0432\u0441\u043a_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:R,monthsShort:G,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:M,mm:M,h:"\u0447\u0430\u0441",hh:M,d:"\u0434\u0435\u043d\u044c",dd:M,M:"\u043c\u0435\u0441\u044f\u0446",MM:M,y:"\u0433\u043e\u0434",yy:M},ordinal:function(V){return V},meridiem:function(V){return V<4?"\u043d\u043e\u0447\u0438":V<12?"\u0443\u0442\u0440\u0430":V<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"}};return L.default.locale(Y,null,!0),Y}(p(292))},8725:function(B,te,p){B.exports=function(w){"use strict";var L=function e(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(w);function y(m){return m>1&&m<5&&1!=~~(m/10)}function l(m,x,M,R){var G=m+" ";switch(M){case"s":return x||R?"p\xe1r sek\xfand":"p\xe1r sekundami";case"m":return x?"min\xfata":R?"min\xfatu":"min\xfatou";case"mm":return x||R?G+(y(m)?"min\xfaty":"min\xfat"):G+"min\xfatami";case"h":return x?"hodina":R?"hodinu":"hodinou";case"hh":return x||R?G+(y(m)?"hodiny":"hod\xedn"):G+"hodinami";case"d":return x||R?"de\u0148":"d\u0148om";case"dd":return x||R?G+(y(m)?"dni":"dn\xed"):G+"d\u0148ami";case"M":return x||R?"mesiac":"mesiacom";case"MM":return x||R?G+(y(m)?"mesiace":"mesiacov"):G+"mesiacmi";case"y":return x||R?"rok":"rokom";case"yy":return x||R?G+(y(m)?"roky":"rokov"):G+"rokmi"}}var T={name:"sk",weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),months:"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(m){return m+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"pred %s",s:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l}};return L.default.locale(T,null,!0),T}(p(292))},4829:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"sl",weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),weekStart:1,weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),ordinal:function(l){return l+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:"nekaj sekund",m:"minuta",mm:"%d minut",h:"ura",hh:"%d ur",d:"dan",dd:"%d dni",M:"mesec",MM:"%d mesecev",y:"leto",yy:"%d let"}};return L.default.locale(y,null,!0),y}(p(292))},6912:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"sv",weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(l){var T=l%10;return"["+l+(1===T||2===T?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"}};return L.default.locale(y,null,!0),y}(p(292))},983:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"th",weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},ordinal:function(l){return l+"."}};return L.default.locale(y,null,!0),y}(p(292))},3985:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"tr",weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(l){return l+"."}};return L.default.locale(y,null,!0),y}(p(292))},158:function(B,te,p){B.exports=function(w){"use strict";var L=function e(R){return R&&"object"==typeof R&&"default"in R?R:{default:R}}(w),y="\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),l="\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),T=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function m(R,G,Y){var V,A;return"m"===Y?G?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===Y?G?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":R+" "+(V=+R,A={ss:G?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:G?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:G?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[Y].split("_"),V%10==1&&V%100!=11?A[0]:V%10>=2&&V%10<=4&&(V%100<10||V%100>=20)?A[1]:A[2])}var x=function(R,G){return T.test(G)?y[R.month()]:l[R.month()]};x.s=l,x.f=y;var M={name:"uk",weekdays:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0434\u043b_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:x,monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekStart:1,relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",m,mm:m,h:m,hh:m,d:"\u0434\u0435\u043d\u044c",dd:m,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:m,y:"\u0440\u0456\u043a",yy:m},ordinal:function(R){return R},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"}};return L.default.locale(M,null,!0),M}(p(292))},9022:function(B,te,p){B.exports=function(w){"use strict";var L=function e(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(w),y={name:"zh",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(l,T){return"W"===T?l+"\u5468":l+"\u65e5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(l,T){var m=100*l+T;return m<600?"\u51cc\u6668":m<900?"\u65e9\u4e0a":m<1100?"\u4e0a\u5348":m<1300?"\u4e2d\u5348":m<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};return L.default.locale(y,null,!0),y}(p(292))},2081:function(B){B.exports=function(){"use strict";var te={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},p=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,w=/\d\d/,e=/\d\d?/,L=/\d*[^-_:/,()\s\d]+/,y={},l=function(Y){return(Y=+Y)+(Y>68?1900:2e3)},T=function(Y){return function(V){this[Y]=+V}},m=[/[+-]\d\d:?(\d\d)?|Z/,function(Y){(this.zone||(this.zone={})).offset=function(V){if(!V||"Z"===V)return 0;var A=V.match(/([+-]|\d\d)/g),ae=60*A[1]+(+A[2]||0);return 0===ae?0:"+"===A[0]?-ae:ae}(Y)}],x=function(Y){var V=y[Y];return V&&(V.indexOf?V:V.s.concat(V.f))},M=function(Y,V){var A,ae=y.meridiem;if(ae){for(var N=1;N<=24;N+=1)if(Y.indexOf(ae(N,0,V))>-1){A=N>12;break}}else A=Y===(V?"pm":"PM");return A},R={A:[L,function(Y){this.afternoon=M(Y,!1)}],a:[L,function(Y){this.afternoon=M(Y,!0)}],S:[/\d/,function(Y){this.milliseconds=100*+Y}],SS:[w,function(Y){this.milliseconds=10*+Y}],SSS:[/\d{3}/,function(Y){this.milliseconds=+Y}],s:[e,T("seconds")],ss:[e,T("seconds")],m:[e,T("minutes")],mm:[e,T("minutes")],H:[e,T("hours")],h:[e,T("hours")],HH:[e,T("hours")],hh:[e,T("hours")],D:[e,T("day")],DD:[w,T("day")],Do:[L,function(Y){var V=y.ordinal,A=Y.match(/\d+/);if(this.day=A[0],V)for(var ae=1;ae<=31;ae+=1)V(ae).replace(/\[|\]/g,"")===Y&&(this.day=ae)}],M:[e,T("month")],MM:[w,T("month")],MMM:[L,function(Y){var V=x("months"),A=(x("monthsShort")||V.map(function(ae){return ae.slice(0,3)})).indexOf(Y)+1;if(A<1)throw new Error;this.month=A%12||A}],MMMM:[L,function(Y){var V=x("months").indexOf(Y)+1;if(V<1)throw new Error;this.month=V%12||V}],Y:[/[+-]?\d+/,T("year")],YY:[w,function(Y){this.year=l(Y)}],YYYY:[/\d{4}/,T("year")],Z:m,ZZ:m};return function(Y,V,A){A.p.customParseFormat=!0,Y&&Y.parseTwoDigitYear&&(l=Y.parseTwoDigitYear);var ae=V.prototype,N=ae.parse;ae.parse=function(Ce){var we=Ce.date,ve=Ce.utc,pe=Ce.args;this.$u=ve;var Z=pe[1];if("string"==typeof Z){var ie=!0===pe[2],z=!0===pe[3],De=ie||z,k=pe[2];z&&(k=pe[2]),y=this.$locale(),!ie&&k&&(y=A.Ls[k]),this.$d=function(u,c,h){try{if(["x","X"].indexOf(c)>-1)return new Date(("X"===c?1e3:1)*u);var _=function G(Y){var A;A=y&&y.formats;for(var ae=(Y=Y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ie,z,De){var k=De&&De.toUpperCase();return z||A[De]||te[De]||A[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(O,f,v){return f||v.slice(1)})})).match(p),N=ae.length,Ce=0;Ce<N;Ce+=1){var we=ae[Ce],ve=R[we],Z=ve&&ve[1];ae[Ce]=Z?{regex:ve&&ve[0],parser:Z}:we.replace(/^\[|\]$/g,"")}return function(ie){for(var z={},De=0,k=0;De<N;De+=1){var O=ae[De];if("string"==typeof O)k+=O.length;else{var f=O.regex,v=O.parser,u=ie.slice(k),c=f.exec(u)[0];v.call(z,c),ie=ie.replace(c,"")}}return function(h){var _=h.afternoon;if(void 0!==_){var S=h.hours;_?S<12&&(h.hours+=12):12===S&&(h.hours=0),delete h.afternoon}}(z),z}}(c)(u),S=_.year,E=_.month,$=_.day,H=_.hours,Q=_.minutes,re=_.seconds,de=_.milliseconds,fe=_.zone,he=new Date,ce=$||(S||E?1:he.getDate()),Ne=S||he.getFullYear(),Pe=0;S&&!E||(Pe=E>0?E-1:he.getMonth());var qe=H||0,Je=Q||0,tt=re||0,Xe=de||0;return fe?new Date(Date.UTC(Ne,Pe,ce,qe,Je,tt,Xe+60*fe.offset*1e3)):h?new Date(Date.UTC(Ne,Pe,ce,qe,Je,tt,Xe)):new Date(Ne,Pe,ce,qe,Je,tt,Xe)}catch{return new Date("")}}(we,Z,ve),this.init(),k&&!0!==k&&(this.$L=this.locale(k).$L),De&&we!=this.format(Z)&&(this.$d=new Date("")),y={}}else if(Z instanceof Array)for(var O=Z.length,f=1;f<=O;f+=1){pe[1]=Z[f-1];var v=A.apply(this,pe);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}f===O&&(this.$d=new Date(""))}else N.call(this,Ce)}}}()},8543:function(B){B.exports=function(){"use strict";return function(te,p,w){var L=function(x){return x&&(x.indexOf?x:x.s)},y=function(x,M,R,G,Y){var V=x.name?x:x.$locale(),A=L(V[M]),ae=L(V[R]),N=A||ae.map(function(we){return we.slice(0,G)});if(!Y)return N;var Ce=V.weekStart;return N.map(function(we,ve){return N[(ve+(Ce||0))%7]})},l=function(){return w.Ls[w.locale()]},T=function(x,M){return x.formats[M]||x.formats[M.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(G,Y,V){return Y||V.slice(1)})},m=function(){var x=this;return{months:function(M){return M?M.format("MMMM"):y(x,"months")},monthsShort:function(M){return M?M.format("MMM"):y(x,"monthsShort","months",3)},firstDayOfWeek:function(){return x.$locale().weekStart||0},weekdays:function(M){return M?M.format("dddd"):y(x,"weekdays")},weekdaysMin:function(M){return M?M.format("dd"):y(x,"weekdaysMin","weekdays",2)},weekdaysShort:function(M){return M?M.format("ddd"):y(x,"weekdaysShort","weekdays",3)},longDateFormat:function(M){return T(x.$locale(),M)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};p.prototype.localeData=function(){return m.bind(this)()},w.localeData=function(){var x=l();return{firstDayOfWeek:function(){return x.weekStart||0},weekdays:function(){return w.weekdays()},weekdaysShort:function(){return w.weekdaysShort()},weekdaysMin:function(){return w.weekdaysMin()},months:function(){return w.months()},monthsShort:function(){return w.monthsShort()},longDateFormat:function(M){return T(x,M)},meridiem:x.meridiem,ordinal:x.ordinal}},w.months=function(){return y(l(),"months")},w.monthsShort=function(){return y(l(),"monthsShort","months",3)},w.weekdays=function(x){return y(l(),"weekdays",null,null,x)},w.weekdaysShort=function(x){return y(l(),"weekdaysShort","weekdays",3,x)},w.weekdaysMin=function(x){return y(l(),"weekdaysMin","weekdays",2,x)}}}()},47:function(B){B.exports=function(){"use strict";var te={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(p,w,e){var L=w.prototype,y=L.format;e.en.formats=te,L.format=function(l){void 0===l&&(l="YYYY-MM-DDTHH:mm:ssZ");var M,T=this.$locale().formats,m=(M=void 0===T?{}:T,l.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(R,G,Y){var V=Y&&Y.toUpperCase();return G||M[Y]||te[Y]||M[V].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(A,ae,N){return ae||N.slice(1)})}));return y.call(this,m)}}}()},736:function(B){B.exports=function(){"use strict";var p=/[+-]\d\d(?::?\d\d)?/g,w=/([+-]|\d\d)/g;return function(e,L,y){var l=L.prototype;y.utc=function(Y){return new L({date:Y,utc:!0,args:arguments})},l.utc=function(Y){var V=y(this.toDate(),{locale:this.$L,utc:!0});return Y?V.add(this.utcOffset(),"minute"):V},l.local=function(){return y(this.toDate(),{locale:this.$L,utc:!1})};var T=l.parse;l.parse=function(Y){Y.utc&&(this.$u=!0),this.$utils().u(Y.$offset)||(this.$offset=Y.$offset),T.call(this,Y)};var m=l.init;l.init=function(){if(this.$u){var Y=this.$d;this.$y=Y.getUTCFullYear(),this.$M=Y.getUTCMonth(),this.$D=Y.getUTCDate(),this.$W=Y.getUTCDay(),this.$H=Y.getUTCHours(),this.$m=Y.getUTCMinutes(),this.$s=Y.getUTCSeconds(),this.$ms=Y.getUTCMilliseconds()}else m.call(this)};var x=l.utcOffset;l.utcOffset=function(Y,V){var A=this.$utils().u;if(A(Y))return this.$u?0:A(this.$offset)?x.call(this):this.$offset;if("string"==typeof Y&&null===(Y=function(we){void 0===we&&(we="");var ve=we.match(p);if(!ve)return null;var pe=(""+ve[0]).match(w)||["-",0,0],ie=60*+pe[1]+ +pe[2];return 0===ie?0:"+"===pe[0]?ie:-ie}(Y)))return this;var ae=Math.abs(Y)<=16?60*Y:Y,N=this;if(V)return N.$offset=ae,N.$u=0===Y,N;if(0!==Y){var Ce=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(N=this.local().add(ae+Ce,"minute")).$offset=ae,N.$x.$localOffset=Ce}else N=this.utc();return N};var M=l.format;l.format=function(Y){return M.call(this,Y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},l.valueOf=function(){var Y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*Y},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var R=l.toDate;l.toDate=function(Y){return"s"===Y&&this.$offset?y(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():R.call(this)};var G=l.diff;l.diff=function(Y,V,A){if(Y&&this.$u===Y.$u)return G.call(this,Y,V,A);var ae=this.local(),N=y(Y).local();return G.call(ae,N,V,A)}}}()},879:(B,te,p)=>{"use strict";function w(k){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(k)}function L(k,O){return(L=Object.setPrototypeOf||function(v,u){return v.__proto__=u,v})(k,O)}function l(k,O){return!O||"object"!==w(O)&&"function"!=typeof O?T(k):O}function T(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function x(k){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(k)}function M(k,O){var f;if(typeof Symbol>"u"||null==k[Symbol.iterator]){if(Array.isArray(k)||(f=function R(k,O){if(k){if("string"==typeof k)return G(k,O);var f=Object.prototype.toString.call(k).slice(8,-1);if("Object"===f&&k.constructor&&(f=k.constructor.name),"Map"===f||"Set"===f)return Array.from(k);if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return G(k,O)}}(k))||O&&k&&"number"==typeof k.length){f&&(k=f);var v=0,u=function(){};return{s:u,n:function(){return v>=k.length?{done:!0}:{done:!1,value:k[v++]}},e:function(E){throw E},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,c=!0,h=!1;return{s:function(){f=k[Symbol.iterator]()},n:function(){var E=f.next();return c=E.done,E},e:function(E){h=!0,_=E},f:function(){try{!c&&null!=f.return&&f.return()}finally{if(h)throw _}}}}function G(k,O){(null==O||O>k.length)&&(O=k.length);for(var f=0,v=new Array(O);f<O;f++)v[f]=k[f];return v}function Y(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}function V(k,O){for(var f=0;f<O.length;f++){var v=O[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(k,v.key,v)}}function A(k,O,f){return O&&V(k.prototype,O),f&&V(k,f),k}B=p.nmd(B);var ae=function(){function k(){Y(this,k)}return A(k,[{key:"on",value:function(f,v){return this._callbacks=this._callbacks||{},this._callbacks[f]||(this._callbacks[f]=[]),this._callbacks[f].push(v),this}},{key:"emit",value:function(f){this._callbacks=this._callbacks||{};var v=this._callbacks[f];if(v){for(var u=arguments.length,c=new Array(u>1?u-1:0),h=1;h<u;h++)c[h-1]=arguments[h];var S,_=M(v);try{for(_.s();!(S=_.n()).done;)S.value.apply(this,c)}catch($){_.e($)}finally{_.f()}}return this}},{key:"off",value:function(f,v){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var u=this._callbacks[f];if(!u)return this;if(1===arguments.length)return delete this._callbacks[f],this;for(var c=0;c<u.length;c++)if(u[c]===v){u.splice(c,1);break}return this}}]),k}(),N=function(k){!function e(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),O&&L(k,O)}(f,k);var O=function y(k){var O=function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,v=x(k);if(O){var c=x(this).constructor;u=Reflect.construct(v,arguments,c)}else u=v.apply(this,arguments);return l(this,u)}}(f);function f(v,u){var c,h,_;if(Y(this,f),(c=O.call(this)).element=v,c.version=f.version,c.defaultOptions.previewTemplate=c.defaultOptions.previewTemplate.replace(/\n*/g,""),c.clickableElements=[],c.listeners=[],c.files=[],"string"==typeof c.element&&(c.element=document.querySelector(c.element)),!c.element||null==c.element.nodeType)throw new Error("Invalid dropzone element.");if(c.element.dropzone)throw new Error("Dropzone already attached.");f.instances.push(T(c)),c.element.dropzone=T(c);var S=null!=(_=f.optionsForElement(c.element))?_:{};if(c.options=f.extend({},c.defaultOptions,S,u??{}),c.options.forceFallback||!f.isBrowserSupported())return l(c,c.options.fallback.call(T(c)));if(null==c.options.url&&(c.options.url=c.element.getAttribute("action")),!c.options.url)throw new Error("No URL provided.");if(c.options.acceptedFiles&&c.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(c.options.uploadMultiple&&c.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return c.options.acceptedMimeTypes&&(c.options.acceptedFiles=c.options.acceptedMimeTypes,delete c.options.acceptedMimeTypes),null!=c.options.renameFilename&&(c.options.renameFile=function(E){return c.options.renameFilename.call(T(c),E.name,E)}),"string"==typeof c.options.method&&(c.options.method=c.options.method.toUpperCase()),(h=c.getExistingFallback())&&h.parentNode&&h.parentNode.removeChild(h),!1!==c.options.previewsContainer&&(c.previewsContainer=c.options.previewsContainer?f.getElement(c.options.previewsContainer,"previewsContainer"):c.element),c.options.clickable&&(c.clickableElements=!0===c.options.clickable?[c.element]:f.getElements(c.options.clickable,"clickable")),c.init(),c}return A(f,null,[{key:"initClass",value:function(){this.prototype.Emitter=ae,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(c,h,_){if(_)return{dzuuid:_.file.upload.uuid,dzchunkindex:_.index,dztotalfilesize:_.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:_.file.upload.totalChunkCount,dzchunkbyteoffset:_.index*this.options.chunkSize}},accept:function(c,h){return h()},chunksUploaded:function(c,h){h()},fallback:function(){var c;this.element.className="".concat(this.element.className," dz-browser-not-supported");var _,h=M(this.element.getElementsByTagName("div"));try{for(h.s();!(_=h.n()).done;){var S=_.value;if(/(^| )dz-message($| )/.test(S.className)){c=S,S.className="dz-message";break}}}catch($){h.e($)}finally{h.f()}c||(c=f.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(c));var E=c.getElementsByTagName("span")[0];return E&&(null!=E.textContent?E.textContent=this.options.dictFallbackMessage:null!=E.innerText&&(E.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(c,h,_,S){var E={srcX:0,srcY:0,srcWidth:c.width,srcHeight:c.height},$=c.width/c.height;null==h&&null==_?(h=E.srcWidth,_=E.srcHeight):null==h?h=_*$:null==_&&(_=h/$);var H=(h=Math.min(h,E.srcWidth))/(_=Math.min(_,E.srcHeight));if(E.srcWidth>h||E.srcHeight>_)if("crop"===S)$>H?(E.srcHeight=c.height,E.srcWidth=E.srcHeight*H):(E.srcWidth=c.width,E.srcHeight=E.srcWidth/H);else{if("contain"!==S)throw new Error("Unknown resizeMethod '".concat(S,"'"));$>H?_=h/$:h=_*$}return E.srcX=(c.width-E.srcWidth)/2,E.srcY=(c.height-E.srcHeight)/2,E.trgWidth=h,E.trgHeight=_,E},transformFile:function(c,h){return(this.options.resizeWidth||this.options.resizeHeight)&&c.type.match(/image.*/)?this.resizeImage(c,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,h):h(c)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(c){return this.element.classList.remove("dz-drag-hover")},dragstart:function(c){},dragend:function(c){return this.element.classList.remove("dz-drag-hover")},dragenter:function(c){return this.element.classList.add("dz-drag-hover")},dragover:function(c){return this.element.classList.add("dz-drag-hover")},dragleave:function(c){return this.element.classList.remove("dz-drag-hover")},paste:function(c){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(c){var h=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){c.previewElement=f.createElement(this.options.previewTemplate.trim()),c.previewTemplate=c.previewElement,this.previewsContainer.appendChild(c.previewElement);var S,_=M(c.previewElement.querySelectorAll("[data-dz-name]"));try{for(_.s();!(S=_.n()).done;){var E=S.value;E.textContent=c.name}}catch(he){_.e(he)}finally{_.f()}var H,$=M(c.previewElement.querySelectorAll("[data-dz-size]"));try{for($.s();!(H=$.n()).done;)(E=H.value).innerHTML=this.filesize(c.size)}catch(he){$.e(he)}finally{$.f()}this.options.addRemoveLinks&&(c._removeLink=f.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),c.previewElement.appendChild(c._removeLink));var de,Q=function(ce){return ce.preventDefault(),ce.stopPropagation(),c.status===f.UPLOADING?f.confirm(h.options.dictCancelUploadConfirmation,function(){return h.removeFile(c)}):h.options.dictRemoveFileConfirmation?f.confirm(h.options.dictRemoveFileConfirmation,function(){return h.removeFile(c)}):h.removeFile(c)},re=M(c.previewElement.querySelectorAll("[data-dz-remove]"));try{for(re.s();!(de=re.n()).done;)de.value.addEventListener("click",Q)}catch(he){re.e(he)}finally{re.f()}}},removedfile:function(c){return null!=c.previewElement&&null!=c.previewElement.parentNode&&c.previewElement.parentNode.removeChild(c.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(c,h){if(c.previewElement){c.previewElement.classList.remove("dz-file-preview");var S,_=M(c.previewElement.querySelectorAll("[data-dz-thumbnail]"));try{for(_.s();!(S=_.n()).done;){var E=S.value;E.alt=c.name,E.src=h}}catch($){_.e($)}finally{_.f()}return setTimeout(function(){return c.previewElement.classList.add("dz-image-preview")},1)}},error:function(c,h){if(c.previewElement){c.previewElement.classList.add("dz-error"),"string"!=typeof h&&h.error&&(h=h.error);var S,_=M(c.previewElement.querySelectorAll("[data-dz-errormessage]"));try{for(_.s();!(S=_.n()).done;)S.value.textContent=h}catch($){_.e($)}finally{_.f()}}},errormultiple:function(){},processing:function(c){if(c.previewElement&&(c.previewElement.classList.add("dz-processing"),c._removeLink))return c._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(c,h,_){if(c.previewElement){var E,S=M(c.previewElement.querySelectorAll("[data-dz-uploadprogress]"));try{for(S.s();!(E=S.n()).done;){var $=E.value;"PROGRESS"===$.nodeName?$.value=h:$.style.width="".concat(h,"%")}}catch(H){S.e(H)}finally{S.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(c){if(c.previewElement)return c.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(c){return this.emit("error",c,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(c){if(c._removeLink&&(c._removeLink.innerHTML=this.options.dictRemoveFile),c.previewElement)return c.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),_=1;_<c;_++)h[_-1]=arguments[_];for(var S=0,E=h;S<E.length;S++){var $=E[S];for(var H in $)u[H]=$[H]}return u}}]),A(f,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(u){return u.accepted}).map(function(u){return u})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(u){return!u.accepted}).map(function(u){return u})}},{key:"getFilesWithStatus",value:function(u){return this.files.filter(function(c){return c.status===u}).map(function(c){return c})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(f.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(f.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(f.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(u){return u.status===f.UPLOADING||u.status===f.QUEUED}).map(function(u){return u})}},{key:"init",value:function(){var u=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(f.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function H(){return u.hiddenFileInput&&u.hiddenFileInput.parentNode.removeChild(u.hiddenFileInput),u.hiddenFileInput=document.createElement("input"),u.hiddenFileInput.setAttribute("type","file"),(null===u.options.maxFiles||u.options.maxFiles>1)&&u.hiddenFileInput.setAttribute("multiple","multiple"),u.hiddenFileInput.className="dz-hidden-input",null!==u.options.acceptedFiles&&u.hiddenFileInput.setAttribute("accept",u.options.acceptedFiles),null!==u.options.capture&&u.hiddenFileInput.setAttribute("capture",u.options.capture),u.hiddenFileInput.style.visibility="hidden",u.hiddenFileInput.style.position="absolute",u.hiddenFileInput.style.top="0",u.hiddenFileInput.style.left="0",u.hiddenFileInput.style.height="0",u.hiddenFileInput.style.width="0",f.getElement(u.options.hiddenInputContainer,"hiddenInputContainer").appendChild(u.hiddenFileInput),u.hiddenFileInput.addEventListener("change",function(){var Q=u.hiddenFileInput.files;if(Q.length){var de,re=M(Q);try{for(re.s();!(de=re.n()).done;)u.addFile(de.value)}catch(he){re.e(he)}finally{re.f()}}return u.emit("addedfiles",Q),H()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var _,h=M(this.events);try{for(h.s();!(_=h.n()).done;){var S=_.value;this.on(S,this.options[S])}}catch(H){h.e(H)}finally{h.f()}this.on("uploadprogress",function(){return u.updateTotalUploadProgress()}),this.on("removedfile",function(){return u.updateTotalUploadProgress()}),this.on("canceled",function(H){return u.emit("complete",H)}),this.on("complete",function(H){if(0===u.getAddedFiles().length&&0===u.getUploadingFiles().length&&0===u.getQueuedFiles().length)return setTimeout(function(){return u.emit("queuecomplete")},0)});var $=function(Q){if(function(Q){if(Q.dataTransfer.types)for(var re=0;re<Q.dataTransfer.types.length;re++)if("Files"===Q.dataTransfer.types[re])return!0;return!1}(Q))return Q.stopPropagation(),Q.preventDefault?Q.preventDefault():Q.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(Q){return u.emit("dragstart",Q)},dragenter:function(Q){return $(Q),u.emit("dragenter",Q)},dragover:function(Q){var re;try{re=Q.dataTransfer.effectAllowed}catch{}return Q.dataTransfer.dropEffect="move"===re||"linkMove"===re?"move":"copy",$(Q),u.emit("dragover",Q)},dragleave:function(Q){return u.emit("dragleave",Q)},drop:function(Q){return $(Q),u.drop(Q)},dragend:function(Q){return u.emit("dragend",Q)}}}],this.clickableElements.forEach(function(H){return u.listeners.push({element:H,events:{click:function(re){return(H!==u.element||re.target===u.element||f.elementInside(re.target,u.element.querySelector(".dz-message")))&&u.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),null!=this.hiddenFileInput&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,f.instances.splice(f.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var u,c=0,h=0;if(this.getActiveFiles().length){var E,S=M(this.getActiveFiles());try{for(S.s();!(E=S.n()).done;){var $=E.value;c+=$.upload.bytesSent,h+=$.upload.total}}catch(H){S.e(H)}finally{S.f()}u=100*c/h}else u=100;return this.emit("totaluploadprogress",u,h,c)}},{key:"_getParamName",value:function(u){return"function"==typeof this.options.paramName?this.options.paramName(u):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(u,"]"):"")}},{key:"_renameFile",value:function(u){return"function"!=typeof this.options.renameFile?u.name:this.options.renameFile(u)}},{key:"getFallbackForm",value:function(){var u,c;if(u=this.getExistingFallback())return u;var h='<div class="dz-fallback">';this.options.dictFallbackText&&(h+="<p>".concat(this.options.dictFallbackText,"</p>")),h+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var _=f.createElement(h);return"FORM"!==this.element.tagName?(c=f.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(_):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),c??_}},{key:"getExistingFallback",value:function(){for(var u=function($){var Q,H=M($);try{for(H.s();!(Q=H.n()).done;){var re=Q.value;if(/(^| )fallback($| )/.test(re.className))return re}}catch(de){H.e(de)}finally{H.f()}},c=0,h=["div","form"];c<h.length;c++){var S;if(S=u(this.element.getElementsByTagName(h[c])))return S}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(u){return function(){var c=[];for(var h in u.events)c.push(u.element.addEventListener(h,u.events[h],!1));return c}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(u){return function(){var c=[];for(var h in u.events)c.push(u.element.removeEventListener(h,u.events[h],!1));return c}()})}},{key:"disable",value:function(){var u=this;return this.clickableElements.forEach(function(c){return c.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(c){return u.cancelUpload(c)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(u){return u.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(u){var c=0,h="b";if(u>0){for(var _=["tb","gb","mb","kb","b"],S=0;S<_.length;S++){var E=_[S];if(u>=Math.pow(this.options.filesizeBase,4-S)/10){c=u/Math.pow(this.options.filesizeBase,4-S),h=E;break}}c=Math.round(10*c)/10}return"<strong>".concat(c,"</strong> ").concat(this.options.dictFileSizeUnits[h])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(u){if(u.dataTransfer){this.emit("drop",u);for(var c=[],h=0;h<u.dataTransfer.files.length;h++)c[h]=u.dataTransfer.files[h];if(c.length){var _=u.dataTransfer.items;_&&_.length&&null!=_[0].webkitGetAsEntry?this._addFilesFromItems(_):this.handleFiles(c)}this.emit("addedfiles",c)}}},{key:"paste",value:function(u){if(null!=function z(k,O){return typeof k<"u"&&null!==k?O(k):void 0}(u?.clipboardData,function(h){return h.items})){this.emit("paste",u);var c=u.clipboardData.items;if(c.length)return this._addFilesFromItems(c)}}},{key:"handleFiles",value:function(u){var h,c=M(u);try{for(c.s();!(h=c.n()).done;)this.addFile(h.value)}catch(S){c.e(S)}finally{c.f()}}},{key:"_addFilesFromItems",value:function(u){var c=this;return function(){var S,h=[],_=M(u);try{for(_.s();!(S=_.n()).done;){var $,E=S.value;null!=E.webkitGetAsEntry&&($=E.webkitGetAsEntry())?h.push($.isFile?c.addFile(E.getAsFile()):$.isDirectory?c._addFilesFromDirectory($,$.name):void 0):h.push(null==E.getAsFile||null!=E.kind&&"file"!==E.kind?void 0:c.addFile(E.getAsFile()))}}catch(H){_.e(H)}finally{_.f()}return h}()}},{key:"_addFilesFromDirectory",value:function(u,c){var h=this,_=u.createReader(),S=function(H){return function De(k,O,f){if(typeof k<"u"&&null!==k&&"function"==typeof k[O])return f(k,O)}(console,"log",function(Q){return Q.log(H)})};return function $(){return _.readEntries(function(H){if(H.length>0){var re,Q=M(H);try{for(Q.s();!(re=Q.n()).done;){var de=re.value;de.isFile?de.file(function(fe){if(!h.options.ignoreHiddenFiles||"."!==fe.name.substring(0,1))return fe.fullPath="".concat(c,"/").concat(fe.name),h.addFile(fe)}):de.isDirectory&&h._addFilesFromDirectory(de,"".concat(c,"/").concat(de.name))}}catch(fe){Q.e(fe)}finally{Q.f()}$()}return null},S)}()}},{key:"accept",value:function(u,c){this.options.maxFilesize&&u.size>1024*this.options.maxFilesize*1024?c(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(u.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):f.isValidFile(u,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(c(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",u)):this.options.accept.call(this,u,c):c(this.options.dictInvalidFileType)}},{key:"addFile",value:function(u){var c=this;u.upload={uuid:f.uuidv4(),progress:0,total:u.size,bytesSent:0,filename:this._renameFile(u)},this.files.push(u),u.status=f.ADDED,this.emit("addedfile",u),this._enqueueThumbnail(u),this.accept(u,function(h){h?(u.accepted=!1,c._errorProcessing([u],h)):(u.accepted=!0,c.options.autoQueue&&c.enqueueFile(u)),c._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(u){var h,c=M(u);try{for(c.s();!(h=c.n()).done;)this.enqueueFile(h.value)}catch(S){c.e(S)}finally{c.f()}return null}},{key:"enqueueFile",value:function(u){var c=this;if(u.status!==f.ADDED||!0!==u.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(u.status=f.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return c.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(u){var c=this;if(this.options.createImageThumbnails&&u.type.match(/image.*/)&&u.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(u),setTimeout(function(){return c._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var u=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var c=this._thumbnailQueue.shift();return this.createThumbnail(c,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(h){return u.emit("thumbnail",c,h),u._processingThumbnail=!1,u._processThumbnailQueue()})}}},{key:"removeFile",value:function(u){if(u.status===f.UPLOADING&&this.cancelUpload(u),this.files=Ce(this.files,u),this.emit("removedfile",u),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(u){null==u&&(u=!1);var h,c=M(this.files.slice());try{for(c.s();!(h=c.n()).done;){var _=h.value;(_.status!==f.UPLOADING||u)&&this.removeFile(_)}}catch(S){c.e(S)}finally{c.f()}return null}},{key:"resizeImage",value:function(u,c,h,_,S){var E=this;return this.createThumbnail(u,c,h,_,!0,function($,H){if(null==H)return S(u);var Q=E.options.resizeMimeType;null==Q&&(Q=u.type);var re=H.toDataURL(Q,E.options.resizeQuality);return("image/jpeg"===Q||"image/jpg"===Q)&&(re=Z.restore(u.dataURL,re)),S(f.dataURItoBlob(re))})}},{key:"createThumbnail",value:function(u,c,h,_,S,E){var $=this,H=new FileReader;H.onload=function(){u.dataURL=H.result,"image/svg+xml"!==u.type?$.createThumbnailFromUrl(u,c,h,_,S,E):E?.(H.result)},H.readAsDataURL(u)}},{key:"displayExistingFile",value:function(u,c,h,_){var S=this,E=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.emit("addedfile",u),this.emit("complete",u),E?(u.dataURL=c,this.createThumbnailFromUrl(u,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,function(Q){S.emit("thumbnail",u,Q),h&&h()},_)):(this.emit("thumbnail",u,c),h&&h())}},{key:"createThumbnailFromUrl",value:function(u,c,h,_,S,E,$){var H=this,Q=document.createElement("img");return $&&(Q.crossOrigin=$),S="from-image"!=getComputedStyle(document.body).imageOrientation&&S,Q.onload=function(){var re=function(fe){return fe(1)};return typeof EXIF<"u"&&null!==EXIF&&S&&(re=function(fe){return EXIF.getData(Q,function(){return fe(EXIF.getTag(this,"Orientation"))})}),re(function(de){u.width=Q.width,u.height=Q.height;var fe=H.options.resize.call(H,u,c,h,_),he=document.createElement("canvas"),ce=he.getContext("2d");switch(he.width=fe.trgWidth,he.height=fe.trgHeight,de>4&&(he.width=fe.trgHeight,he.height=fe.trgWidth),de){case 2:ce.translate(he.width,0),ce.scale(-1,1);break;case 3:ce.translate(he.width,he.height),ce.rotate(Math.PI);break;case 4:ce.translate(0,he.height),ce.scale(1,-1);break;case 5:ce.rotate(.5*Math.PI),ce.scale(1,-1);break;case 6:ce.rotate(.5*Math.PI),ce.translate(0,-he.width);break;case 7:ce.rotate(.5*Math.PI),ce.translate(he.height,-he.width),ce.scale(-1,1);break;case 8:ce.rotate(-.5*Math.PI),ce.translate(-he.height,0)}pe(ce,Q,null!=fe.srcX?fe.srcX:0,null!=fe.srcY?fe.srcY:0,fe.srcWidth,fe.srcHeight,null!=fe.trgX?fe.trgX:0,null!=fe.trgY?fe.trgY:0,fe.trgWidth,fe.trgHeight);var Ne=he.toDataURL("image/png");if(null!=E)return E(Ne,he)})},null!=E&&(Q.onerror=E),Q.src=u.dataURL}},{key:"processQueue",value:function(){var u=this.options.parallelUploads,c=this.getUploadingFiles().length,h=c;if(!(c>=u)){var _=this.getQueuedFiles();if(_.length>0){if(this.options.uploadMultiple)return this.processFiles(_.slice(0,u-c));for(;h<u;){if(!_.length)return;this.processFile(_.shift()),h++}}}}},{key:"processFile",value:function(u){return this.processFiles([u])}},{key:"processFiles",value:function(u){var h,c=M(u);try{for(c.s();!(h=c.n()).done;){var _=h.value;_.processing=!0,_.status=f.UPLOADING,this.emit("processing",_)}}catch(S){c.e(S)}finally{c.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",u),this.uploadFiles(u)}},{key:"_getFilesWithXhr",value:function(u){return this.files.filter(function(h){return h.xhr===u}).map(function(h){return h})}},{key:"cancelUpload",value:function(u){if(u.status===f.UPLOADING){var _,c=this._getFilesWithXhr(u.xhr),h=M(c);try{for(h.s();!(_=h.n()).done;)_.value.status=f.CANCELED}catch(Q){h.e(Q)}finally{h.f()}typeof u.xhr<"u"&&u.xhr.abort();var $,E=M(c);try{for(E.s();!($=E.n()).done;)this.emit("canceled",$.value)}catch(Q){E.e(Q)}finally{E.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",c)}else(u.status===f.ADDED||u.status===f.QUEUED)&&(u.status=f.CANCELED,this.emit("canceled",u),this.options.uploadMultiple&&this.emit("canceledmultiple",[u]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(u){if("function"==typeof u){for(var c=arguments.length,h=new Array(c>1?c-1:0),_=1;_<c;_++)h[_-1]=arguments[_];return u.apply(this,h)}return u}},{key:"uploadFile",value:function(u){return this.uploadFiles([u])}},{key:"uploadFiles",value:function(u){var c=this;this._transformFiles(u,function(h){if(c.options.chunking){var _=h[0];u[0].upload.chunked=c.options.chunking&&(c.options.forceChunking||_.size>c.options.chunkSize),u[0].upload.totalChunkCount=Math.ceil(_.size/c.options.chunkSize)}if(u[0].upload.chunked){var S=u[0],E=h[0];S.upload.chunks=[];var H=function(){for(var he=0;void 0!==S.upload.chunks[he];)he++;if(!(he>=S.upload.totalChunkCount)){var ce=he*c.options.chunkSize,Ne=Math.min(ce+c.options.chunkSize,E.size),Pe={name:c._getParamName(0),data:E.webkitSlice?E.webkitSlice(ce,Ne):E.slice(ce,Ne),filename:S.upload.filename,chunkIndex:he};S.upload.chunks[he]={file:S,index:he,dataBlock:Pe,status:f.UPLOADING,progress:0,retries:0},c._uploadData(u,[Pe])}};if(S.upload.finishedChunkUpload=function(fe){var he=!0;fe.status=f.SUCCESS,fe.dataBlock=null,fe.xhr=null;for(var ce=0;ce<S.upload.totalChunkCount;ce++){if(void 0===S.upload.chunks[ce])return H();S.upload.chunks[ce].status!==f.SUCCESS&&(he=!1)}he&&c.options.chunksUploaded(S,function(){c._finished(u,"",null)})},c.options.parallelChunkUploads)for(var Q=0;Q<S.upload.totalChunkCount;Q++)H();else H()}else{for(var re=[],de=0;de<u.length;de++)re[de]={name:c._getParamName(de),data:h[de],filename:u[de].upload.filename};c._uploadData(u,re)}})}},{key:"_getChunk",value:function(u,c){for(var h=0;h<u.upload.totalChunkCount;h++)if(void 0!==u.upload.chunks[h]&&u.upload.chunks[h].xhr===c)return u.upload.chunks[h]}},{key:"_uploadData",value:function(u,c){var E,h=this,_=new XMLHttpRequest,S=M(u);try{for(S.s();!(E=S.n()).done;)E.value.xhr=_}catch(je){S.e(je)}finally{S.f()}u[0].upload.chunked&&(u[0].upload.chunks[c[0].chunkIndex].xhr=_);var H=this.resolveOption(this.options.method,u),Q=this.resolveOption(this.options.url,u);_.open(H,Q,!0),_.timeout=this.resolveOption(this.options.timeout,u),_.withCredentials=!!this.options.withCredentials,_.onload=function(je){h._finishedUploading(u,_,je)},_.ontimeout=function(){h._handleUploadError(u,_,"Request timedout after ".concat(h.options.timeout/1e3," seconds"))},_.onerror=function(){h._handleUploadError(u,_)},(null!=_.upload?_.upload:_).onprogress=function(je){return h._updateFilesUploadProgress(u,_,je)};var de={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var fe in this.options.headers&&f.extend(de,this.options.headers),de){var he=de[fe];he&&_.setRequestHeader(fe,he)}var ce=new FormData;if(this.options.params){var Ne=this.options.params;for(var Pe in"function"==typeof Ne&&(Ne=Ne.call(this,u,_,u[0].upload.chunked?this._getChunk(u[0],_):null)),Ne){var qe=Ne[Pe];if(Array.isArray(qe))for(var Je=0;Je<qe.length;Je++)ce.append(Pe,qe[Je]);else ce.append(Pe,qe)}}var Xe,tt=M(u);try{for(tt.s();!(Xe=tt.n()).done;)this.emit("sending",Xe.value,_,ce)}catch(je){tt.e(je)}finally{tt.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",u,_,ce),this._addFormElementData(ce);for(var Ct=0;Ct<c.length;Ct++){var bt=c[Ct];ce.append(bt.name,bt.data,bt.filename)}this.submitRequest(_,ce,u)}},{key:"_transformFiles",value:function(u,c){for(var h=this,_=[],S=0,E=function(Q){h.options.transformFile.call(h,u[Q],function(re){_[Q]=re,++S===u.length&&c(_)})},$=0;$<u.length;$++)E($)}},{key:"_addFormElementData",value:function(u){if("FORM"===this.element.tagName){var h,c=M(this.element.querySelectorAll("input, textarea, select, button"));try{for(c.s();!(h=c.n()).done;){var _=h.value,S=_.getAttribute("name"),E=_.getAttribute("type");if(E&&(E=E.toLowerCase()),!(typeof S>"u"||null===S))if("SELECT"===_.tagName&&_.hasAttribute("multiple")){var H,$=M(_.options);try{for($.s();!(H=$.n()).done;){var Q=H.value;Q.selected&&u.append(S,Q.value)}}catch(re){$.e(re)}finally{$.f()}}else(!E||"checkbox"!==E&&"radio"!==E||_.checked)&&u.append(S,_.value)}}catch(re){c.e(re)}finally{c.f()}}}},{key:"_updateFilesUploadProgress",value:function(u,c,h){var _;if(typeof h<"u"){if(_=100*h.loaded/h.total,u[0].upload.chunked){var S=u[0],E=this._getChunk(S,c);E.progress=_,E.total=h.total,E.bytesSent=h.loaded,S.upload.progress=0,S.upload.total=0,S.upload.bytesSent=0;for(var re=0;re<S.upload.totalChunkCount;re++)void 0!==S.upload.chunks[re]&&void 0!==S.upload.chunks[re].progress&&(S.upload.progress+=S.upload.chunks[re].progress,S.upload.total+=S.upload.chunks[re].total,S.upload.bytesSent+=S.upload.chunks[re].bytesSent);S.upload.progress=S.upload.progress/S.upload.totalChunkCount}else{var fe,de=M(u);try{for(de.s();!(fe=de.n()).done;){var he=fe.value;he.upload.progress=_,he.upload.total=h.total,he.upload.bytesSent=h.loaded}}catch(je){de.e(je)}finally{de.f()}}var Ne,ce=M(u);try{for(ce.s();!(Ne=ce.n()).done;){var Pe=Ne.value;this.emit("uploadprogress",Pe,Pe.upload.progress,Pe.upload.bytesSent)}}catch(je){ce.e(je)}finally{ce.f()}}else{var qe=!0;_=100;var tt,Je=M(u);try{for(Je.s();!(tt=Je.n()).done;){var Xe=tt.value;(100!==Xe.upload.progress||Xe.upload.bytesSent!==Xe.upload.total)&&(qe=!1),Xe.upload.progress=_,Xe.upload.bytesSent=Xe.upload.total}}catch(je){Je.e(je)}finally{Je.f()}if(qe)return;var Ct,ht=M(u);try{for(ht.s();!(Ct=ht.n()).done;){var bt=Ct.value;this.emit("uploadprogress",bt,_,bt.upload.bytesSent)}}catch(je){ht.e(je)}finally{ht.f()}}}},{key:"_finishedUploading",value:function(u,c,h){var _;if(u[0].status!==f.CANCELED&&4===c.readyState){if("arraybuffer"!==c.responseType&&"blob"!==c.responseType&&(_=c.responseText,c.getResponseHeader("content-type")&&~c.getResponseHeader("content-type").indexOf("application/json")))try{_=JSON.parse(_)}catch(S){h=S,_="Invalid JSON response from server."}this._updateFilesUploadProgress(u),200<=c.status&&c.status<300?u[0].upload.chunked?u[0].upload.finishedChunkUpload(this._getChunk(u[0],c)):this._finished(u,_,h):this._handleUploadError(u,c,_)}}},{key:"_handleUploadError",value:function(u,c,h){if(u[0].status!==f.CANCELED){if(u[0].upload.chunked&&this.options.retryChunks){var _=this._getChunk(u[0],c);if(_.retries++<this.options.retryChunksLimit)return void this._uploadData(u,[_.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(u,h||this.options.dictResponseError.replace("{{statusCode}}",c.status),c)}}},{key:"submitRequest",value:function(u,c,h){u.send(c)}},{key:"_finished",value:function(u,c,h){var S,_=M(u);try{for(_.s();!(S=_.n()).done;){var E=S.value;E.status=f.SUCCESS,this.emit("success",E,c,h),this.emit("complete",E)}}catch($){_.e($)}finally{_.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",u,c,h),this.emit("completemultiple",u)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(u,c,h){var S,_=M(u);try{for(_.s();!(S=_.n()).done;){var E=S.value;E.status=f.ERROR,this.emit("error",E,c,h),this.emit("complete",E)}}catch($){_.e($)}finally{_.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",u,c,h),this.emit("completemultiple",u)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var c=16*Math.random()|0;return("x"===u?c:3&c|8).toString(16)})}}]),f}(ae);N.initClass(),N.version="5.7.2",N.options={},N.optionsForElement=function(k){if(k.getAttribute("id"))return N.options[we(k.getAttribute("id"))]},N.instances=[],N.forElement=function(k){if("string"==typeof k&&(k=document.querySelector(k)),null==k?.dropzone)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return k.dropzone},N.autoDiscover=!0,N.discover=function(){var k;if(document.querySelectorAll)k=document.querySelectorAll(".dropzone");else{k=[];var O=function(v){return function(){var h,u=[],c=M(v);try{for(c.s();!(h=c.n()).done;){var _=h.value;/(^| )dropzone($| )/.test(_.className)?u.push(k.push(_)):u.push(void 0)}}catch(S){c.e(S)}finally{c.f()}return u}()};O(document.getElementsByTagName("div")),O(document.getElementsByTagName("form"))}return function(){var u,f=[],v=M(k);try{for(v.s();!(u=v.n()).done;){var c=u.value;!1!==N.optionsForElement(c)?f.push(new N(c)):f.push(void 0)}}catch(h){v.e(h)}finally{v.f()}return f}()},N.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],N.isBrowserSupported=function(){var k=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var f,O=M(N.blacklistedBrowsers);try{for(O.s();!(f=O.n()).done;)f.value.test(navigator.userAgent)&&(k=!1)}catch(u){O.e(u)}finally{O.f()}}else k=!1;else k=!1;return k},N.dataURItoBlob=function(k){for(var O=atob(k.split(",")[1]),f=k.split(",")[0].split(":")[1].split(";")[0],v=new ArrayBuffer(O.length),u=new Uint8Array(v),c=0,h=O.length,_=0<=h;_?c<=h:c>=h;_?c++:c--)u[c]=O.charCodeAt(c);return new Blob([v],{type:f})};var Ce=function(O,f){return O.filter(function(v){return v!==f}).map(function(v){return v})},we=function(O){return O.replace(/[\-_](\w)/g,function(f){return f.charAt(1).toUpperCase()})};N.createElement=function(k){var O=document.createElement("div");return O.innerHTML=k,O.childNodes[0]},N.elementInside=function(k,O){if(k===O)return!0;for(;k=k.parentNode;)if(k===O)return!0;return!1},N.getElement=function(k,O){var f;if("string"==typeof k?f=document.querySelector(k):null!=k.nodeType&&(f=k),null==f)throw new Error("Invalid `".concat(O,"` option provided. Please provide a CSS selector or a plain HTML element."));return f},N.getElements=function(k,O){var v;if(k instanceof Array){v=[];try{var c,u=M(k);try{for(u.s();!(c=u.n()).done;)v.push(this.getElement(c.value,O))}catch(S){u.e(S)}finally{u.f()}}catch{v=null}}else if("string"==typeof k){v=[];var _,h=M(document.querySelectorAll(k));try{for(h.s();!(_=h.n()).done;)v.push(_.value)}catch(S){h.e(S)}finally{h.f()}}else null!=k.nodeType&&(v=[k]);if(null==v||!v.length)throw new Error("Invalid `".concat(O,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return v},N.confirm=function(k,O,f){return window.confirm(k)?O():null!=f?f():void 0},N.isValidFile=function(k,O){if(!O)return!0;O=O.split(",");var c,f=k.type,v=f.replace(/\/.*$/,""),u=M(O);try{for(u.s();!(c=u.n()).done;){var h=c.value;if("."===(h=h.trim()).charAt(0)){if(-1!==k.name.toLowerCase().indexOf(h.toLowerCase(),k.name.length-h.length))return!0}else if(/\/\*$/.test(h)){if(v===h.replace(/\/.*$/,""))return!0}else if(f===h)return!0}}catch(_){u.e(_)}finally{u.f()}return!1},typeof jQuery<"u"&&null!==jQuery&&(jQuery.fn.dropzone=function(k){return this.each(function(){return new N(this,k)})}),null!==B?B.exports=N:window.Dropzone=N,N.ADDED="added",N.QUEUED="queued",N.ACCEPTED=N.QUEUED,N.UPLOADING="uploading",N.PROCESSING=N.UPLOADING,N.CANCELED="canceled",N.ERROR="error",N.SUCCESS="success";var pe=function(O,f,v,u,c,h,_,S,E,$){var H=function(O){var v=O.naturalHeight,u=document.createElement("canvas");u.width=1,u.height=v;var c=u.getContext("2d");c.drawImage(O,0,0);for(var _=c.getImageData(1,0,1,v).data,S=0,E=v,$=v;$>S;)0===_[4*($-1)+3]?E=$:S=$,$=E+S>>1;var Q=$/v;return 0===Q?1:Q}(f);return O.drawImage(f,v,u,c,h,_,S,E,$/H)},Z=function(){function k(){Y(this,k)}return A(k,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(f){for(var v="",u=void 0,c=void 0,h="",_=void 0,S=void 0,E=void 0,$="",H=0;_=(u=f[H++])>>2,S=(3&u)<<4|(c=f[H++])>>4,E=(15&c)<<2|(h=f[H++])>>6,$=63&h,isNaN(c)?E=$=64:isNaN(h)&&($=64),v=v+this.KEY_STR.charAt(_)+this.KEY_STR.charAt(S)+this.KEY_STR.charAt(E)+this.KEY_STR.charAt($),u=c=h="",_=S=E=$="",H<f.length;);return v}},{key:"restore",value:function(f,v){if(!f.match("data:image/jpeg;base64,"))return v;var u=this.decode64(f.replace("data:image/jpeg;base64,","")),c=this.slice2Segments(u),h=this.exifManipulation(v,c);return"data:image/jpeg;base64,".concat(this.encode64(h))}},{key:"exifManipulation",value:function(f,v){var u=this.getExifArray(v),c=this.insertExif(f,u);return new Uint8Array(c)}},{key:"getExifArray",value:function(f){for(var v=void 0,u=0;u<f.length;){if(255===(v=f[u])[0]&225===v[1])return v;u++}return[]}},{key:"insertExif",value:function(f,v){var u=f.replace("data:image/jpeg;base64,",""),c=this.decode64(u),h=c.indexOf(255,3),_=c.slice(0,h),S=c.slice(h),E=_;return(E=E.concat(v)).concat(S)}},{key:"slice2Segments",value:function(f){for(var v=0,u=[];!(255===f[v]&218===f[v+1]);){if(255===f[v]&216===f[v+1])v+=2;else{var h=v+(256*f[v+2]+f[v+3])+2,_=f.slice(v,h);u.push(_),v=h}if(v>f.length)break}return u}},{key:"decode64",value:function(f){var c=void 0,h="",_=void 0,S=void 0,E=void 0,$="",H=0,Q=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(f)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"");_=this.KEY_STR.indexOf(f.charAt(H++)),c=(15&(S=this.KEY_STR.indexOf(f.charAt(H++))))<<4|(E=this.KEY_STR.indexOf(f.charAt(H++)))>>2,h=(3&E)<<6|($=this.KEY_STR.indexOf(f.charAt(H++))),Q.push(_<<2|S>>4),64!==E&&Q.push(c),64!==$&&Q.push(h),c=h="",_=S=E=$="",H<f.length;);return Q}}]),k}();Z.initClass(),N._autoDiscoverFunction=function(){if(N.autoDiscover)return N.discover()},function(O,f){var v=!1,u=!0,c=O.document,h=c.documentElement,_=c.addEventListener?"addEventListener":"attachEvent",S=c.addEventListener?"removeEventListener":"detachEvent",E=c.addEventListener?"":"on",$=function Q(re){if(("readystatechange"!==re.type||"complete"===c.readyState)&&(("load"===re.type?O:c)[S](E+re.type,Q,!1),!v&&(v=!0)))return f.call(O,re.type||re)};if("complete"!==c.readyState){if(c.createEventObject&&h.doScroll){try{u=!O.frameElement}catch{}u&&function Q(){try{h.doScroll("left")}catch{return void setTimeout(Q,50)}return $("poll")}()}c[_](E+"DOMContentLoaded",$,!1),c[_](E+"readystatechange",$,!1),O[_](E+"load",$,!1)}}(window,N._autoDiscoverFunction)},7550:()=>{var B,te;te=B||(B={}),function(p){var w="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),e=L(te);function L(y,l){return function(T,m){"function"!=typeof y[T]&&Object.defineProperty(y,T,{configurable:!0,writable:!0,value:m}),l&&l(T,m)}}typeof w.Reflect>"u"?w.Reflect=te:e=L(w.Reflect,e),function(p){var w=Object.prototype.hasOwnProperty,e="function"==typeof Symbol,L=e&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",y=e&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",l="function"==typeof Object.create,T={__proto__:[]}instanceof Array,m=!l&&!T,x={create:l?function(){return un(Object.create(null))}:T?function(){return un({__proto__:null})}:function(){return un({})},has:m?function(P,U){return w.call(P,U)}:function(P,U){return U in P},get:m?function(P,U){return w.call(P,U)?P[U]:void 0}:function(P,U){return P[U]}},M=Object.getPrototypeOf(Function),R="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,G=R||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function xa(){var P={},U=[],j=function(){function Ae(ke,ye,Ee){this._index=0,this._keys=ke,this._values=ye,this._selector=Ee}return Ae.prototype["@@iterator"]=function(){return this},Ae.prototype[y]=function(){return this},Ae.prototype.next=function(){var ke=this._index;if(ke>=0&&ke<this._keys.length){var ye=this._selector(this._keys[ke],this._values[ke]);return ke+1>=this._keys.length?(this._index=-1,this._keys=U,this._values=U):this._index++,{value:ye,done:!1}}return{value:void 0,done:!0}},Ae.prototype.throw=function(ke){throw this._index>=0&&(this._index=-1,this._keys=U,this._values=U),ke},Ae.prototype.return=function(ke){return this._index>=0&&(this._index=-1,this._keys=U,this._values=U),{value:ke,done:!0}},Ae}();return function(){function Ae(){this._keys=[],this._values=[],this._cacheKey=P,this._cacheIndex=-2}return Object.defineProperty(Ae.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ae.prototype.has=function(ke){return this._find(ke,!1)>=0},Ae.prototype.get=function(ke){var ye=this._find(ke,!1);return ye>=0?this._values[ye]:void 0},Ae.prototype.set=function(ke,ye){var Ee=this._find(ke,!0);return this._values[Ee]=ye,this},Ae.prototype.delete=function(ke){var ye=this._find(ke,!1);if(ye>=0){for(var Ee=this._keys.length,Le=ye+1;Le<Ee;Le++)this._keys[Le-1]=this._keys[Le],this._values[Le-1]=this._values[Le];return this._keys.length--,this._values.length--,ke===this._cacheKey&&(this._cacheKey=P,this._cacheIndex=-2),!0}return!1},Ae.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=P,this._cacheIndex=-2},Ae.prototype.keys=function(){return new j(this._keys,this._values,ee)},Ae.prototype.values=function(){return new j(this._keys,this._values,ue)},Ae.prototype.entries=function(){return new j(this._keys,this._values,Qe)},Ae.prototype["@@iterator"]=function(){return this.entries()},Ae.prototype[y]=function(){return this.entries()},Ae.prototype._find=function(ke,ye){return this._cacheKey!==ke&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=ke)),this._cacheIndex<0&&ye&&(this._cacheIndex=this._keys.length,this._keys.push(ke),this._values.push(void 0)),this._cacheIndex},Ae}();function ee(Ae,ke){return Ae}function ue(Ae,ke){return ke}function Qe(Ae,ke){return[Ae,ke]}}():Map,Y=R||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function Ca(){return function(){function P(){this._map=new G}return Object.defineProperty(P.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),P.prototype.has=function(U){return this._map.has(U)},P.prototype.add=function(U){return this._map.set(U,U),this},P.prototype.delete=function(U){return this._map.delete(U)},P.prototype.clear=function(){this._map.clear()},P.prototype.keys=function(){return this._map.keys()},P.prototype.values=function(){return this._map.values()},P.prototype.entries=function(){return this._map.entries()},P.prototype["@@iterator"]=function(){return this.keys()},P.prototype[y]=function(){return this.keys()},P}()}():Set,A=new(R||"function"!=typeof WeakMap?function ba(){var P=16,U=x.create(),j=ee();return function(){function ye(){this._key=ee()}return ye.prototype.has=function(Ee){var Le=ue(Ee,!1);return void 0!==Le&&x.has(Le,this._key)},ye.prototype.get=function(Ee){var Le=ue(Ee,!1);return void 0!==Le?x.get(Le,this._key):void 0},ye.prototype.set=function(Ee,Le){return ue(Ee,!0)[this._key]=Le,this},ye.prototype.delete=function(Ee){var Le=ue(Ee,!1);return void 0!==Le&&delete Le[this._key]},ye.prototype.clear=function(){this._key=ee()},ye}();function ee(){var ye;do{ye="@@WeakMap@@"+ke()}while(x.has(U,ye));return U[ye]=!0,ye}function ue(ye,Ee){if(!w.call(ye,j)){if(!Ee)return;Object.defineProperty(ye,j,{value:x.create()})}return ye[j]}function Qe(ye,Ee){for(var Le=0;Le<Ee;++Le)ye[Le]=255*Math.random()|0;return ye}function ke(){var ye=function Ae(ye){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(ye)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(ye)):Qe(new Uint8Array(ye),ye):Qe(new Array(ye),ye)}(P);ye[6]=79&ye[6]|64,ye[8]=191&ye[8]|128;for(var Ee="",Le=0;Le<P;++Le){var We=ye[Le];(4===Le||6===Le||8===Le)&&(Ee+="-"),We<16&&(Ee+="0"),Ee+=We.toString(16).toLowerCase()}return Ee}}():WeakMap);function f(P,U,j){var ee=A.get(P);if(H(ee)){if(!j)return;ee=new G,A.set(P,ee)}var ue=ee.get(U);if(H(ue)){if(!j)return;ue=new G,ee.set(U,ue)}return ue}function v(P,U,j){if(u(P,U,j))return!0;var ue=Wt(U);return!Q(ue)&&v(P,ue,j)}function u(P,U,j){var ee=f(U,j,!1);return!H(ee)&&function ce(P){return!!P}(ee.has(P))}function c(P,U,j){if(u(P,U,j))return h(P,U,j);var ue=Wt(U);return Q(ue)?void 0:c(P,ue,j)}function h(P,U,j){var ee=f(U,j,!1);if(!H(ee))return ee.get(P)}function _(P,U,j,ee){f(j,ee,!0).set(P,U)}function S(P,U){var j=E(P,U),ee=Wt(P);if(null===ee)return j;var ue=S(ee,U);if(ue.length<=0)return j;if(j.length<=0)return ue;for(var Qe=new Y,Ae=[],ke=0,ye=j;ke<ye.length;ke++)Qe.has(Ee=ye[ke])||(Qe.add(Ee),Ae.push(Ee));for(var We=0,Nt=ue;We<Nt.length;We++){var Ee;Qe.has(Ee=Nt[We])||(Qe.add(Ee),Ae.push(Ee))}return Ae}function E(P,U){var j=[],ee=f(P,U,!1);if(H(ee))return j;for(var Qe=function Ct(P){var U=ht(P,y);if(!Je(U))throw new TypeError;var j=U.call(P);if(!de(j))throw new TypeError;return j}(ee.keys()),Ae=0;;){var ke=je(Qe);if(!ke)return j.length=Ae,j;var ye=bt(ke);try{j[Ae]=ye}catch(Ee){try{$n(Qe)}finally{throw Ee}}Ae++}}function $(P){if(null===P)return 1;switch(typeof P){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===P?1:6;default:return 6}}function H(P){return void 0===P}function Q(P){return null===P}function de(P){return"object"==typeof P?null!==P:"function"==typeof P}function fe(P,U){switch($(P)){case 0:case 1:case 2:case 3:case 4:case 5:return P}var j=3===U?"string":5===U?"number":"default",ee=ht(P,L);if(void 0!==ee){var ue=ee.call(P,j);if(de(ue))throw new TypeError;return ue}return function he(P,U){if("string"===U){var j=P.toString;if(Je(j)&&!de(ee=j.call(P)))return ee;if(Je(ue=P.valueOf)&&!de(ee=ue.call(P)))return ee}else{var ue;if(Je(ue=P.valueOf)&&!de(ee=ue.call(P)))return ee;var ee,Qe=P.toString;if(Je(Qe)&&!de(ee=Qe.call(P)))return ee}throw new TypeError}(P,"default"===j?"number":j)}function Pe(P){var U=fe(P,3);return function re(P){return"symbol"==typeof P}(U)?U:function Ne(P){return""+P}(U)}function qe(P){return Array.isArray?Array.isArray(P):P instanceof Object?P instanceof Array:"[object Array]"===Object.prototype.toString.call(P)}function Je(P){return"function"==typeof P}function tt(P){return"function"==typeof P}function ht(P,U){var j=P[U];if(null!=j){if(!Je(j))throw new TypeError;return j}}function bt(P){return P.value}function je(P){var U=P.next();return!U.done&&U}function $n(P){var U=P.return;U&&U.call(P)}function Wt(P){var U=Object.getPrototypeOf(P);if("function"!=typeof P||P===M||U!==M)return U;var j=P.prototype,ee=j&&Object.getPrototypeOf(j);if(null==ee||ee===Object.prototype)return U;var ue=ee.constructor;return"function"!=typeof ue||ue===P?U:ue}function un(P){return P.__=void 0,delete P.__,P}p("decorate",function ae(P,U,j,ee){if(H(j)){if(!qe(P))throw new TypeError;if(!tt(U))throw new TypeError;return function k(P,U){for(var j=P.length-1;j>=0;--j){var ue=(0,P[j])(U);if(!H(ue)&&!Q(ue)){if(!tt(ue))throw new TypeError;U=ue}}return U}(P,U)}if(!qe(P))throw new TypeError;if(!de(U))throw new TypeError;if(!de(ee)&&!H(ee)&&!Q(ee))throw new TypeError;return Q(ee)&&(ee=void 0),function O(P,U,j,ee){for(var ue=P.length-1;ue>=0;--ue){var Ae=(0,P[ue])(U,j,ee);if(!H(Ae)&&!Q(Ae)){if(!de(Ae))throw new TypeError;ee=Ae}}return ee}(P,U,j=Pe(j),ee)}),p("metadata",function N(P,U){return function j(ee,ue){if(!de(ee))throw new TypeError;if(!H(ue)&&!function Xe(P){switch($(P)){case 3:case 4:return!0;default:return!1}}(ue))throw new TypeError;_(P,U,ee,ue)}}),p("defineMetadata",function Ce(P,U,j,ee){if(!de(j))throw new TypeError;return H(ee)||(ee=Pe(ee)),_(P,U,j,ee)}),p("hasMetadata",function we(P,U,j){if(!de(U))throw new TypeError;return H(j)||(j=Pe(j)),v(P,U,j)}),p("hasOwnMetadata",function ve(P,U,j){if(!de(U))throw new TypeError;return H(j)||(j=Pe(j)),u(P,U,j)}),p("getMetadata",function pe(P,U,j){if(!de(U))throw new TypeError;return H(j)||(j=Pe(j)),c(P,U,j)}),p("getOwnMetadata",function Z(P,U,j){if(!de(U))throw new TypeError;return H(j)||(j=Pe(j)),h(P,U,j)}),p("getMetadataKeys",function ie(P,U){if(!de(P))throw new TypeError;return H(U)||(U=Pe(U)),S(P,U)}),p("getOwnMetadataKeys",function z(P,U){if(!de(P))throw new TypeError;return H(U)||(U=Pe(U)),E(P,U)}),p("deleteMetadata",function De(P,U,j){if(!de(U))throw new TypeError;H(j)||(j=Pe(j));var ee=f(U,j,!1);if(H(ee)||!ee.delete(P))return!1;if(ee.size>0)return!0;var ue=A.get(U);return ue.delete(j),ue.size>0||A.delete(U),!0})}(e)}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.01.05/dist/ng-edit/default-projects_eav-ui_src_app_edit_edit_module_ts.10ea9e68702c7a59.js.map