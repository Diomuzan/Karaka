"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_apps-management_apps-management-nav_apps-management-nav_component_ts"],{7866:(Y,Z,s)=>{s.r(Z),s.d(Z,{AppsManagementNavComponent:()=>He});var c=s(91),p=s(8071),h=s(3839),b=s(4520),a=s(9736),v=s(5043),A=s(1217),D=s(6041),w=s(2611),t=s(9039),_=s(6861),d=s(40),T=s(9498),x=s(895),y=s(6515),U=s(989),C=s(9877),R=s(1891),O=s(2389),M=s(4980),N=s(5584),E=s(5331),f=s(8730),S=s(5253),u=s(6433),I=s(2957),L=s(6680),F=s(257),$=s(8128),K=s(5392);function pt(n,r){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"foundation"),t.qZA())}function dt(n,r){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"holiday_village"),t.qZA())}function ut(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openLightspeedFeatureInfo())}),t.TgZ(1,"mat-icon",9),t._uU(2," bolt "),t.qZA()()}}function gt(n,r){1&n&&(t.TgZ(0,"mat-icon",11),t._uU(1," bolt "),t.qZA())}function mt(n,r){1&n&&(t.TgZ(0,"mat-icon",12),t._uU(1," bolt "),t.qZA())}function ht(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openLightspeed())}),t.YNc(1,gt,2,0,"mat-icon",11)(2,mt,2,0,"mat-icon",12),t.qZA()}if(2&n){const e=t.oxw();t.Gre("eav-grid-action-button ",e.appHasLightSpeed?"":"disabled",""),t.Q6J("tippy",e.appHasLightSpeed?e.app.Lightspeed.Title:"App not yet configured for LightSpeed"),t.xp6(1),t.um2(1,e.appLightSpeedEnabled?1:-1),t.xp6(1),t.um2(2,e.appLightSpeedEnabled?-1:2)}}function _t(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.flushCache())}),t.TgZ(1,"mat-icon"),t._uU(2,"cached"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Flush cache"),t.qZA()(),t.TgZ(5,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deleteApp())}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"Delete"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("disabled",!e.app.IsApp)}}let ft=(()=>{class n{agInit(e){this.params=e,this.app=this.params.data,this.lightspeedEnabled=this.params.lightspeedEnabled(),this.appHasLightSpeed=null!=this.app.Lightspeed?.Id,this.appLightSpeedEnabled=1==this.app.Lightspeed?.IsEnabled}refresh(e){return!0}openLightspeed(){this.params.onOpenLightspeed(this.app)}openLightspeedFeatureInfo(){this.params.openLightspeedFeatureInfo()}flushCache(){this.params.onFlush(this.app)}deleteApp(){this.params.onDelete(this.app)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-apps-list-actions"]],decls:12,vars:7,consts:[[1,"actions-component"],[1,"eav-grid-action-button","icon",3,"tippy","tippyDisabled"],["class","eav-grid-action-button disabled","tippy","Lightspeed is disabled"],["matRipple","",3,"class","tippy"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["menu","matMenu"],["matMenuContent",""],["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled",3,"click"],["matBadgeSize","small","matBadge","\u{1f48e}","matBadgePosition","below after","aria-hidden","false"],["matRipple","",3,"tippy","click"],["matBadgeSize","small","matBadge","\u2705","matBadgePosition","below after","aria-hidden","false"],["matBadgeSize","small","matBadge","\u26d4","matBadgePosition","below after","aria-hidden","false"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"disabled","click"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,pt,2,0,"mat-icon")(3,dt,2,0,"mat-icon"),t.qZA(),t.YNc(4,ut,3,0,"div",2)(5,ht,3,6,"div",3),t.TgZ(6,"div",4)(7,"mat-icon"),t._uU(8,"more_horiz"),t.qZA()()(),t.TgZ(9,"mat-menu",5,6),t.YNc(11,_t,10,1,"ng-template",7),t.qZA()),2&i){const l=t.MAs(10);t.xp6(1),t.Q6J("tippy",o.app.IsGlobal?"This app is global":o.app.IsInherited?"This app is inherited":"")("tippyDisabled",!o.app.IsGlobal&&!o.app.IsInherited),t.xp6(1),t.um2(2,o.app.IsGlobal?2:-1),t.xp6(1),t.um2(3,o.app.IsInherited?3:-1),t.xp6(1),t.um2(4,o.lightspeedEnabled?-1:4),t.xp6(1),t.um2(5,o.lightspeedEnabled?5:-1),t.xp6(1),t.Q6J("matMenuTriggerFor",l)}},dependencies:[T.$,y.Hw,F.wG,$.VK,$.OP,$.KA,$.p6,K.k]})}return n})();var Ct=s(8968),vt=s(7596);const xt={states:{true:{tooltip:"Show this app to users",icon:"visibility"},false:{tooltip:"Hide this app from users",icon:"visibility_off"}}},Tt={states:{true:{clickable:!0,tooltip:"This App uses obsolete code which will cause problems on future upgrades. Click to see details.",icon:"bug_report",getUrl:n=>window.$2sxc.http.apiUrl("sys/insights/logs?key=warnings-obsolete&filter=AppId="+n.Id)},false:{tooltip:"Hide this app from users",icon:""}}},bt={states:{true:{tooltip:"true/on",icon:"radio_button_checked"},false:{tooltip:"false/off",icon:"radio_button_unchecked"}}};var k=s(6575);function Zt(n,r){1&n&&t.GkF(0)}function At(n,r){if(1&n&&(t.TgZ(0,"a",1),t.YNc(1,Zt,1,0,"ng-container",3),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(4);t.Q6J("href",e.data.url,t.LSH),t.xp6(1),t.Q6J("ngTemplateOutlet",i)}}const et=n=>({clickable:n});function yt(n,r){if(1&n&&(t.TgZ(0,"div",4)(1,"mat-icon"),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,et,e.data.clickable))("tippy",e.data.tooltip),t.xp6(2),t.Oqu(e.data.icon)}}function Ot(n,r){if(1&n&&(t.TgZ(0,"div",4)(1,"mat-icon"),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,et,e.data.clickable))("tippy",e.data.tooltip),t.xp6(2),t.Oqu(e.data.icon)}}let nt=(()=>{class n{agInit(e){this.value=e.value,this.allSettings=e.settings?.(e.data)??bt;const i=this.allSettings.states[this.value?"true":"false"];this.data={...i,url:i.url??i.getUrl?.(e.data)}}refresh(e){return!0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-ag-bool-icon-renderer"]],decls:5,vars:1,consts:[[1,"icon-container"],["target","_blank",3,"href"],["showIcon",""],[4,"ngTemplateOutlet"],[1,"icon-cell","icon",3,"ngClass","tippy"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,At,2,2,"a",1)(2,yt,3,5),t.qZA(),t.YNc(3,Ot,3,5,"ng-template",null,2,t.W1O)),2&i&&(t.xp6(1),t.um2(1,o.data.url?1:2))},dependencies:[k.mk,k.tP,y.Hw,T.$],encapsulation:2})}return n})();var j=s(9409),it=s(7648),It=s(2849),W=s(8621),z=s(77);const Dt=n=>({"fab-opened":n});function wt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"ag-grid-angular",2),t.NdJ("filesDropped",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.importApp(o))}),t.qZA(),t.TgZ(2,"mat-dialog-actions",3)(3,"eco-fab-speed-dial",4),t.NdJ("openChange",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.openChange(o))}),t.TgZ(4,"eco-fab-speed-dial-trigger",5)(5,"button",6)(6,"mat-icon",7),t._uU(7),t.qZA()()(),t.TgZ(8,"eco-fab-speed-dial-actions",8)(9,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.browseCatalog())}),t.TgZ(10,"mat-icon"),t._uU(11,"search"),t.qZA()(),t.TgZ(12,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createInheritedApp())}),t.TgZ(13,"mat-icon"),t._uU(14,"holiday_village"),t.qZA()(),t.TgZ(15,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addFromFolder())}),t.TgZ(16,"mat-icon",12),t._uU(17," add "),t.qZA()(),t.TgZ(18,"button",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.importApp())}),t.TgZ(19,"mat-icon"),t._uU(20,"cloud_upload"),t.qZA()(),t.TgZ(21,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createApp())}),t.TgZ(22,"mat-icon"),t._uU(23,"add"),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("rowData",r.apps)("gridOptions",e.gridOptions)("allowedFileTypes","zip"),t.xp6(2),t.Q6J("ngClass",t.VKq(7,Dt,r.fabOpen)),t.xp6(1),t.Q6J("spin",!0),t.xp6(3),t.Oqu(r.fabOpen?"close":"add"),t.xp6(9),t.Q6J("matBadgeHidden",r.isAddFromFolderEnabled)}}let St=(()=>{class n extends D.H{constructor(e,i,o,l,g,G,m,J,q){super(e,i),this.router=e,this.route=i,this.appsListService=o,this.snackBar=l,this.context=g,this.featuresService=G,this.dialog=m,this.viewContainerRef=J,this.changeDetectorRef=q,this.fabOpen$=new p.X(!1),this.gridOptions=this.buildGridOptions(),this.lightspeedEnabled$=new p.X(!1),this.refreshApps$=new C.x}ngOnInit(){this.apps$=this.refreshApps$.pipe((0,v.O)(void 0),(0,R.w)(()=>this.appsListService.getAll().pipe((0,O.K)(()=>(0,M.of)(void 0)))),(0,N.B)()),this.subscription.add(this.refreshOnChildClosedDeep().subscribe(()=>{this.refreshApps$.next()})),this.isAddFromFolderEnabled$=this.featuresService.isEnabled$(E.C.AppSyncWithSiteFiles),this.subscription.add(this.featuresService.isEnabled$(E.C.LightSpeed).subscribe(this.lightspeedEnabled$)),this.viewModel$=(0,h.a)([this.apps$,this.fabOpen$,this.isAddFromFolderEnabled$]).pipe((0,a.U)(([e,i,o])=>({apps:e,fabOpen:i,isAddFromFolderEnabled:o})))}ngOnDestroy(){this.fabOpen$.complete(),this.refreshApps$.complete(),super.ngOnDestroy()}openChange(e){this.fabOpen$.next(e)}browseCatalog(){window.open("https://2sxc.org/apps","_blank")}createApp(){this.router.navigate(["create"],{relativeTo:this.route.firstChild})}createInheritedApp(){this.router.navigate(["create-inherited"],{relativeTo:this.route.firstChild})}addFromFolder(){this.router.navigate(["add-app-from-folder"],{relativeTo:this.route.firstChild})}importApp(e){this.router.navigate(["import"],{relativeTo:this.route.firstChild,state:{files:e}})}deleteApp(e){const i=prompt(`This cannot be undone. To really delete this app, type 'yes!' or type/paste the app-name here. Are you sure want to delete '${e.Name}' (${e.Id})?`);null!==i&&(i===e.Name||"yes!"===i?(this.snackBar.open("Deleting..."),this.appsListService.delete(e.Id).subscribe({error:()=>{this.snackBar.open("Delete failed. Please check console for more information",void 0,{duration:3e3}),this.refreshApps$.next()},next:()=>{this.snackBar.open("Deleted",void 0,{duration:2e3}),this.refreshApps$.next()}})):alert("Input did not match - will not delete"))}flushApp(e){confirm(`Flush the App Cache for ${e.Name} (${e.Id})?`)&&(this.snackBar.open("Flushing cache..."),this.appsListService.flushCache(e.Id).subscribe({error:()=>{this.snackBar.open("Cache flush failed. Please check console for more information",void 0,{duration:3e3})},next:()=>{this.snackBar.open("Cache flushed",void 0,{duration:2e3})}}))}openLightSpeed(e){const i=(0,I.f)(vt.h.getLightSpeedEditParams(e.Id));this.router.navigate([`${this.context.zoneId}/${e.Id}/edit/${i}`],{relativeTo:this.route.firstChild})}openApp(e){this.router.navigate([e.Id.toString()],{relativeTo:this.route.firstChild})}openLightSpeedFeatInfo(){Ct.B.openDialog(this.dialog,E.C.LightSpeed,this.viewContainerRef,this.changeDetectorRef)}buildGridOptions(){return{...u.f,columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),sortable:!0,filter:"agNumberColumnFilter",valueGetter:i=>i.data.Id,cellRenderer:S.m,cellRendererParams:{tooltipGetter:o=>`ID: ${o.Id}\nGUID: ${o.Guid}`}},{field:"Show",width:70,headerClass:"dense",cellClass:"icons no-outline".split(" "),sortable:!0,filter:f.U,valueGetter:i=>!i.data.IsHidden,cellRenderer:nt,cellRendererParams:{settings:()=>xt}},{field:"Name",flex:2,minWidth:250,cellClass:"apps-list-primary-action highlight".split(" "),sortable:!0,sort:"asc",filter:"agTextColumnFilter",valueGetter:i=>i.data.Name,onCellClicked:i=>{this.openApp(i.data)},cellRenderer:i=>{const o=i.data;return`\n            <div class="container">\n              ${o.Thumbnail?`<img class="image logo" src="${o.Thumbnail}?w=40&h=40&mode=crop"></img>`:'<div class="image logo"><span class="material-icons-outlined">star_border</span></div>'}\n              <div class="text">${i.value}</div>\n            </div>\n            `}},{field:"Folder",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Folder},{field:"Version",width:78,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Version},{field:"Items",width:70,headerClass:"dense",cellClass:"number-cell no-outline".split(" "),sortable:!0,filter:"agNumberColumnFilter",valueGetter:i=>i.data.Items},{field:"HasCodeWarnings",headerName:"Code",width:70,headerClass:"dense",cellClass:"icons no-outline".split(" "),sortable:!0,filter:f.U,cellRenderer:nt,cellRendererParams:{settings:i=>Tt}},{width:122,cellClass:"secondary-action no-padding".split(" "),pinned:"right",cellRenderer:ft,cellRendererParams:(()=>({onDelete:o=>this.deleteApp(o),onFlush:o=>this.flushApp(o),onOpenLightspeed:o=>this.openLightSpeed(o),lightspeedEnabled:()=>this.lightspeedEnabled$.value,openLightspeedFeatureInfo:()=>this.openLightSpeedFeatInfo()}))()}]}}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(c.F0),t.Y36(c.gz),t.Y36(L.A),t.Y36(j.ux),t.Y36(w._),t.Y36(it.k),t.Y36(_.uw),t.Y36(t.s_b),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-apps-list"]],features:[t.qOj],decls:2,vars:3,consts:[["class","grid-wrapper mat-tab-grid-wrapper"],[1,"grid-wrapper","mat-tab-grid-wrapper"],["appDragAndDrop","",1,"ag-theme-material",3,"rowData","gridOptions","allowedFileTypes","filesDropped"],["align","end"],[1,"eav-eco-fab-speed-dial",3,"ngClass","openChange"],[3,"spin"],["mat-fab",""],[1,"spin180"],[1,"eav-eco-fab-speed-dial-actions"],["mat-mini-fab","","label","Find more apps",1,"eav-eco-fab-speed-dial-action-button",3,"click"],["mat-mini-fab","","label","Create inherited app",1,"eav-eco-fab-speed-dial-action-button",3,"click"],["mat-mini-fab","","label","Add from folder",1,"eav-eco-fab-speed-dial-action-button",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadge","\u{1f48e}","matBadgePosition","below after","aria-hidden","false",3,"matBadgeHidden"],["mat-mini-fab","","label","Import app",1,"eav-eco-fab-speed-dial-action-button",3,"click"],["mat-mini-fab","","label","Create app",1,"eav-eco-fab-speed-dial-action-button",3,"click"]],template:function(i,o){if(1&i&&(t.YNc(0,wt,24,9,"div",0),t.ALo(1,"async")),2&i){let l;t.um2(0,(l=t.lcZ(1,1,o.viewModel$))?0:-1,l)}},dependencies:[It.z,_.H8,k.mk,W.N8,x.nh,x.cs,y.Hw,z.Lp,z.W7,z.YI,K.k,k.Ov]})}return n})();var at=s(1702),ot=s(9293);let Ft=(()=>{class n{agInit(e){this.params=e,this.value=this.params.value}refresh(e){return!0}toggleLanguage(e){this.params.onToggleLanguage(this.params.data,e.checked)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-site-languages-status"]],decls:1,vars:1,consts:[[3,"checked","change"]],template:function(i,o){1&i&&(t.TgZ(0,"mat-slide-toggle",0),t.NdJ("change",function(g){return o.toggleLanguage(g)}),t.qZA()),2&i&&t.Q6J("checked",o.value)},dependencies:[ot.Rr],styles:["[_nghost-%COMP%]{height:100%;display:flex;padding-left:8px;padding-right:8px;align-items:center}.mat-mdc-slide-toggle[_ngcontent-%COMP%]{padding-top:0}"]})}return n})();function Mt(n,r){if(1&n&&(t.TgZ(0,"div",1),t._UZ(1,"ag-grid-angular",2)(2,"mat-dialog-actions",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("rowData",r.languages)("gridOptions",e.gridOptions)}}let Lt=(()=>{class n{constructor(e){this.zoneService=e,this.gridOptions=this.buildGridOptions(),this.refreshLanguages$=new C.x}ngOnInit(){this.viewModel$=(0,h.a)([this.refreshLanguages$.pipe((0,v.O)(void 0),(0,R.w)(()=>this.zoneService.getLanguages().pipe((0,O.K)(()=>(0,M.of)(void 0)))),(0,N.B)())]).pipe((0,a.U)(([e])=>({languages:e})))}ngOnDestroy(){this.refreshLanguages$.complete()}toggleLanguage(e,i){this.zoneService.toggleLanguage(e.Code,i).subscribe({error:()=>{this.refreshLanguages$.next()},next:()=>{this.refreshLanguages$.next()}})}buildGridOptions(){return{...u.f,columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Code,cellRenderer:S.m,cellRendererParams:{tooltipGetter:o=>`ID: ${o.Code}`}},{field:"Name",flex:2,minWidth:250,cellClass:"primary-action highlight no-outline".split(" "),sortable:!0,sort:"asc",filter:"agTextColumnFilter",valueGetter:i=>i.data.Culture,onCellClicked:i=>{const o=i.data;this.toggleLanguage(o,!o.IsEnabled)}},{field:"Status",width:72,headerClass:"dense",cellClass:"no-padding no-outline".split(" "),sortable:!0,filter:f.U,valueGetter:i=>i.data.IsEnabled,cellRenderer:Ft,cellRendererParams:(()=>({onToggleLanguage:(o,l)=>this.toggleLanguage(o,l)}))()}]}}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(at.b))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-site-languages"]],decls:2,vars:3,consts:[["class","grid-wrapper mat-tab-grid-wrapper"],[1,"grid-wrapper","mat-tab-grid-wrapper"],[1,"ag-theme-material",3,"rowData","gridOptions"],["align","end"]],template:function(i,o){if(1&i&&(t.YNc(0,Mt,3,2,"div",0),t.ALo(1,"async")),2&i){let l;t.um2(0,(l=t.lcZ(1,1,o.viewModel$))?0:-1,l)}},dependencies:[_.H8,W.N8,k.Ov]})}return n})();var st=s(4472),Ut=s(7356),X=s(2155),Et=s(2143),$t=s(9851),P=s(8497),H=s(8849),Pt=s(9674),lt=s(1268),Nt=s(9818);function kt(n,r){if(1&n&&(t.TgZ(0,"a",26),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("routerLink",e.link.url),t.xp6(1),t.Oqu(e.link.label)}}function Rt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22),t._uU(2),t.qZA(),t.TgZ(3,"div",23)(4,"span",24),t.NdJ("click",function(){const l=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.copyToClipboard(l.value))}),t._uU(5),t.qZA(),t.YNc(6,kt,2,2,"a",25),t.qZA()()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij("",e.label,":"),t.xp6(2),t.Q6J("tippy",e.value),t.xp6(1),t.Oqu(e.value),t.xp6(1),t.um2(6,e.link?6:-1)}}function Ht(n,r){1&n&&t.GkF(0)}function Yt(n,r){if(1&n&&(t.TgZ(0,"a",26),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("routerLink",e.link.url),t.xp6(1),t.Oqu(e.link.label)}}function Gt(n,r){if(1&n&&(t.TgZ(0,"a",29),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("href",e.link.url,t.LSH)("target",e.link.target),t.xp6(1),t.Oqu(e.link.label)}}function Jt(n,r){if(1&n&&t.YNc(0,Yt,2,2,"a",25)(1,Gt,2,3,"a",28),2&n){const e=t.oxw().$implicit;t.um2(0,"angular"===e.link.target?0:-1),t.xp6(1),t.um2(1,"angular"!==e.link.target?1:-1)}}function Bt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22),t._uU(2),t.qZA(),t.TgZ(3,"div",23)(4,"span",27),t.NdJ("click",function(){const l=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.copyToClipboard(l.value))}),t._uU(5),t.qZA(),t.YNc(6,Jt,2,2),t.qZA()()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij("",e.label,":"),t.xp6(2),t.Q6J("tippy",e.value),t.xp6(1),t.Oqu(e.value),t.xp6(1),t.um2(6,e.link?6:-1)}}function qt(n,r){1&n&&t.GkF(0)}function Kt(n,r){1&n&&(t.TgZ(0,"div"),t._uU(1," LightSpeed is enabled. Configure it in each site/app as you need. "),t.qZA())}function Wt(n,r){1&n&&t.GkF(0)}function Qt(n,r){1&n&&(t.TgZ(0,"div"),t._uU(1," ContentSecurityPolicy is enabled. Configure it in each site/app as you need. "),t.qZA())}function jt(n,r){1&n&&t.GkF(0)}function zt(n,r){1&n&&t.GkF(0)}function Xt(n,r){1&n&&(t.TgZ(0,"app-field-hint",30),t._uU(1," Only positive whole numbers "),t.qZA()),2&n&&t.Q6J("isError",!0)}function Vt(n,r){if(1&n&&t.YNc(0,Xt,2,1,"app-field-hint",30),2&n){t.oxw();const e=t.MAs(118);t.um2(0,e.errors.pattern?0:-1)}}function te(n,r){if(1&n&&(t.TgZ(0,"a",26),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("routerLink",e.link.url),t.xp6(1),t.hij(" ",e.link.label,"")}}function ee(n,r){if(1&n&&(t.TgZ(0,"a",29),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("href",e.link.url,t.LSH)("target",e.link.target),t.xp6(1),t.Oqu(e.link.label)}}function ne(n,r){if(1&n&&t.YNc(0,te,2,2,"a",25)(1,ee,2,3,"a",28),2&n){const e=t.oxw().$implicit;t.um2(0,"angular"===e.link.target?0:-1),t.xp6(1),t.um2(1,"angular"!==e.link.target?1:-1)}}function ie(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",31),t._uU(2),t.qZA(),t.TgZ(3,"div",23)(4,"span",27),t.NdJ("click",function(){const l=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.copyToClipboard(l.value))}),t._uU(5),t.qZA(),t.YNc(6,ne,2,2),t.qZA()()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij("",e.label,":"),t.xp6(2),t.Q6J("tippy",e.value),t.xp6(1),t.Oqu(e.value),t.xp6(1),t.um2(6,e.link?6:-1)}}const rt=()=>({link:"https://go.2sxc.org/settings"}),ae=()=>({link:"https://go.2sxc.org/lightspeed"}),oe=()=>({link:"https://go.2sxc.org/csp"}),se=()=>({link:"https://go.2sxc.org/insights"});function le(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"div",4)(4,"mat-icon",5),t._uU(5,"settings_applications"),t.qZA()(),t.TgZ(6,"mat-card-title"),t._uU(7,"Platform"),t.qZA(),t.TgZ(8,"mat-card-subtitle"),t._uU(9,"What you are running"),t.qZA()(),t.TgZ(10,"mat-card-content"),t.SjG(11,Rt,7,4,"div",32,t.x6l),t.TgZ(13,"h4"),t._uU(14,"Global Settings"),t.qZA(),t.TgZ(15,"p"),t._uU(16," This includes both pre-defined SystemSettings as well as custom Settings. It will affect the entire Installation. "),t.qZA()(),t._UZ(17,"div",6),t.TgZ(18,"mat-card-actions",7),t.YNc(19,Ht,1,0,"ng-container",8),t.TgZ(20,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openGlobalSettings())}),t.TgZ(21,"mat-icon",10),t._uU(22,"open_in_new"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"Open Global Settings"),t.qZA()()()(),t.TgZ(25,"mat-card",3)(26,"mat-card-header")(27,"div",4)(28,"mat-icon",5),t._uU(29,"public"),t.qZA()(),t.TgZ(30,"mat-card-title"),t._uU(31,"This Site"),t.qZA(),t.TgZ(32,"mat-card-subtitle"),t._uU(33,"The current Site you're on"),t.qZA()(),t.TgZ(34,"mat-card-content"),t.SjG(35,Bt,7,4,"div",32,t.x6l),t._UZ(37,"div",11),t.TgZ(38,"h4"),t._uU(39,"Site Settings"),t.qZA(),t.TgZ(40,"p"),t._uU(41," This includes both pre-defined SystemSettings as well as custom Settings. It will affect the entire Site / Portal. "),t.qZA()(),t._UZ(42,"div",6),t.TgZ(43,"mat-card-actions",7),t.YNc(44,qt,1,0,"ng-container",8),t.TgZ(45,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openSiteSettings())}),t.TgZ(46,"mat-icon",10),t._uU(47,"open_in_new"),t.qZA(),t.TgZ(48,"span"),t._uU(49,"Open Site Settings"),t.qZA()()()(),t.TgZ(50,"mat-card",3)(51,"mat-card-header")(52,"div",4)(53,"mat-icon",5),t._uU(54,"bolt"),t.qZA()(),t.TgZ(55,"mat-card-title"),t._uU(56,"Performance"),t.qZA(),t.TgZ(57,"mat-card-subtitle"),t._uU(58,"Performance Enhancements and Caching"),t.qZA()(),t.TgZ(59,"mat-card-content"),t._UZ(60,"app-feature-text-info",12),t.YNc(61,Kt,2,0,"div"),t.qZA(),t._UZ(62,"div",6),t.TgZ(63,"mat-card-actions",7),t.YNc(64,Wt,1,0,"ng-container",8),t.qZA()(),t.TgZ(65,"mat-card",3)(66,"mat-card-header")(67,"div",4)(68,"mat-icon",5),t._uU(69,"local_police"),t.qZA()(),t.TgZ(70,"mat-card-title"),t._uU(71,"Security"),t.qZA(),t.TgZ(72,"mat-card-subtitle"),t._uU(73,"System Security Features"),t.qZA()(),t.TgZ(74,"mat-card-content"),t._UZ(75,"app-feature-text-info",12),t.YNc(76,Qt,2,0,"div"),t.qZA(),t._UZ(77,"div",6),t.TgZ(78,"mat-card-actions",7),t.YNc(79,jt,1,0,"ng-container",8),t.qZA()(),t.TgZ(80,"mat-card",3)(81,"mat-card-header")(82,"div",4)(83,"mat-icon",5),t._uU(84,"speed"),t.qZA()(),t.TgZ(85,"mat-card-title"),t._uU(86,"2sxc Insights"),t.qZA(),t.TgZ(87,"mat-card-subtitle"),t._uU(88,"See what's happening under the hood"),t.qZA()(),t.TgZ(89,"mat-card-content")(90,"h4"),t._uU(91,"2sxc Insights for Super Users"),t.qZA(),t.TgZ(92,"p"),t._uU(93," This is to access a special section to see what is really in the server memory. It's intended for extensive debugging - see also "),t.TgZ(94,"a",13),t._uU(95,"this blog post"),t.qZA(),t._uU(96,". "),t.qZA(),t.TgZ(97,"div",7),t.YNc(98,zt,1,0,"ng-container",8),t.TgZ(99,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openInsights())}),t.TgZ(100,"mat-icon",10),t._uU(101,"open_in_new"),t.qZA(),t.TgZ(102,"span"),t._uU(103,"Open 2sxc Insights"),t.qZA()()(),t._UZ(104,"div",11),t.TgZ(105,"h4"),t._uU(106,"Activate Page Level Logging"),t.qZA(),t.TgZ(107,"form",14,15),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.MAs(108),l=t.oxw();return t.KtG(l.activatePageLog(o))}),t.TgZ(109,"div"),t._uU(110," This will place insights-logs in the HTML of the user output for users with "),t.TgZ(111,"code"),t._uU(112,"?debug=true"),t.qZA(),t._uU(113," in the url. It can only be activated for short periods of time. "),t.qZA(),t.TgZ(114,"mat-form-field",16)(115,"mat-label"),t._uU(116,"Duration in Minutes"),t.qZA(),t.TgZ(117,"input",17,18),t.NdJ("ngModelChange",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.pageLogDuration=o)}),t.qZA()(),t.YNc(119,Vt,1,1),t.qZA()(),t._UZ(120,"div",6),t.TgZ(121,"mat-card-actions",19)(122,"button",20),t._uU(123," Activate "),t.qZA()()(),t.TgZ(124,"mat-card",3)(125,"mat-card-header")(126,"div",4)(127,"mat-icon",5),t._uU(128),t.qZA()(),t.TgZ(129,"mat-card-title"),t._uU(130,"Warnings"),t.qZA(),t.TgZ(131,"mat-card-subtitle"),t._uU(132,"System and Code Warnings"),t.qZA()(),t.TgZ(133,"mat-card-content"),t.SjG(134,ie,7,4,"div",32,t.x6l),t.qZA(),t._UZ(136,"div",6),t.qZA()()}if(2&n){const e=t.MAs(108),i=t.MAs(118),o=t.oxw(),l=t.MAs(3);t.xp6(11),t.wJu(r.systemInfos),t.xp6(8),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.DdM(22,rt)),t.xp6(16),t.wJu(r.siteInfos),t.xp6(9),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.DdM(23,rt)),t.xp6(16),t.Q6J("featureNameId","LightSpeedOutputCache")("asInfo",!0),t.xp6(1),t.um2(61,r.lsEnabled?61:-1),t.xp6(3),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.DdM(24,ae)),t.xp6(11),t.Q6J("featureNameId","ContentSecurityPolicy")("asInfo",!0),t.xp6(1),t.um2(76,r.cspEnabled?76:-1),t.xp6(3),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.DdM(25,oe)),t.xp6(19),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.DdM(26,se)),t.xp6(19),t.Q6J("pattern",o.positiveWholeNumber)("ngModel",o.pageLogDuration)("disabled",r.loading),t.xp6(2),t.um2(119,i.touched&&i.errors?119:-1),t.xp6(3),t.Q6J("disabled",!e.valid||r.loading),t.xp6(6),t.Oqu(r.warningIcon),t.xp6(6),t.wJu(r.warningInfos)}}function re(n,r){if(1&n&&(t.TgZ(0,"a",33)(1,"mat-icon",10),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&n){const e=r.$implicit,i=r.$implicit;let l;t.s9C("href",r.link,t.LSH),t.Q6J("tippy","online documentation"),t.xp6(2),t.Oqu(null!==(l=e)&&void 0!==l?l:"menu_book"),t.xp6(2),t.Oqu(i)}}let ce=(()=>{class n extends D.H{constructor(e,i,o,l,g,G,m){super(e,i),this.router=e,this.route=i,this.zoneService=o,this.snackBar=l,this.dialogService=g,this.sxcInsightsService=G,this.featuresService=m,this.positiveWholeNumber=/^[1-9][0-9]*$/}ngOnInit(){this.systemInfoSet$=new p.X(void 0),this.languages$=new p.X(void 0),this.loading$=new p.X(!1),this.buildViewModel(),this.getSystemInfo(),this.getLanguages(),this.subscription.add(this.refreshOnChildClosedDeep().subscribe(()=>{this.buildViewModel(),this.getSystemInfo(),this.getLanguages()}))}ngOnDestroy(){this.systemInfoSet$.complete(),this.languages$.complete(),this.loading$.complete(),super.ngOnDestroy()}copyToClipboard(e){(0,st.v)(e),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}openSiteSettings(){const e=this.dialogSettings.Context.Site.PrimaryApp;this.dialogService.openAppAdministration(e.ZoneId,e.AppId,"app")}openGlobalSettings(){const e=this.dialogSettings.Context.System.PrimaryApp;this.dialogService.openAppAdministration(e.ZoneId,e.AppId,"app")}openInsights(){window.open(window.$2sxc.http.apiUrl("sys/insights/help"),"_blank")}activatePageLog(e){this.loading$.next(!0),this.snackBar.open("Activating..."),this.sxcInsightsService.activatePageLog(this.pageLogDuration).subscribe(i=>{this.loading$.next(!1),this.snackBar.open(i,null,{duration:4e3})}),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),e.resetForm()}getSystemInfo(){this.zoneService.getSystemInfo().subscribe({error:()=>{this.systemInfoSet$.next(void 0)},next:e=>{this.systemInfoSet$.next(e)}})}getLanguages(){this.zoneService.getLanguages().subscribe({error:()=>{this.languages$.next(void 0)},next:e=>{this.languages$.next(e)}})}buildViewModel(){const e=this.systemInfoSet$.pipe((0,a.U)(m=>null==m?void 0:[{label:"CMS",value:`2sxc v.${m.System.EavVersion}`},{label:"Platform",value:`${m.System.Platform} v.${m.System.PlatformVersion}`},{label:"Zones",value:m.System.Zones.toString()},{label:"Fingerprint",value:m.System.Fingerprint},{label:"Registered to",value:m.License.Owner||"(unregistered)",link:m.License.Owner?{url:this.router.url+"/"+X.U.getUrl(),label:"manage",target:"angular"}:{url:this.router.url+"/"+X.U.getUrl(),label:"register",target:"angular"}}])),i=(0,h.a)([this.systemInfoSet$,this.languages$]).pipe((0,a.U)(([m,J])=>{if(null==m||null==J)return;const q=J.length,V=J.filter(tt=>tt.IsEnabled).length;return[{label:"Zone",value:m.Site.ZoneId.toString()},{label:"Site",value:m.Site.SiteId.toString()},{label:"Languages",value:`${V}/${q}`,link:{url:"languages",label:"manage",target:"angular"}},{label:"Apps",value:m.Site.Apps.toString(),link:{url:"list",label:"manage",target:"angular"}}]})),o=this.systemInfoSet$.pipe((0,a.U)(m=>{if(null!=m)return m.Messages.WarningsObsolete||m.Messages.WarningsOther?"warning":"check"})),l=this.systemInfoSet$.pipe((0,a.U)(m=>null==m?void 0:[{label:"Warnings Obsolete",value:m.Messages.WarningsObsolete.toString(),link:m.Messages.WarningsObsolete?{url:window.$2sxc.http.apiUrl("sys/insights/logs?key=warnings-obsolete"),label:"review",target:"_blank"}:void 0},{label:"Warnings Other",value:m.Messages.WarningsOther.toString(),link:m.Messages.WarningsOther?{url:window.$2sxc.http.apiUrl("sys/insights/logs"),label:"review",target:"_blank"}:void 0}])),g=this.featuresService.isEnabled$(E.C.LightSpeed),G=this.featuresService.isEnabled$(E.C.ContentSecurityPolicy);this.viewModel$=(0,h.a)([e,i,this.loading$,o,l,g,G]).pipe((0,a.U)(([m,J,q,V,ct,tt,Ye])=>({systemInfos:m,siteInfos:J,loading:q,warningIcon:V,warningInfos:ct,lsEnabled:tt,cspEnabled:Ye})))}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(c.F0),t.Y36(c.gz),t.Y36(at.b),t.Y36(j.ux),t.Y36(Ut.x),t.Y36(Et.a),t.Y36(it.k))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-system-info"]],inputs:{dialogSettings:"dialogSettings"},features:[t.qOj],decls:4,vars:3,consts:[["class","eav-cards-box"],["docsLink",""],[1,"eav-cards-box"],[1,"eav-card"],["mat-card-avatar",""],[1,"eav-card-header-avatar-icon"],[1,"eav-card-space-div"],["align","start"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],[1,"card-content-separator"],[3,"featureNameId","asInfo"],["href","https://2sxc.org/en/blog/post/using-2sxc-insights","target","_blank"],[1,"activate-log-form",3,"ngSubmit"],["activateLogForm","ngForm"],["color","accent",1,"eav-form-field"],["matInput","","type","number","min","0","required","","name","Duration",3,"pattern","ngModel","disabled","ngModelChange"],["duration","ngModel"],["align","end"],["mat-raised-button","","type","submit","color","accent",3,"disabled"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[1,"eav-info-row__value__span","eav-click",3,"tippy","click"],["class","eav-info-row__link",3,"routerLink"],[1,"eav-info-row__link",3,"routerLink"],[3,"tippy","click"],["class","eav-info-row__link",3,"href","target"],[1,"eav-info-row__link",3,"href","target"],[3,"isError"],[1,"eav-info-row__label","eav-long"],["class","eav-info-row"],["mat-button","","target","_blank",1,"eav-button__with-icon",3,"href","tippy"]],template:function(i,o){if(1&i&&(t.YNc(0,le,137,27,"div",0),t.ALo(1,"async"),t.YNc(2,re,5,4,"ng-template",null,1,t.W1O)),2&i){let l;t.um2(0,(l=t.lcZ(1,1,o.viewModel$))?0:-1,l)}},dependencies:[c.rH,$t.Y,T.$,k.tP,x.zs,x.lW,y.Hw,P.a8,P.hq,P.kc,P.dn,P.dk,P.$j,P.n5,H._Y,H.Fj,H.wV,H.JJ,H.JL,H.Q7,H.c5,H.qQ,H.On,H.F,Pt.Nt,lt.KE,lt.hX,Nt.B,k.Ov]})}return n})();var pe=s(3738),de=s(4300),ue=s(9378),ge=s(5036),me=s(6537);function he(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t._uU(2,"ID:"),t.qZA(),t.TgZ(3,"div",7)(4,"span",8),t.NdJ("click",function(){const l=t.CHM(e),g=t.oxw();return t.KtG(g.copyToClipboard(l))}),t._uU(5),t.qZA()()()}2&n&&(t.xp6(4),t.Q6J("tippy",r),t.xp6(1),t.Oqu(r))}function _e(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t._uU(2,"GUID:"),t.qZA(),t.TgZ(3,"div",9)(4,"span",8),t.NdJ("click",function(){const l=t.CHM(e),g=t.oxw();return t.KtG(g.copyToClipboard(l))}),t._uU(5),t.qZA()()()}2&n&&(t.xp6(4),t.Q6J("tippy",r),t.xp6(1),t.Oqu(r))}function fe(n,r){1&n&&(t.TgZ(0,"div",5)(1,"div",6),t._uU(2,"Security Rating:"),t.qZA(),t.TgZ(3,"div",7)(4,"span"),t._uU(5),t.qZA()()()),2&n&&(t.xp6(5),t.Oqu(r))}function Ce(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){const l=t.CHM(e),g=t.oxw();return t.KtG(g.findOutMore(l))}),t.TgZ(1,"mat-icon"),t._uU(2,"open_in_new"),t.qZA(),t._uU(3," Find out more "),t.qZA()}}let ve=(()=>{class n{constructor(e,i,o){this.dialogData=e,this.dialogRef=i,this.snackBar=o}closeDialog(){this.dialogRef.close()}findOutMore(e){window.open(e,"_blank")}copyToClipboard(e){(0,st.v)(e),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(_.WI),t.Y36(_.so),t.Y36(j.ux))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-feature-details-dialog"]],decls:14,vars:8,consts:[[3,"innerHtml"],["class","eav-info-row"],["align","end"],["mat-raised-button","","class","eav-card-action-button","color","accent"],["mat-raised-button","",1,"eav-card-action-button",3,"click"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[3,"tippy","click"],[1,"eav-info-row__value","eav_click"],["mat-raised-button","","color","accent",1,"eav-card-action-button",3,"click"]],template:function(i,o){if(1&i&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content"),t._UZ(5,"p",0),t.ALo(6,"safeHtml"),t.YNc(7,he,6,2,"div",1)(8,_e,6,2,"div",1)(9,fe,6,1,"div",1),t.qZA(),t.TgZ(10,"mat-card-actions",2),t.YNc(11,Ce,4,0,"button",3),t.TgZ(12,"button",4),t.NdJ("click",function(){return o.closeDialog()}),t._uU(13," Close "),t.qZA()()()),2&i){let l;t.xp6(3),t.Oqu(o.dialogData.feature.Name),t.xp6(2),t.Q6J("innerHtml",t.lcZ(6,6,o.dialogData.feature.Description),t.oJD),t.xp6(2),t.um2(7,(l=o.dialogData.feature.NameId)?7:-1,l),t.xp6(1),t.um2(8,(l=o.dialogData.feature.Guid)?8:-1,l),t.xp6(1),t.um2(9,(l=o.dialogData.feature.Security.Impact+": "+o.dialogData.feature.Security.Message)?9:-1,l),t.xp6(2),t.um2(11,(l=o.dialogData.feature.Link)?11:-1,l)}},dependencies:[T.$,x.lW,y.Hw,P.a8,P.hq,P.dn,P.dk,P.n5,me.z]})}return n})(),xe=(()=>{class n{agInit(e){this.value=e.value,this.feature=e.data}refresh(e){return!0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-features-list-enabled-reason"]],decls:2,vars:2,consts:[[3,"tippy"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t._uU(1),t.qZA()),2&i&&(t.Q6J("tippy",o.feature.EnabledReasonDetailed),t.xp6(1),t.Oqu(o.value))},dependencies:[T.$]})}return n})(),Te=(()=>{class n{agInit(e){this.value=e.value}refresh(e){return!0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-features-list-enabled"]],decls:3,vars:1,consts:[[1,"icon-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"mat-icon"),t._uU(2),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(o.value?"check_box":"check_box_outline_blank"))},dependencies:[y.Hw]})}return n})();const be=(n,r)=>({"toggle-false":n,"toggle-null":r});let Ze=(()=>{class n{agInit(e){this.params=e,this.value=e.value,this.disabled=e.isDisabled(e.data),this.tooltip=e.tooltipGetter(e.data)}refresh(e){return this.disabled=this.params.isDisabled(this.params.data),!0}toggle(){const e=this.params.data;let i;switch(this.value){case!1:i=null;break;case null:i=!0;break;case!0:i=!1}this.value=i,this.params.onToggle(e,i)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-features-status"]],decls:1,vars:7,consts:[[3,"checked","tippy","disabled","ngClass","change"]],template:function(i,o){1&i&&(t.TgZ(0,"mat-slide-toggle",0),t.NdJ("change",function(){return o.toggle()}),t.qZA()),2&i&&t.Q6J("checked",o.value)("tippy",o.tooltip)("disabled",o.disabled)("ngClass",t.WLB(4,be,!1===o.value,null===o.value))},dependencies:[T.$,k.mk,ot.Rr],styles:["[_nghost-%COMP%]{height:100%;display:flex;padding-left:12px;padding-right:12px;align-items:center}.mat-mdc-slide-toggle[_ngcontent-%COMP%]{padding-top:0}  .toggle-false.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:orange!important}  .toggle-null .mdc-switch__handle{margin-left:8px}"]})}return n})();class B{static expandFeature(r){return{...r,...B.getExpiration(r?.Expiration)}}static expandLicense(r){try{const e=r?.Features?.map(o=>o.Expiration).sort()[0];return null==e?r:{...r,...B.getExpiration(e)}}catch{return r}}static getExpiration(r){const e=(l,g)=>({ExpMessage:(null!=l?l+" ":"")+g,ExpIcon:l,ExpWarningIcon:"\u2705"!=l?l:null}),i=r?.split("T")[0];if(null==i)return e(null,null);if(i.startsWith("9999"))return e("\u2705","never");const o=new Date(i);return o<new Date?e("\u{1f6d1}","expired"):o.toDateString()===(new Date).toDateString()?e("\u26a0\ufe0f","today"):o.toDateString()===new Date((new Date).setDate((new Date).getDate()+1)).toDateString()?e("\u26a0\ufe0f","tomorrow"):o<new Date((new Date).setDate((new Date).getDate()+30))?e("\u26a0\ufe0f",i):i.endsWith("12-31")?e("\u2705",`EOY ${i.split("-")[0]}`):e("\u2753",i)}}var Q=s(5787);let Ae=(()=>{class n{constructor(e){this.itemsCount=0,this.headerHeight=32,this.rowHeight=48,this.maxRows=100,this.extraHeight=2,this.element=e.nativeElement}ngOnChanges(e){null!=e.itemsCount&&(this.element.style.height=`${this.headerHeight+(0===this.itemsCount?2:this.itemsCount>this.maxRows?this.maxRows:this.itemsCount)*this.rowHeight+this.extraHeight}px`)}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(t.SBq))};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["","appAgGridHeight",""]],inputs:{itemsCount:"itemsCount",headerHeight:"headerHeight",rowHeight:"rowHeight",maxRows:"maxRows"},features:[t.TTD]})}return n})(),ye=(()=>{class n{transform(e){return Array.isArray(e)?[...e].sort((o,l)=>o.Priority<l.Priority?-1:o.Priority>l.Priority?1:0):e}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275pipe=t.Yjl({name:"licensesOrder",type:n,pure:!0})}return n})(),Oe=(()=>{class n{transform(e){return`${e.Features.filter(i=>i.IsEnabled).length}/${e.Features.length}`}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275pipe=t.Yjl({name:"activeFeaturesCount",type:n,pure:!0})}return n})();function Ie(n,r){if(1&n&&t._UZ(0,"ag-grid-angular",10),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("rowData",e.Features)("gridOptions",i.gridOptions)("itemsCount",null==e.Features?null:e.Features.length)}}const De=n=>({expanded:n});function we(n,r){if(1&n&&(t.TgZ(0,"mat-expansion-panel",null,4)(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon",5),t._uU(5),t.qZA(),t.TgZ(6,"div")(7,"div",6)(8,"span"),t._uU(9),t.qZA(),t.TgZ(10,"span",7),t._uU(11),t.ALo(12,"activeFeaturesCount"),t.qZA(),t.TgZ(13,"span"),t._uU(14),t.qZA()(),t.TgZ(15,"div",8),t._uU(16),t.qZA()()()(),t.YNc(17,Ie,1,3,"ag-grid-angular",9),t.qZA()),2&n){const e=r.$implicit,i=t.MAs(1);t.xp6(4),t.Q6J("tippy",e.IsEnabled?"License is active":"License is not active"),t.xp6(1),t.Oqu(e.IsEnabled?"check_circle_outline":"cancel"),t.xp6(4),t.Oqu(e.Name),t.xp6(2),t.Oqu(t.lcZ(12,8,e)),t.xp6(3),t.hij(" ",e.ExpWarningIcon,""),t.xp6(1),t.Q6J("ngClass",t.VKq(10,De,i.expanded)),t.xp6(1),t.hij(" ",e.Description," "),t.xp6(1),t.um2(17,i.expanded?17:-1)}}function Se(n,r){1&n&&(t.TgZ(0,"mat-accordion",0),t.SjG(1,we,18,12,"mat-expansion-panel",null,t.QCX().trackLicenses),t.ALo(3,"licensesOrder"),t.qZA()),2&n&&(t.xp6(1),t.wJu(t.lcZ(3,0,r.licenses)))}let Fe=(()=>{class n extends D.H{constructor(e,i,o,l,g,G){super(e,i),this.router=e,this.route=i,this.featuresConfigService=o,this.dialog=l,this.viewContainerRef=g,this.changeDetectorRef=G,this.disabled$=new p.X(!1),this.gridOptions=this.buildGridOptions(),this.refreshLicenses$=new C.x}ngOnInit(){this.subscription.add(this.refreshOnChildClosedDeep().subscribe(()=>{this.refreshLicenses$.next()})),this.viewModel$=this.refreshLicenses$.pipe((0,v.O)(void 0),(0,R.w)(()=>this.featuresConfigService.getLicenses().pipe((0,O.K)(()=>(0,M.of)(void 0)))),(0,pe.b)(()=>this.disabled$.next(!1)),(0,a.U)(e=>e.map(i=>({...B.expandLicense(i),Features:i.Features.map(o=>B.expandFeature(o))}))),(0,N.B)()).pipe((0,a.U)(e=>({licenses:e})))}ngOnDestroy(){this.disabled$.complete(),super.ngOnDestroy()}trackLicenses(e,i){return i.Guid}openRegistration(){this.router.navigate([X.U.getUrl()],{relativeTo:this.route.firstChild})}showFeatureDetails(e){this.dialog.open(ve,{autoFocus:!1,data:{feature:e},viewContainerRef:this.viewContainerRef,width:"600px"}),this.changeDetectorRef.markForCheck()}toggleFeature(e,i){this.disabled$.next(!0),(0,de.D)([this.featuresConfigService.saveFeatures([{FeatureGuid:e.Guid,Enabled:i}]),(0,ue.H)(100)]).subscribe({error:()=>{this.refreshLicenses$.next()},next:()=>{this.refreshLicenses$.next()}})}buildGridOptions(){const e={cellClass:"no-outline",sortable:!0},i={...e,filter:"agTextColumnFilter"};return{...u.f,columnDefs:[{headerName:"ID",field:"NameId",...i,width:200,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),cellRenderer:S.m,cellRendererParams:{tooltipGetter:g=>g.NameId}},{field:"Name",...i,flex:3,minWidth:250,cellClass:"primary-action highlight".split(" "),onCellClicked:l=>{this.showFeatureDetails(l.data)}},{field:"IsEnabled",headerName:"Enabled",...e,width:80,headerClass:"dense",filter:f.U,cellRenderer:Te},{headerName:"Reason",field:"EnabledReason",...i,flex:1,minWidth:150,cellRenderer:xe},{headerName:"Expiration",field:"ExpMessage",...i,width:120,tooltipValueGetter:l=>l.data?.Expiration},{headerName:"",field:"EnabledInConfiguration",width:62,cellClass:"secondary-action no-outline no-padding".split(" "),pinned:"right",cellRenderer:Ze,cellRendererParams:()=>({isDisabled:g=>!g.IsConfigurable||this.disabled$.value,onToggle:(g,G)=>this.toggleFeature(g,G),tooltipGetter:g=>g.IsConfigurable?"Toggle off | default | on":"This feature can't be configured"})}]}}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(c.F0),t.Y36(c.gz),t.Y36(ge.G),t.Y36(_.uw),t.Y36(t.s_b),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-license-info"]],viewQuery:function(i,o){if(1&i&&t.Gf(W.N8,5),2&i){let l;t.iGM(l=t.CRH())&&(o.gridRef=l.first)}},features:[t.qOj],decls:8,vars:3,consts:[["multi",""],["align","start"],["mat-button","","tippy","Registration",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["panel",""],[1,"panel-icon",3,"tippy"],[1,"panel-title"],[1,"active-features-count"],[1,"panel-description",3,"ngClass"],["class","ag-theme-material","appAgGridHeight","",3,"rowData","gridOptions","itemsCount"],["appAgGridHeight","",1,"ag-theme-material",3,"rowData","gridOptions","itemsCount"]],template:function(i,o){if(1&i&&(t.YNc(0,Se,4,2,"mat-accordion",0),t.ALo(1,"async"),t.TgZ(2,"mat-dialog-actions",1)(3,"button",2),t.NdJ("click",function(){return o.openRegistration()}),t.TgZ(4,"mat-icon",3),t._uU(5,"app_registration"),t.qZA(),t.TgZ(6,"span"),t._uU(7,"Registration"),t.qZA()()()),2&i){let l;t.um2(0,(l=t.lcZ(1,1,o.viewModel$))?0:-1,l)}},dependencies:[T.$,_.H8,k.mk,W.N8,x.lW,y.Hw,Q.pp,Q.ib,Q.yz,Q.yK,Ae,k.Ov,ye,Oe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;padding-top:20px;box-sizing:border-box;position:relative}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px}.mat-expansion-panel-header[_ngcontent-%COMP%]     .mat-content{max-height:100%}.panel-icon[_ngcontent-%COMP%]{margin-right:16px}.panel-title[_ngcontent-%COMP%]{font-size:14px}.active-features-count[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;color:#fff;font-size:12px;border-radius:12px;padding:2px 6px;background-color:#002753;border:1px solid rgba(29,39,61,.44);box-sizing:border-box;-webkit-user-select:none;user-select:none;white-space:nowrap}.panel-description[_ngcontent-%COMP%]{padding-top:4px;font-size:12px;color:#0000008a;overflow:hidden;text-overflow:ellipsis;max-height:1em;line-height:1em}.panel-description.expanded[_ngcontent-%COMP%]{max-height:3em}.eav-button__with-icon[_ngcontent-%COMP%]   .eav-icon[_ngcontent-%COMP%]{font-size:24px;height:24px;width:24px}"]})}return n})();function Me(n,r){1&n&&(t.TgZ(0,"div",13)(1,"mat-icon"),t._uU(2,"settings"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"System"),t.qZA()())}function Le(n,r){if(1&n&&t._UZ(0,"app-system-info",14),2&n){const e=t.oxw();t.Q6J("dialogSettings",e.dialogSettings)}}function Ue(n,r){1&n&&(t.TgZ(0,"div",15)(1,"mat-icon"),t._uU(2,"star_border"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Apps"),t.qZA()())}function Ee(n,r){1&n&&t._UZ(0,"app-apps-list")}function $e(n,r){1&n&&(t.TgZ(0,"div",16)(1,"mat-icon"),t._uU(2,"translate"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Languages"),t.qZA()())}function Pe(n,r){1&n&&t._UZ(0,"app-site-languages")}function Ne(n,r){1&n&&(t.TgZ(0,"div",17)(1,"mat-icon"),t._uU(2,"tune"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Extensions / Features"),t.qZA()())}function ke(n,r){1&n&&t._UZ(0,"app-license-info")}function Re(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeDialog())}),t.TgZ(5,"mat-icon"),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"div",5),t._UZ(8,"router-outlet"),t.TgZ(9,"mat-tab-group",6),t.NdJ("selectedTabChange",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.changeTab(o))}),t.TgZ(10,"mat-tab"),t.YNc(11,Me,5,0,"div",7)(12,Le,1,1,"app-system-info",8),t.qZA(),t.TgZ(13,"mat-tab"),t.YNc(14,Ue,5,0,"div",9)(15,Ee,1,0,"app-apps-list",10),t.qZA(),t.TgZ(16,"mat-tab"),t.YNc(17,$e,5,0,"div",11)(18,Pe,1,0,"app-site-languages",10),t.qZA(),t.TgZ(19,"mat-tab"),t.YNc(20,Ne,5,0,"div",12)(21,ke,1,0,"app-license-info",10),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" Manage Zone ",e.zoneId," "),t.xp6(6),t.Q6J("selectedIndex",r.tabIndex)}}let He=(()=>{class n extends D.H{constructor(e,i,o,l,g){super(e,i),this.router=e,this.route=i,this.dialogRef=o,this.context=l,this.appDialogConfigService=g,this.zoneId=this.context.zoneId,this.dialogSettings$=new p.X(void 0),this.tabs=["system","list","languages","license"]}ngOnInit(){this.fetchDialogSettings(),this.subscription.add(this.refreshOnChildClosedDeep().subscribe(()=>{this.fetchDialogSettings()})),this.viewModel$=(0,h.a)([this.dialogSettings$,this.router.events.pipe((0,b.h)(e=>e instanceof c.m2),(0,a.U)(()=>this.tabs.indexOf(this.route.snapshot.firstChild.url[0].path)),(0,b.h)(e=>e>=0),(0,v.O)(this.tabs.indexOf(this.route.snapshot.firstChild.url[0].path)))]).pipe((0,a.U)(([e,i])=>({dialogSettings:e,tabIndex:i})))}ngOnDestroy(){this.dialogSettings$.complete(),super.ngOnDestroy()}closeDialog(){this.dialogRef.close()}changeTab(e){this.router.navigate([this.tabs[e.index]],{relativeTo:this.route})}fetchDialogSettings(){this.appDialogConfigService.getShared$(0).subscribe(e=>{this.dialogSettings$.next(e)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(c.F0),t.Y36(c.gz),t.Y36(_.so),t.Y36(w._),t.Y36(A.Kw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-apps-management-nav"]],features:[t.qOj],decls:2,vars:3,consts:[["class","eav-dialog nav-component-wrapper eav-no-scrollbar","appToggleDebug",""],["appToggleDebug","",1,"eav-dialog","nav-component-wrapper","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-tab-content","nav-component-wrapper"],["dynamicHeight","","color","accent",1,"mat-mdc-tab-group-max-height",3,"selectedIndex","selectedTabChange"],["class","mat-tab-label-box","tippy","System Info",4,"matTabLabel"],[3,"dialogSettings",4,"matTabContent"],["class","mat-tab-label-box","tippy","Apps",4,"matTabLabel"],[4,"matTabContent"],["class","mat-tab-label-box","tippy","Languages",4,"matTabLabel"],["class","mat-tab-label-box","tippy","Extensions and Features",4,"matTabLabel"],["tippy","System Info",1,"mat-tab-label-box"],[3,"dialogSettings"],["tippy","Apps",1,"mat-tab-label-box"],["tippy","Languages",1,"mat-tab-label-box"],["tippy","Extensions and Features",1,"mat-tab-label-box"]],template:function(i,o){if(1&i&&(t.YNc(0,Re,22,2,"div",0),t.ALo(1,"async")),2&i){let l;t.um2(0,(l=t.lcZ(1,1,o.viewModel$))?0:-1,l)}},dependencies:[c.lC,d.D,T.$,x.RK,y.Hw,U.Vc,U.uD,U.uX,U.SP,St,Lt,ce,Fe,k.Ov]})}return n})()},5331:(Y,Z,s)=>{s.d(Z,{C:()=>c});const c={AppSyncWithSiteFiles:"AppSyncWithSiteFiles",WysiwygPasteFormatted:"WysiwygPasteFormatted",PasteImageFromClipboard:"PasteImageFromClipboard",EditUiShowNotes:"EditUiShowNotes",EditUiShowMetadataFor:"EditUiShowMetadataFor",NoSponsoredByToSic:"NoSponsoredByToSic",EditUiTranslateWithGoogle:"EditUiTranslateWithGoogle",LightSpeed:"LightSpeedOutputCache",ContentSecurityPolicy:"ContentSecurityPolicy",PermissionsByLanguage:"PermissionsByLanguage",FieldShareConfigManagement:"FieldShareConfigManagement"}},9818:(Y,Z,s)=>{s.d(Z,{B:()=>U});var c=s(8968),p=s(8071),h=s(3839),b=s(9736),a=s(9039),v=s(6861),A=s(7648),D=s(6515),w=s(9498),t=s(6575),_=s(1916);function d(C,R){if(1&C){const O=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(O);const N=a.oxw(2);return a.KtG(N.openDialog())}),a.ALo(1,"translate"),a.TgZ(2,"mat-icon"),a._uU(3),a.qZA(),a.TgZ(4,"div",3)(5,"div",4),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.TgZ(8,"div",5),a._uU(9),a.ALo(10,"translate"),a.qZA()()()}if(2&C){const O=a.oxw();a.Q6J("tippy",a.xi3(1,7,"Features.Tooltip",O.feature)),a.xp6(2),a.Gre("icon icon-",O.icon,""),a.xp6(1),a.Oqu(O.icon),a.xp6(3),a.Oqu(a.lcZ(7,10,"Features.FeatureNotActivated")),a.xp6(3),a.Oqu(a.lcZ(10,12,"Features.ClickToFindOutMore"))}}function T(C,R){1&C&&a.YNc(0,d,11,14,"div",1),2&C&&a.um2(0,R.show?0:-1)}function x(C,R){1&C&&(a.TgZ(0,"div"),a._uU(1,"loading..."),a.qZA())}function y(C,R){1&C&&(a.TgZ(0,"div"),a._uU(1,"loading..."),a.qZA())}let U=(()=>{class C extends c.B{set asInfo(O){this.asInfo$.next(O)}constructor(O,M,N,E){super(O,M,E,N),this.asInfo$=new p.X(!1),this.viewModel$=(0,h.a)([this.feature$,this.asInfo$,this.show$]).pipe((0,b.U)(([f,S,u])=>({feature:f,icon:S?"info":"warning",show:u})))}static#t=this.\u0275fac=function(M){return new(M||C)(a.Y36(v.uw),a.Y36(a.s_b),a.Y36(A.k),a.Y36(a.sBO))};static#e=this.\u0275cmp=a.Xpm({type:C,selectors:[["app-feature-text-info"]],inputs:{asInfo:"asInfo"},features:[a.qOj],decls:5,vars:3,consts:[["loading",""],["class","feature-text-info",3,"tippy"],[1,"feature-text-info",3,"tippy","click"],[1,"feature-text-info-content"],[1,"feature-text-info-title"],[1,"feature-text-info-subtitle"]],template:function(M,N){if(1&M&&(a.YNc(0,T,1,1),a.ALo(1,"async"),a.YNc(2,x,2,0)(3,y,2,0,"ng-template",null,0,a.W1O)),2&M){let E;a.um2(0,(E=a.lcZ(1,1,N.viewModel$))?0:2,E)}},dependencies:[D.Hw,w.$,t.Ov,_.X$],styles:[".feature-text-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;cursor:pointer;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;padding:5px;margin-bottom:10px}.feature-text-info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-left:10px}.feature-text-info-title[_ngcontent-%COMP%]{font-size:large}.feature-text-info-subtitle[_ngcontent-%COMP%]{font-size:medium}.icon[_ngcontent-%COMP%]{font-size:45px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.icon-warning[_ngcontent-%COMP%]{color:red}"]})}return C})()},8968:(Y,Z,s)=>{s.d(Z,{B:()=>E});var c=s(6861),p=s(3839),h=s(9736),b=s(4472),a=s(9039),v=s(9409),A=s(8737),D=s(895),w=s(6515),t=s(8497),_=s(9498),d=s(6575),T=s(6537),x=s(1916);function y(f,S){if(1&f){const u=a.EpF();a.TgZ(0,"div",1)(1,"div",2),a._uU(2,"ID:"),a.qZA(),a.TgZ(3,"div",8)(4,"span",9),a.NdJ("click",function(){const F=a.CHM(u),$=a.oxw(2);return a.KtG($.copyToClipboard(F))}),a._uU(5),a.qZA()()()}2&f&&(a.xp6(4),a.Q6J("tippy",S),a.xp6(1),a.Oqu(S))}function U(f,S){if(1&f){const u=a.EpF();a.TgZ(0,"button",10),a.NdJ("click",function(){const F=a.CHM(u),$=a.oxw(2);return a.KtG($.findOutMore(F))}),a.TgZ(1,"mat-icon"),a._uU(2,"open_in_new"),a.qZA(),a._uU(3),a.ALo(4,"translate"),a.qZA()}2&f&&(a.xp6(3),a.hij(" ",a.lcZ(4,1,"Features.FindOutMore")," "))}function C(f,S){if(1&f){const u=a.EpF();a.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),a._uU(3),a.qZA()(),a.TgZ(4,"mat-card-content"),a._UZ(5,"p",0),a.ALo(6,"safeHtml"),a.TgZ(7,"div",1)(8,"div",2),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.TgZ(11,"div",3)(12,"span"),a._uU(13),a.ALo(14,"translate"),a.qZA()()(),a.YNc(15,y,6,2,"div",4),a.qZA(),a.TgZ(16,"mat-card-actions",5),a.YNc(17,U,5,3,"button",6),a.TgZ(18,"button",7),a.NdJ("click",function(){a.CHM(u);const L=a.oxw();return a.KtG(L.closeDialog())}),a._uU(19),a.ALo(20,"translate"),a.qZA()()()}if(2&f){let u;a.xp6(3),a.Oqu(S.feature.Name),a.xp6(2),a.Q6J("innerHtml",a.lcZ(6,7,S.feature.Description),a.oJD),a.xp6(4),a.hij("",a.lcZ(10,9,"Features.Status"),":"),a.xp6(4),a.Oqu(a.lcZ(14,11,S.feature.IsEnabled?"Features.Active":"Features.NotActive")),a.xp6(2),a.um2(15,(u=S.feature.NameId)?15:-1,u),a.xp6(2),a.um2(17,(u=S.feature.Link)?17:-1,u),a.xp6(2),a.hij(" ",a.lcZ(20,13,"Features.Close")," ")}}let R=(()=>{class f{constructor(u,I,L,F){this.dialogData=u,this.dialogRef=I,this.snackBar=L,this.featureDetailService=F}ngOnInit(){this.viewModel$=(0,p.a)([this.featureDetailService.getFeatureDetails(this.dialogData)]).pipe((0,h.U)(([u])=>({feature:u})))}copyToClipboard(u){(0,b.v)(u),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}findOutMore(u){window.open(u,"_blank")}closeDialog(){this.dialogRef.close()}static#t=this.\u0275fac=function(I){return new(I||f)(a.Y36(c.WI),a.Y36(c.so),a.Y36(v.ux),a.Y36(A.f))};static#e=this.\u0275cmp=a.Xpm({type:f,selectors:[["app-feature-info-dialog"]],decls:2,vars:3,consts:[[3,"innerHtml"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],["class","eav-info-row"],["align","end"],["mat-raised-button","","color","accent","class","eav-card-action-button"],["mat-raised-button","",1,"eav-card-action-button",3,"click"],[1,"eav-info-row__value","eav_click"],[3,"tippy","click"],["mat-raised-button","","color","accent",1,"eav-card-action-button",3,"click"]],template:function(I,L){if(1&I&&(a.YNc(0,C,21,15,"mat-card"),a.ALo(1,"async")),2&I){let F;a.um2(0,(F=a.lcZ(1,1,L.viewModel$))?0:-1,F)}},dependencies:[D.lW,w.Hw,t.a8,t.hq,t.dn,t.dk,t.n5,_.$,d.Ov,T.z,x.X$]})}return f})();var O=s(8071),M=s(1891),N=s(7648);let E=(()=>{class f{set featureNameId(u){this.featureNameId$.next(u)}set showIf(u){this.showIf$.next(1==u)}constructor(u,I,L,F){this.dialog=u,this.viewContainerRef=I,this.changeDetectorRef=L,this.featuresService=F,this.featureNameId$=new O.X(null),this.showIf$=new O.X(!1),this.feature$=this.featureNameId$.pipe((0,M.w)($=>this.featuresService.get$($))),this.show$=(0,p.a)([this.feature$,this.showIf$]).pipe((0,h.U)(([$,K])=>K==($?.IsEnabled??!1)))}openDialog(){f.openDialog(this.dialog,this.featureNameId$.value,this.viewContainerRef,this.changeDetectorRef)}static openDialog(u,I,L,F){u.open(R,{autoFocus:!1,data:I,viewContainerRef:L,width:"400px"}),F.markForCheck()}static#t=this.\u0275fac=function(I){return new(I||f)(a.Y36(c.uw),a.Y36(a.s_b),a.Y36(a.sBO),a.Y36(N.k))};static#e=this.\u0275dir=a.lG2({type:f,inputs:{featureNameId:"featureNameId",showIf:"showIf"}})}return f})()},6041:(Y,Z,s)=>{s.d(Z,{H:()=>D});var c=s(91),p=s(4520),h=s(5043),b=s(9736),a=s(9422),v=s(9097),A=s(9039);let D=(()=>{class w extends v.f{constructor(_,d){super(),this.router=_,this.route=d}ngOnDestroy(){super.ngOnDestroy()}refreshOnChildClosedDeep(){return this.router.events.pipe((0,p.h)(_=>_ instanceof c.m2),(0,h.O)(!!this.route.snapshot.firstChild.firstChild),(0,b.U)(()=>!!this.route.snapshot.firstChild.firstChild),(0,a.G)(),(0,p.h)(([_,d])=>_&&!d))}refreshOnChildClosedShallow(){return this.router.events.pipe((0,p.h)(_=>_ instanceof c.m2),(0,h.O)(!!this.route.snapshot.firstChild),(0,b.U)(()=>!!this.route.snapshot.firstChild),(0,a.G)(),(0,p.h)(([_,d])=>_&&!d))}static#t=this.\u0275fac=function(d){return new(d||w)(A.Y36(c.F0),A.Y36(c.gz))};static#e=this.\u0275dir=A.lG2({type:w,features:[A.qOj]})}return w})()},9851:(Y,Z,s)=>{s.d(Z,{Y:()=>_});var c=s(9039),p=s(6575),h=s(1268);function b(d,T){1&d&&c.GkF(0)}function a(d,T){if(1&d&&(c.TgZ(0,"mat-hint"),c.YNc(1,b,1,0,"ng-container",2),c.qZA()),2&d){c.oxw();const x=c.MAs(4);c.xp6(1),c.Q6J("ngTemplateOutlet",x)}}function v(d,T){1&d&&c.GkF(0)}function A(d,T){if(1&d&&(c.TgZ(0,"mat-error"),c.YNc(1,v,1,0,"ng-container",2),c.qZA()),2&d){c.oxw();const x=c.MAs(4);c.xp6(1),c.Q6J("ngTemplateOutlet",x)}}function D(d,T){1&d&&c.Hsn(0)}const w=d=>({"hint-box__short":d}),t=["*"];let _=(()=>{class d{constructor(){this.isError=!1,this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}static#t=this.\u0275fac=function(y){return new(y||d)};static#e=this.\u0275cmp=c.Xpm({type:d,selectors:[["app-field-hint"]],inputs:{isError:"isError"},ngContentSelectors:t,decls:5,vars:4,consts:[[1,"hint-box",3,"ngClass","click"],["content",""],[4,"ngTemplateOutlet"]],template:function(y,U){if(1&y&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(){return U.toggleIsShort()}),c.YNc(1,a,2,1)(2,A,2,1),c.qZA(),c.YNc(3,D,1,0,"ng-template",null,1,c.W1O)),2&y){let C;c.Q6J("ngClass",c.VKq(2,w,U.isShort)),c.xp6(1),c.um2(1,!1===(C=U.isError)?1:!0===C?2:-1)}},dependencies:[p.mk,p.tP,h.bx,h.TO],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return d})()},5253:(Y,Z,s)=>{s.d(Z,{m:()=>w});var c=s(4472),p=s(9039),h=s(9409),b=s(6575),a=s(257),v=s(6515),A=s(9498);const D=(t,_)=>({"align-start":t,"align-end":_});let w=(()=>{class t{constructor(d){this.snackBar=d}agInit(d){this.id=d.value,this.align="number"==typeof this.id?"end":"start",this.tooltip=d.tooltipGetter(d.data)}refresh(d){return!0}copy(){(0,c.v)(this.tooltip),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}static#t=this.\u0275fac=function(T){return new(T||t)(p.Y36(h.ux))};static#e=this.\u0275cmp=p.Xpm({type:t,selectors:[["app-id-field"]],decls:5,vars:6,consts:[["matRipple","",1,"id-box","highlight",3,"tippy","ngClass","click"],[1,"id"],[1,"icon"]],template:function(T,x){1&T&&(p.TgZ(0,"div",0),p.NdJ("click",function(){return x.copy()}),p.TgZ(1,"span",1),p._uU(2),p.qZA(),p.TgZ(3,"mat-icon",2),p._uU(4,"file_copy"),p.qZA()()),2&T&&(p.Q6J("tippy",x.tooltip)("ngClass",p.WLB(3,D,"start"===x.align,"end"===x.align)),p.xp6(2),p.Oqu(x.id))},dependencies:[b.mk,a.wG,v.Hw,A.$],styles:[".id-box[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.id-box.align-start[_ngcontent-%COMP%]{justify-content:flex-start}.id-box.align-end[_ngcontent-%COMP%]{justify-content:flex-end}.id-box[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{max-width:100%;text-overflow:ellipsis;overflow:hidden}.id-box[_ngcontent-%COMP%]:hover{text-decoration:none}.id-box[_ngcontent-%COMP%]:hover   .id[_ngcontent-%COMP%]{display:none}.id-box[_ngcontent-%COMP%]:not(:hover)   .icon[_ngcontent-%COMP%]{display:none}"]})}return t})()},6433:(Y,Z,s)=>{s.d(Z,{f:()=>c});const c={accentedSort:!0,animateRows:!0,enableCellTextSelection:!0,headerHeight:32,suppressScrollOnNewData:!0,valueCache:!0,defaultColDef:{filterParams:{newRowsAction:"keep"}},tooltipShowDelay:0,tooltipHideDelay:1e5,suppressMovableColumns:!0}},40:(Y,Z,s)=>{s.d(Z,{D:()=>h});var c=s(716),p=s(9039);let h=(()=>{class b{constructor(v){this.globalConfigService=v}onClick(v){(navigator.platform.match("Mac")?v.metaKey:v.ctrlKey)&&v.shiftKey&&v.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}static#t=this.\u0275fac=function(A){return new(A||b)(p.Y36(c.bE))};static#e=this.\u0275dir=p.lG2({type:b,selectors:[["","appToggleDebug",""]],hostBindings:function(A,D){1&A&&p.NdJ("click",function(t){return D.onClick(t)})}})}return b})()},4472:(Y,Z,s)=>{function c(p){const h=document.createElement("textarea");h.value=p,h.setAttribute("readonly",""),h.style.position="absolute",h.style.left="-9999px",document.body.appendChild(h);const b=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);h.select(),document.execCommand("copy"),document.body.removeChild(h),b&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(b))}s.d(Z,{v:()=>c})}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.01.05/dist/ng-edit/projects_eav-ui_src_app_apps-management_apps-management-nav_apps-management-nav_component_ts.c8c94058a1803f67.js.map