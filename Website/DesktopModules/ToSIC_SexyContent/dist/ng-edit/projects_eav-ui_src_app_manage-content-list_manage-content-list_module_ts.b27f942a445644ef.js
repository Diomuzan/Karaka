"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_manage-content-list_manage-content-list_module_ts","projects_eav-ui_src_app_import-app_services_import-app_service_ts-projects_eav-ui_src_app_sha-1ab7ba","projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts","projects_eav-ui_src_app_app-administration_services_app-dialog-config_service_ts-_86580","projects_eav-ui_src_app_app-administration_services_app-dialog-config_service_ts-_86581"],{9731:(u,h,t)=>{t.d(h,{K:()=>e});var d=t(1650),l=t(9736),s=t(3738),g=t(716),r=t(2611),o=t(9039),a=t(4860),m=t(6232),i=t(7648);let e=(()=>{class p{constructor(_,c,v,M,C){this.http=_,this.context=c,this.dnnContext=v,this.globalConfigService=M,this.dialogSettings$={},C.loadFromService(this)}getShared$(_){return _??=this.context.appId,this.dialogSettings$[_]||(this.dialogSettings$[_]=this.getDialogSettings(_).pipe((0,d.d)({refCount:!1}))),this.dialogSettings$[_]}getDialogSettings(_){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/dialog/settings"),{params:{appId:_??this.context.appId.toString()}}).pipe((0,l.U)(c=>(c.Context.Language.List=c.Context.Language.List.filter(v=>v.IsEnabled),c)),(0,s.b)(c=>{this.globalConfigService.allowDebug(c.Context.Enable.DebugMode)}))}static#t=this.\u0275fac=function(c){return new(c||p)(o.LFG(a.eN),o.LFG(r._),o.LFG(m._y),o.LFG(g.bE),o.LFG(i.k))};static#n=this.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac})}return p})()},5530:(u,h,t)=>{t.d(h,{_:()=>o,s:()=>a});var d=t(9736),l=t(2611),s=t(9039),g=t(4860),r=t(6232);const o="admin/type/";let a=(()=>{class m{constructor(n,e,p){this.http=n,this.context=e,this.dnnContext=p}apiUrl(n){return this.dnnContext.$2sxc.http.apiUrl(n)}retrieveContentType(n){return this.http.get(this.apiUrl(o+"get"),{params:{appId:this.context.appId.toString(),contentTypeId:n}})}retrieveContentTypes(n){return this.http.get(this.apiUrl(o+"list"),{params:{appId:this.context.appId.toString(),scope:n}})}getScopes(){return this.http.get(this.apiUrl(o+"scopes"),{params:{appId:this.context.appId.toString()}}).pipe((0,d.U)(n=>Object.keys(n).map(p=>({name:n[p],value:p}))))}save(n){return this.http.post(this.apiUrl(o+"save"),n,{params:{appid:this.context.appId.toString()}})}delete(n){return this.http.delete(this.apiUrl(o+"delete"),{params:{appid:this.context.appId.toString(),staticName:n.StaticName}})}import(n){const e=new FormData;for(const p of n)e.append("File",p);return this.http.post(this.apiUrl(o+"import"),e,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(n){return this.http.post(this.apiUrl(o+"addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:n}})}static#t=this.\u0275fac=function(e){return new(e||m)(s.LFG(g.eN),s.LFG(l._),s.LFG(r._y))};static#n=this.\u0275prov=s.Yz7({token:m,factory:m.\u0275fac})}return m})()},2369:(u,h,t)=>{t.d(h,{T:()=>o});var d=t(2611),l=t(3379),s=t(9039),g=t(4860),r=t(6232);let o=(()=>{class a{constructor(i,n,e){this.http=i,this.context=n,this.dnnContext=e}getContentInfo(i){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(l.v+"Get"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),scope:i}})}exportParts(i,n,e){const p=this.dnnContext.$2sxc.http.apiUrl(l.v+"Export")+"?appId="+this.context.appId.toString()+"&zoneId="+this.context.zoneId.toString()+"&contentTypeIdsString="+i.join(";")+"&entityIdsString="+n.join(";")+"&templateIdsString="+e.join(";");window.open(p,"_blank","")}static#t=this.\u0275fac=function(n){return new(n||a)(s.LFG(g.eN),s.LFG(d._),s.LFG(r._y))};static#n=this.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac})}return a})()},2091:(u,h,t)=>{t.d(h,{v:()=>o});var d=t(4173),l=t(2611),s=t(9039),g=t(4860),r=t(6232);let o=(()=>{class a{constructor(i,n,e){this.http=i,this.context=n,this.dnnContext=e}getAppInfo(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(d.H+"Statistics"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}exportApp(i,n){const e=this.dnnContext.$2sxc.http.apiUrl(d.H+"Export")+"?appId="+this.context.appId+"&zoneId="+this.context.zoneId+"&includeContentGroups="+i+"&resetAppGuid="+n;window.open(e,"_blank","")}exportForVersionControl({includeContentGroups:i,resetAppGuid:n,withFiles:e}){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(d.H+"SaveData"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),includeContentGroups:i.toString(),resetAppGuid:n.toString(),withPortalFiles:e.toString()}})}static#t=this.\u0275fac=function(n){return new(n||a)(s.LFG(g.eN),s.LFG(l._),s.LFG(r._y))};static#n=this.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac})}return a})()},3379:(u,h,t)=>{t.d(h,{v:()=>o,z:()=>a});var d=t(4173),l=t(2611),s=t(9039),g=t(4860),r=t(6232);const o="admin/appParts/";let a=(()=>{class m{constructor(n,e,p){this.http=n,this.context=e,this.dnnContext=p}importAppParts(n){const e=new FormData;return e.append("File",n),this.http.post(this.dnnContext.$2sxc.http.apiUrl(o+"Import"),e,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}resetApp(n){return this.http.post(this.dnnContext.$2sxc.http.apiUrl(d.H+"Reset"),{},{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),withPortalFiles:n.toString()}})}static#t=this.\u0275fac=function(e){return new(e||m)(s.LFG(g.eN),s.LFG(l._),s.LFG(r._y))};static#n=this.\u0275prov=s.Yz7({token:m,factory:m.\u0275fac})}return m})()},1217:(u,h,t)=>{t.d(h,{Az:()=>o.Az,Kw:()=>d.K,TB:()=>o.TB,bf:()=>o.bf,cv:()=>o.cv,h3:()=>a.h,nt:()=>o.nt,sF:()=>l.s,vG:()=>o.vG});var d=t(9731),l=t(5530),o=(t(2369),t(2091),t(3379),t(7749)),a=t(6992)},7749:(u,h,t)=>{t.d(h,{Az:()=>_,TB:()=>v,bf:()=>M,cv:()=>D,nt:()=>c,vG:()=>C});var d=t(6253),l=t(1891),s=t(9736),g=t(8953),r=t(237),o=t(2611),a=t(9039),m=t(4860),i=t(6232);const D="admin/query/Run",_="admin/query/DebugStream",c="admin/query/Save",v="admin/query/Get",M="admin/query/DataSources";let C=(()=>{class I{constructor(x,P,O){this.http=x,this.context=P,this.dnnContext=O}getAll(x){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(g.PS),{params:{appId:this.context.appId.toString(),contentType:x}})}importQuery(x){return(0,d.D)((0,r.s)(x)).pipe((0,l.w)(P=>this.http.post(this.dnnContext.$2sxc.http.apiUrl("admin/query/import"),{AppId:this.context.appId.toString(),ContentBase64:P})),(0,s.U)(P=>({Success:P,Messages:[]})))}clonePipeline(x){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/query/Clone"),{params:{Id:x.toString(),appId:this.context.appId.toString()}})}delete(x){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl("admin/query/Delete"),{params:{appId:this.context.appId.toString(),Id:x.toString()}})}static#t=this.\u0275fac=function(P){return new(P||I)(a.LFG(m.eN),a.LFG(o._),a.LFG(i._y))};static#n=this.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac})}return I})()},6992:(u,h,t)=>{t.d(h,{h:()=>e});var d=t(2611),l=t(9039),s=t(4860),g=t(6232);const r="admin/view/",o=r+"all",a=r+"delete",m=r+"import",i=r+"polymorphism",n=r+"usage";let e=(()=>{class p{constructor(_,c,v){this.http=_,this.context=c,this.dnnContext=v}getAll(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(o),{params:{appId:this.context.appId.toString()}})}delete(_){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(a),{params:{appId:this.context.appId.toString(),Id:_.toString()}})}import(_){const c=new FormData;return c.append("File",_),this.http.post(this.dnnContext.$2sxc.http.apiUrl(m),c,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}export(_){const c=this.dnnContext.$2sxc.http.apiUrl(r+"json")+"?appId="+this.context.appId+"&viewId="+_;window.open(c,"_blank","")}getPolymorphism(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(i),{params:{appId:this.context.appId.toString()}})}getUsage(_){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(n),{params:{appId:this.context.appId.toString(),guid:_}})}static#t=this.\u0275fac=function(c){return new(c||p)(l.LFG(s.eN),l.LFG(d._),l.LFG(g._y))};static#n=this.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac})}return p})()},4173:(u,h,t)=>{t.d(h,{H:()=>m,a:()=>i});var d=t(1891),l=t(4980),s=t(7503),g=t(2611),r=t(9039),o=t(4860),a=t(6232);const m="admin/app/";let i=(()=>{class n{constructor(p,D,_){this.http=p,this.context=D,this.dnnContext=_}importApp(p,D,_=!1){const c=new FormData;return c.append("File",p),c.append("Name",D??""),this.http.post(this.dnnContext.$2sxc.http.apiUrl(m+"Import"),c,{params:{zoneId:this.context.zoneId.toString()}}).pipe((0,d.w)(v=>{if(_&&v.Messages[0]?.MessageType===s.DS.Warning){const M=prompt(v.Messages[0].Text+" Would you like to install it using another folder name?");if(M)return this.importApp(p,M,!0)}return(0,l.of)(v)}))}static#t=this.\u0275fac=function(D){return new(D||n)(r.LFG(o.eN),r.LFG(g._),r.LFG(a._y))};static#n=this.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac})}return n})()},5828:(u,h,t)=>{t.r(h),t.d(h,{ManageContentListModule:()=>O});var d=t(1916),l=t(3989),s=t(6575),g=t(895),r=t(6861),o=t(6515),a=t(9409),m=t(2611),i=t(7138),n=t(91),e=t(8226),p=t(891),D=t(1670);const _={name:"MANAGE_CONTENT_LIST_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,D.Z)(function*(){const{ManageContentListComponent:E}=yield Promise.all([t.e("common"),t.e("projects_eav-ui_src_app_manage-content-list_manage-content-list_component_ts")]).then(t.bind(t,5546));return E})()};var c=t(9039);const v=[{path:"",component:p.r,data:{dialog:_},children:[{matcher:e.eP,loadChildren:()=>Promise.all([t.e("default-projects_eav-ui_src_app_create-file-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_list_mjs"),t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("default-node_modules_angular_material_fesm2022_card_mjs"),t.e("default-projects_eav-ui_src_app_edit_edit_module_ts"),t.e("default-node_modules_angular_material_fesm2022_menu_mjs"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_content-items_services_entities_service_ts-projects_eav-ui_src_app_fe-8179d0")]).then(t.bind(t,152)).then(E=>E.EditModule)},{matcher:e.lZ,loadChildren:()=>t.e("projects_eav-ui_src_app_edit_refresh-edit_module_ts").then(t.bind(t,9703)).then(E=>E.RefreshEditModule)},{path:":guid/:part/:index/replace",loadChildren:()=>Promise.all([t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("common")]).then(t.bind(t,2078)).then(E=>E.ReplaceContentModule)}]}];let M=(()=>{class E{static#t=this.\u0275fac=function(f){return new(f||E)};static#n=this.\u0275mod=c.oAB({type:E});static#o=this.\u0275inj=c.cJS({imports:[n.Bz.forChild(v),n.Bz]})}return E})();var C=t(712),I=t(3739),A=t(8953),x=t(1217),P=t(5020);let O=(()=>{class E{static#t=this.\u0275fac=function(f){return new(f||E)};static#n=this.\u0275mod=c.oAB({type:E});static#o=this.\u0275inj=c.cJS({providers:[m._,C.e,A.WV,x.Kw],imports:[s.ez,M,i.q,r.Is,g.ot,o.Ps,l._t,a.ZX,d.aw.forChild((0,I.f)(P.W))]})}return E})()},891:(u,h,t)=>{t.d(h,{r:()=>o});var d=t(1766),l=t(2611),s=t(9039),g=t(6861),r=t(91);let o=(()=>{class a{constructor(i,n,e,p,D,_){this.dialog=i,this.viewContainerRef=n,this.router=e,this.route=p,this.context=D,this.changeDetectorRef=_;const c=this.router.getCurrentNavigation();this.dialogData=c?.extras?.state||{}}ngOnInit(){const i=this.route.snapshot.data.dialog;if(null==i)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");(0,d.P)("Open dialog:",i.name,"Context id:",this.context.id,"Context:",this.context),i.getComponent().then(n=>{this.dialog._dialogAnimatingOpen&&this.dialog._lastDialogRef?this.dialog._lastDialogRef.afterOpened().subscribe(()=>{this.openDialogComponent(i,n)}):this.openDialogComponent(i,n)})}ngOnDestroy(){this.dialogRef.close()}openDialogComponent(i,n){i.initContext&&this.context.init(this.route),this.dialogRef=this.dialog.open(n,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.dialogData,panelClass:["dialog-panel",`dialog-panel-${i.panelSize}`,i.showScrollbar?"show-scrollbar":"no-scrollbar",...i.panelClass?i.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.dialogRef.afterClosed().subscribe(e=>{(0,d.P)("Dialog was closed:",i.name,"Data:",e);const p=e;if(null==p?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:e}:{relativeTo:this.route.parent.parent,state:e});else this.router.navigate([p.navigateUrl])}),this.changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(n){return new(n||a)(s.Y36(g.uw),s.Y36(s.s_b),s.Y36(r.F0),s.Y36(r.gz),s.Y36(l._),s.Y36(s.sBO))};static#n=this.\u0275cmp=s.Xpm({type:a,selectors:[["app-dialog-entry"]],decls:0,vars:0,template:function(n,e){}})}return a})()},237:(u,h,t)=>{function d(s){return new Promise((g,r)=>{const o=new FileReader;o.readAsDataURL(s),o.onload=()=>{g(o.result.split(",")[1])},o.onerror=a=>{r(a)}})}function l(s){return new Promise((g,r)=>{const o=new FileReader;o.readAsText(s),o.onload=()=>{g(o.result)},o.onerror=a=>{r(a)}})}t.d(h,{B:()=>l,s:()=>d})},3739:(u,h,t)=>{t.d(h,{f:()=>s});var d=t(4860),l=t(1916);function s(g){return{loader:{provide:l.Zw,useFactory:g,deps:[d.eN]},defaultLanguage:"en",isolate:!0}}},5020:(u,h,t)=>{t.d(h,{W:()=>l});var d=t(8206);function l(s){return new d.M(s,"./i18n/",`.js?${window.sxcVersion}`)}},8206:(u,h,t)=>{t.d(h,{M:()=>s});var d=t(2389),l=t(4980);class s{constructor(r,o,a){this.http=r,this.prefix=o,this.suffix=a}getTranslation(r){return this.http.get(`${this.prefix}${r}${this.suffix}`).pipe((0,d.K)(o=>(console.warn(`Translation: Failed to get language '${r}' from ${this.prefix}`,o),(0,l.of)({}))))}}}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.01.05/dist/ng-edit/projects_eav-ui_src_app_manage-content-list_manage-content-list_module_ts.b27f942a445644ef.js.map